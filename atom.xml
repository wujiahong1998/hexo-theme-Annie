<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Victor&#39;s BLOCK</title>
  
  <subtitle>Victor&#39;s Home</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jiahong.cf/"/>
  <updated>2020-02-07T06:53:27.289Z</updated>
  <id>http://jiahong.cf/</id>
  
  <author>
    <name>Victor Hong</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>C++深入学习(一)</title>
    <link href="http://jiahong.cf/posts/5e3c2425.html"/>
    <id>http://jiahong.cf/posts/5e3c2425.html</id>
    <published>2020-02-05T15:32:38.000Z</published>
    <updated>2020-02-07T06:53:27.289Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205234759.png" alt></p><p>​                                                Escape or face . 要么逃避,要么就面对——《绝命毒师》</p><a id="more"></a><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="声明与定义的关系"><a href="#声明与定义的关系" class="headerlink" title="声明与定义的关系"></a>声明与定义的关系</h3><blockquote><p>为了支持分离式编译，C++语言将声明和定义区分开来。</p></blockquote><p><strong>声明</strong>使得名字为程序所知，<strong>定义</strong>负责创建与名字关联的实体。</p><p>简单的代码如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> i;<span class="comment">//声明i而非定义i</span></span><br><span class="line"><span class="keyword">int</span> j;<span class="comment">//定义j</span></span><br></pre></td></tr></table></figure><p>任何包含显示初始化定义的声明都将成为定义，例如:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">double</span> pi = <span class="number">3.1415922</span>;</span><br></pre></td></tr></table></figure><div class="note info"><p>变量只能被定义一次，但是可以被多次声明。</p></div><h3 id="C-关键字"><a href="#C-关键字" class="headerlink" title="C++关键字"></a>C++关键字</h3><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>asm</td><td>do</td><td>if</td><td>return</td><td>typedef</td></tr><tr><td>auto</td><td>double</td><td>inline</td><td>short</td><td>typeid</td></tr><tr><td>bool</td><td>dynamic_cast</td><td>int</td><td>signed</td><td>typename</td></tr><tr><td>break</td><td>else</td><td>long</td><td>sizeof</td><td>union</td></tr><tr><td>case</td><td>enum</td><td>mutable</td><td>static</td><td>unsigned</td></tr><tr><td>catch</td><td>explicit</td><td>namespace</td><td>static_cast</td><td>using</td></tr><tr><td>char</td><td>export</td><td>new</td><td>struct</td><td>virtual</td></tr><tr><td>class</td><td>extern</td><td>operator</td><td>switch</td><td>void</td></tr><tr><td>const</td><td>false</td><td>private</td><td>template</td><td>volatile</td></tr><tr><td>const_cast</td><td>float</td><td>protected</td><td>this</td><td>wchar_t</td></tr><tr><td>continue</td><td>for</td><td>public</td><td>throw</td><td>while</td></tr><tr><td>default</td><td>friend</td><td>register</td><td>true</td><td></td></tr><tr><td>delete</td><td>goto</td><td>reinterpret_cast</td><td>try</td></tr></tbody></table><p><a href="https://blog.csdn.net/u010168781/article/details/100526303" class="LinkCard" target="_blank" rel="noopener">C++11新增关键字详解</a></p><h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>C++作用域大多数以花括号分隔。分为<code>局部作用域</code>和<code>全局作用域</code>。</p><p><strong>嵌套的作用域</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">42</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">56</span>;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">46</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"i = "</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span></span><br><span class="line">         &lt;&lt; <span class="string">"j = "</span> &lt;&lt; j &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// 访问全局变量使用::符号</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"global i = "</span> &lt;&lt; ::i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果如下，i在局部若有定义赋值则会使用局部作用域下的变量，而j只在局部定义只能选择局部变量。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CMD"><figure class="iseeu highlight /cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">56</span></span><br><span class="line">j = <span class="number">46</span></span><br><span class="line">global i = <span class="number">42</span></span><br></pre></td></tr></table></figure></div><h3 id="空指针"><a href="#空指针" class="headerlink" title="空指针"></a>空指针</h3><p>在新标准下，现在的C++程序最好使用<code>nullptr</code>作为空指针，尽量避免<code>NULL</code>。下面三条语句等价。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p1 = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="keyword">int</span> *p2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *p3 = <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure><h2 id="文件输入输出"><a href="#文件输入输出" class="headerlink" title="文件输入输出"></a>文件输入输出</h2><p>对于文件输入，C++使用类似于cout的东西。下面来复习一些有关将cout用于控制台输出的基本事实，为文件输出做准备。</p><ul><li>必须包含头文件iostream。</li><li>头文件iostream定义了一个用处理输出的ostream类。</li><li>头文件iostream声明了一个名为cout的ostream变量（对象）。</li><li>必须指明名称空间std；例如，为引用元素cout和endl，必须使用编译指令using或前缀std::。</li><li>可以结合使用cout和运算符&lt;&lt;来显示各种类型的数据。</li></ul><p>文件输出与此极其相似。</p><ul><li>必须包含头文件fstream。</li><li>头文件fstream定义了一个用于处理输出的ofstream类。</li><li>需要声明一个或多个ofstream变量（对象），并以自己喜欢的方式对其进行命名，条件是遵守常用的命名规则。</li><li>必须指明名称空间std；例如，为引用元素ofstream，必须使用编译指令using或前缀std::。</li><li>需要将ofstream对象与文件关联起来。为此，方法之一是使用open( )方法。</li><li>使用完文件后，应使用方法close( )将其关闭。</li><li>可结合使用ofstream对象和运算符&lt;&lt;来输出各种类型的数据。</li></ul><p>:anchor:声明</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/blog/NeatReader-1581006012924.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/blog/NeatReader-1581006538123.png" alt></p><p>:anchor:与特定的文件关联起来：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/blog/NeatReader-1581006081236.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/blog/NeatReader-1581006568579.png" alt></p><p>:anchor:使用对象</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/blog/NeatReader-1581006111979.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/blog/NeatReader-1581006573012.png" alt></p><h2 id="函数指针"><a href="#函数指针" class="headerlink" title="函数指针"></a>函数指针</h2><blockquote><p>与数据项相似，函数也有地址。函数的地址是存储其机器语言代码的内存的开始地址。通常，这些地址对用户而言，既不重要，也没有什么用处，但对程序而言，却很有用。例如，可以编写将另一个函数的地址作为参数的函数。这样第一个函数将能够找到第二个函数，并运行它。与直接调用另一个函数相比，这种方法很笨拙，但它允许在不同的时间传递不同函数的地址，这意味着可以在不同的时间使用不同的函数。</p></blockquote><p>:one: 获取函数的地址</p><p>函数的地址就是函数的名称，例如下面函数的地址为<code>getNum</code>.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNum</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>:two:声明函数指针</p><p>声明指向某种数据类型的指针时，必须指定指针指向的类型。同样，声明指向函数的指针时，也必须指定指针指向的函数类型。这意味着声明应指定函数的返回类型以及函数的特征标（参数列表）。也就是说，声明应像函数原型那样指出有关函数的信息。例如上面的函数<code>getNum(int n)</code>正确的声明为:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> (*pf)(<span class="keyword">int</span>);<span class="comment">//just like int getNum(int n)</span></span><br></pre></td></tr></table></figure><p>这与getNum( )声明类似，这是将getNum替换为了<code>（*pf）</code>。由于getNum()是函数，因此<code>（*pf）</code>也是函数。而如果<code>（*pf）</code>是函数，则<code>pf</code>就是函数指针</p><p>:three:使用指针来调用函数</p><p>下面两种方式都认可。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = (*pf)(<span class="number">6</span>);</span><br><span class="line"><span class="keyword">int</span> b = pf(<span class="number">6</span>);</span><br></pre></td></tr></table></figure><p>:four:使用typedef进行简化</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">const</span> <span class="keyword">double</span> *(*p_fun)(<span class="keyword">const</span> <span class="keyword">double</span> *,<span class="keyword">int</span>);<span class="comment">//该函数指针的别名为p_fun</span></span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p_fun k = kd;</span><br><span class="line"><span class="keyword">double</span> pi = <span class="number">3.14</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; *k(&amp;pi, <span class="number">5</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure><h2 id="C-内嵌函数"><a href="#C-内嵌函数" class="headerlink" title="C++内嵌函数"></a>C++内嵌函数</h2><blockquote><p>原理：减少调用的时间，制造函数副本。(需要消耗内存，根据需要取舍)</p></blockquote><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/blog/NeatReader-1581009524263.png" alt></p><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p>采取下述措施之一：</p><ul><li>在函数声明前加上关键字inline；</li><li>在函数定义前加上关键字inline。</li></ul><div class="note danger"><p>程序员请求将函数作为内联函数时，编译器并不一定会满足这种要求。它可能认为该函数过大或注意到函数调用了自己（内联函数不能递归），因此不将其作为内联函数；而有些编译器没有启用或实现这种特性。</p></div><div class="note primary"><p>C语言使用预处理器语句#define来提供宏——内联代码的原始实现。</p>undefined</div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205234759.png&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;​                                                Escape or face . 要么逃避,要么就面对——《绝命毒师》&lt;/p&gt;
    
    </summary>
    
    
      <category term="C++" scheme="http://jiahong.cf/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>MinGW在Windows下的使用</title>
    <link href="http://jiahong.cf/posts/66cd7b15.html"/>
    <id>http://jiahong.cf/posts/66cd7b15.html</id>
    <published>2020-02-05T06:31:44.000Z</published>
    <updated>2020-02-05T10:42:08.018Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>安装完<code>MinGW</code>之后，我们可以那它来作为C或C++的编译器，下面是<code>MinGW</code>的基本使用和<code>SublimeText</code>的配置</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/ss.jpg" alt><a id="more"></a></p><h2 id="CMD编译程序"><a href="#CMD编译程序" class="headerlink" title="CMD编译程序"></a>CMD编译程序</h2><blockquote><p>编译过程分为四个步骤：预处理、编译、汇编、链接。</p></blockquote><p>使用g++可以在命令行分别实现上面四个步骤。使用下面的程序作为例子。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// this is my test program</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> myNum</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> myNum 666</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"myNum = "</span> &lt;&lt; myNum &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="预处理"><a href="#预处理" class="headerlink" title="预处理"></a>预处理</h3><div class="note primary"><p>预处理主要完成的工作有：</p><p>（1）删除#define，展开宏；</p><p>（2）处理条件编译指令，预处理程序先判断条件，在根据条件修改源代码；</p><p>（3）删除注释；</p><p>（4）添加行号，以及文件名标识，便于调试</p><p>（5）删除“#include”，插入相应的头文件；</p></div><p>使用下面的命令，得到预处理后的文件<code>test.i</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ -E test.cpp -o test.i</span><br></pre></td></tr></table></figure></div><p>查看<code>test.i</code>文件</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205145757.png" alt></p><h3 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h3><p>使用下面的代码生成汇编文件<code>test.s</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ -S test.i -o test.s</span><br></pre></td></tr></table></figure></div><div class="note info"><p>注意：直接从test.cpp文件得到汇编文件也可以。直接使用命令 g++ -S test.cpp -o test.s</p></div><p>查看<code>test.s</code>文件</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205150653.png" alt></p><h3 id="汇编"><a href="#汇编" class="headerlink" title="汇编"></a>汇编</h3><p>使用下面的命令将汇编指令转化为机器指令，生成文件<code>test.o</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ -c test.s -o test.o</span><br></pre></td></tr></table></figure></div><p>查看文件<code>test.o</code></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205151131.png" alt></p><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>通过链接库文件，可以将目标文件<code>test.o</code>转化为可执行文件<code>test.exe</code></p><div class="note info"><p>注意:Windows下可执行文件的后缀为exe，而Linux下不需要后缀。</p></div><p><code>CMD</code>输入以下代码</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ test.o -o test.exe</span><br></pre></td></tr></table></figure></div><div class="note info"><p>注意:Windows下.o文件已经可以执行，在命令行输入test.o就可以看到如下的效果：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205152459.png" alt></p></div><p>另外一个命令是</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ test.o -o test.exe -L  所需库文件路径</span><br></pre></td></tr></table></figure></div><div class="note primary"><p>其中L为link的缩写。</p></div><h3 id="快速生成可执行文件"><a href="#快速生成可执行文件" class="headerlink" title="快速生成可执行文件"></a>快速生成可执行文件</h3><p>一般情况下，可以直接使用<code>g++  test.cpp  -o test</code> 就可以生成可执行程序了。</p><h3 id="运行程序"><a href="#运行程序" class="headerlink" title="运行程序"></a>运行程序</h3><p>如下：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205152931.png" alt></p><h2 id="MinGW-SublimeText配置C-环境"><a href="#MinGW-SublimeText配置C-环境" class="headerlink" title="MinGW + SublimeText配置C++环境"></a>MinGW + SublimeText配置C++环境</h2><h3 id="下载MinGW和SublimeText"><a href="#下载MinGW和SublimeText" class="headerlink" title="下载MinGW和SublimeText"></a>下载MinGW和SublimeText</h3><p><a href="https://www.sublimetext.com/3" class="LinkCard" target="_blank" rel="noopener">SublimeText下载</a></p><p><a href="https://jiahong.cf/posts/ded73fd3.html" class="LinkCard">MinGW下载及相关配置</a></p><h3 id="使用SublimeText"><a href="#使用SublimeText" class="headerlink" title="使用SublimeText"></a>使用SublimeText</h3><p>因为前面配置好环境变量了，所以可以直接在<code>SublimeText</code>下编译运行程序</p><p>Tools-&gt;build(或者按快捷键<code>Ctrl+B</code> 或 <code>Ctrl + Shift + B</code>)</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205165022.png" alt></p><p>可以在最下面一栏看到输出结果</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205154514.png" alt></p><p>enjoy it!</p><h3 id="解决SublimeText下不能使用输入的问题"><a href="#解决SublimeText下不能使用输入的问题" class="headerlink" title="解决SublimeText下不能使用输入的问题"></a>解决SublimeText下不能使用输入的问题</h3><div class="note warning"><p><code>SublimeText</code>是把shell执行的结果读回来显示在终端，这意味无法使用输入语句，无法使用调试功能。</p></div><p>解决方法:让程序直接运行在<code>CMD</code></p><p>在sublime-&gt;Tools&gt;Build System里新建编译系统，输入以下内容构建C++编译环境,保存名字为<code>C++Buider</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="attr">    "cmd":</span> <span class="string">["g++",</span> <span class="string">"$file_name"</span><span class="string">,</span> <span class="string">"-o"</span><span class="string">,</span> <span class="string">"$&#123;file_base_name&#125;"</span><span class="string">,</span> <span class="string">"-lm"</span><span class="string">,</span> <span class="string">"-Wall"</span><span class="string">],</span></span><br><span class="line"><span class="attr">    "file_regex":</span> <span class="string">"^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$"</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "selector":</span> <span class="string">"source.c, source.c++"</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "shell":</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "working_dir":</span> <span class="string">"$file_path"</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "variants":</span> <span class="string">[</span></span><br><span class="line">    <span class="string">&#123;</span></span><br><span class="line"><span class="attr">        "name":</span> <span class="string">"RunInCommand"</span><span class="string">,</span></span><br><span class="line"><span class="attr">        "cmd":</span> <span class="string">["cmd",</span> <span class="string">"/c"</span><span class="string">,</span> <span class="string">"g++"</span><span class="string">,</span> <span class="string">"-g"</span><span class="string">,</span> <span class="string">"$&#123;file&#125;"</span><span class="string">,</span> <span class="string">"-o"</span><span class="string">,</span> <span class="string">"$&#123;file_path&#125;/$&#123;file_base_name&#125;"</span><span class="string">,</span> <span class="string">"&amp;&amp;"</span><span class="string">,</span> <span class="string">"start"</span><span class="string">,</span> <span class="string">"cmd"</span><span class="string">,</span> <span class="string">"/k"</span><span class="string">,</span> <span class="string">"$&#123;file_path&#125;/$&#123;file_base_name&#125;"</span><span class="string">]</span></span><br><span class="line">    <span class="string">&#125;]</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></div><p>然后可以使用快捷键<code>Ctrl + Shift + B</code>，会显示如下，使用命令行打开模式选项即可</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205174238.png" alt></p><p>结果如下：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205174328.png" alt></p><div class="note success"><p>其他编译环境的配置也类似：</p><p>C编译配置文件：</p>undefined<p>Java编译配置文件</p>undefined</div><h3 id="解决不能输入中文的问题"><a href="#解决不能输入中文的问题" class="headerlink" title="解决不能输入中文的问题"></a>解决不能输入中文的问题</h3><p>使用下面的编译配置文件即可：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="attr">    "encoding":</span> <span class="string">"GBK"</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "working_dir":</span> <span class="string">"$file_path"</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "shell_cmd":</span> <span class="string">"g++ -fexec-charset=GBK -Wall  -std=c++11  \"$file_name\" -o \"$file_base_name\""</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "file_regex":</span> <span class="string">"^(..[^:]*):([0-9]+):?([0-9]+)?:? (.*)$"</span><span class="string">,</span></span><br><span class="line"><span class="attr">    "selector":</span> <span class="string">"source.c++"</span><span class="string">,</span></span><br><span class="line"></span><br><span class="line"><span class="attr">    "variants":</span> </span><br><span class="line">    <span class="string">[</span></span><br><span class="line">        <span class="string">&#123;</span>   </span><br><span class="line"><span class="attr">        "name":</span> <span class="string">"Run in sublime"</span><span class="string">,</span></span><br><span class="line"><span class="attr">            "shell_cmd":</span> <span class="string">"g++ -fexec-charset=GBK -Wall -std=c++11 \"$file_name\" -o \"$file_base_name\" &amp;&amp; cmd /c \"$&#123;file_path&#125;/$&#123;file_base_name&#125;\""</span></span><br><span class="line">        <span class="string">&#125;,</span></span><br><span class="line">        <span class="string">&#123;</span>   </span><br><span class="line"><span class="attr">        "name":</span> <span class="string">"CMD Run"</span><span class="string">,</span></span><br><span class="line"><span class="attr">            "shell_cmd":</span> <span class="string">"g++ -fexec-charset=GBK -Wall -std=c++11 \"$file\" -o \"$file_base_name\" &amp;&amp; start cmd /c \"\"$&#123;file_path&#125;/$&#123;file_base_name&#125;\" &amp; pause\""</span></span><br><span class="line">        <span class="string">&#125;,</span></span><br><span class="line">        <span class="string">&#123;</span>   </span><br><span class="line"><span class="attr">        "name":</span> <span class="string">"gdb Debug"</span><span class="string">,</span></span><br><span class="line"><span class="attr">            "shell_cmd":</span> <span class="string">"g++ -fexec-charset=GBK -g -std=c++11 \"$file\" -o \"$file_base_name\" &amp;&amp; start cmd /c gdb $&#123;file_path&#125;/$&#123;file_base_name&#125; &amp; pause"</span></span><br><span class="line">        <span class="string">&#125;</span></span><br><span class="line">    <span class="string">]</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></div><h3 id="配置代码格式化"><a href="#配置代码格式化" class="headerlink" title="配置代码格式化"></a>配置代码格式化</h3><p>从菜单里选View-&gt;Show Console，跳出Console，下面有一行输入的（光标位置），把下面这段代码输入进去回车(只适用sublime Text 3)</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request,os; pf = <span class="string">'Package Control.sublime-package'</span>; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); open(os.path.join(ipp, pf), <span class="string">'wb'</span>).write(urllib.request.urlopen( <span class="string">'http://sublime.wbond.net/'</span> + pf.replace(<span class="string">' '</span>,<span class="string">'%20'</span>)).read())</span><br></pre></td></tr></table></figure></div><p>安装<code>CoolFormat</code>，按<code>Ctrl+Shift+P</code>，然后输入install,就会出现“Package Control: Install Package”，输入<code>CoolFormat</code>进行下载，下载完成之后输入<code>Ctrl+Shift+P</code>，然后输入<code>CoolFormat</code>，选下Formatter Settings，可以看到如下配置:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">;</span> <span class="string">Please</span> <span class="string">visit</span> <span class="attr">http://akof1314.github.io/CoolFormat/doc/index.html</span> <span class="string">for</span> <span class="string">more</span> <span class="string">information</span></span><br><span class="line"><span class="string">[SynTidy]</span></span><br><span class="line"><span class="string">C++=""-A1-p-N-Y-k3""</span></span><br><span class="line"><span class="string">Java=""-A1-p-N-Y-k3""</span></span><br><span class="line"><span class="string">C#=""-A1-p-N-Y-k3""</span></span><br><span class="line"><span class="string">Objective-C=""-A1-p-N-Y-k3""</span></span><br><span class="line"><span class="string">HTML=""-aan-dep-fb-fbc-fu-js-ll-n-ox-pe-qa-qn-m-wa-wj-wp-ws-sw-fo-i0-d1-ce0-ie0-oe0-w0-sbo0""</span></span><br><span class="line"><span class="string">XML=""-aan-dep-fb-fbc-js-ll-n-ix-qa-qn-m-wa-wj-wp-ws-sw-fo-i1-ce0-ie0-oe0-w0""</span></span><br><span class="line"><span class="string">PHP=""-sas-icd-samt-salo-saeo-saro-sabo-saao-samp-aas-rsl-iel-rpc-rst-st""</span></span><br><span class="line"><span class="string">JavaScript=""-nb-cn4""</span></span><br><span class="line"><span class="string">CSS=""-c2-rub-cl0-os1-cc-cf-cfp0-rs2""</span></span><br><span class="line"><span class="string">JSON=""-cn3""</span></span><br><span class="line"><span class="string">SQL=""-cn2-el-ml0""</span></span><br><span class="line"><span class="string">Verilog=""-A1""</span></span><br></pre></td></tr></table></figure></div><p><strong>建立快捷键</strong></p><p>进入菜单选Preferences-&gt;Browse Packages，然后进CoolFormat，里面有个Default.sublime-keymap</p><p>打开后，里面有快捷方式的按键,更改如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[</span></span><br><span class="line">    <span class="string">&#123;</span></span><br><span class="line"><span class="attr">        "keys":</span> <span class="string">["ctrl+q"],</span> <span class="string">"command"</span><span class="string">:</span> <span class="string">"coolformat"</span><span class="string">,</span> <span class="string">"args"</span><span class="string">:</span> <span class="string">&#123;"action":</span> <span class="string">"quickFormat"</span><span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;,</span></span><br><span class="line">    <span class="string">&#123;</span></span><br><span class="line"><span class="attr">        "keys":</span> <span class="string">["ctrl+alt+shift+s"],</span> <span class="string">"command"</span><span class="string">:</span> <span class="string">"coolformat"</span><span class="string">,</span> <span class="string">"args"</span><span class="string">:</span> <span class="string">&#123;"action":</span> <span class="string">"selectedFormat"</span><span class="string">&#125;</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">]</span></span><br></pre></td></tr></table></figure></div><blockquote><p>这样以后写完的代码直接按 “Ctrl+Q” 便可以格式化代码</p></blockquote><p>另一种格式化代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">;</span> <span class="string">Please</span> <span class="string">visit</span> <span class="attr">http://akof1314.github.io/CoolFormat/doc/index.html</span> <span class="string">for</span> <span class="string">more</span> <span class="string">information</span></span><br><span class="line"><span class="string">[SynTidy]</span></span><br><span class="line"><span class="string">C++=""-A2-p-N-Y-o-T-N-k3""</span></span><br><span class="line"><span class="string">Java=""-A1-p-N-T-Y-k3""</span></span><br><span class="line"><span class="string">C#=""-A1-p-N-Y-T-k3""</span></span><br><span class="line"><span class="string">Objective-C=""-A1-p-N-Y-k3""</span></span><br><span class="line"><span class="string">HTML=""-aan-dep-fb-fbc-fu-js-ll-n-ox-pe-qa-qn-m-wa-wj-wp-ws-sw-fo-i0-d1-ce0-ie0-oe0-w0-sbo0""</span></span><br><span class="line"><span class="string">XML=""-aan-dep-fb-fbc-js-ll-n-ix-qa-qn-m-wa-wj-wp-ws-sw-fo-i1-ce0-ie0-oe0-w0""</span></span><br><span class="line"><span class="string">PHP=""-sas-icd-samt-salo-saeo-saro-sabo-saao-samp-aas-rsl-iel-rpc-rst-st""</span></span><br><span class="line"><span class="string">JavaScript=""-nb-cn4""</span></span><br><span class="line"><span class="string">CSS=""-c2-rub-cl0-os1-cc-cf-cfp0-rs2""</span></span><br><span class="line"><span class="string">JSON=""-cn3""</span></span><br><span class="line"><span class="string">SQL=""-cn2-el-ml0""</span></span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;安装完&lt;code&gt;MinGW&lt;/code&gt;之后，我们可以那它来作为C或C++的编译器，下面是&lt;code&gt;MinGW&lt;/code&gt;的基本使用和&lt;code&gt;SublimeText&lt;/code&gt;的配置&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/ss.jpg&quot; alt&gt;
    
    </summary>
    
    
      <category term="C++" scheme="http://jiahong.cf/tags/C/"/>
    
      <category term="MinGW" scheme="http://jiahong.cf/tags/MinGW/"/>
    
      <category term="配置" scheme="http://jiahong.cf/tags/%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>配置基于Github的PicGo图床</title>
    <link href="http://jiahong.cf/posts/ded73fd3.html"/>
    <id>http://jiahong.cf/posts/ded73fd3.html</id>
    <published>2020-02-04T15:51:21.000Z</published>
    <updated>2020-02-05T05:31:37.595Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="PicGo介绍"><a href="#PicGo介绍" class="headerlink" title="PicGo介绍"></a>PicGo介绍</h2><p><code>PicGo</code>是一款图片上传的工具，目前支持<code>微博图床</code>，<code>七牛图床</code>，<code>腾讯云</code>，<code>又拍云</code>，<code>GitHub</code>等图床</p><h2 id="在Github创建图床"><a href="#在Github创建图床" class="headerlink" title="在Github创建图床"></a>在Github创建图床</h2><h3 id="创建Repository"><a href="#创建Repository" class="headerlink" title="创建Repository"></a>创建Repository</h3><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200204235740316.png" alt></p><h3 id="生成一个Token用于操作GitHub-repository"><a href="#生成一个Token用于操作GitHub-repository" class="headerlink" title="生成一个Token用于操作GitHub repository"></a>生成一个Token用于操作GitHub repository</h3><p>步骤如下:</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200204235942470.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205000404800.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205000438671.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205000506694.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205000649335.png" alt></p><div class="note warning"><p>注：创建成功后，会生成一串token，这串token之后不会再显示，所以第一次看到的时候，就要好好保存</p></div><h2 id="配置PicGo"><a href="#配置PicGo" class="headerlink" title="配置PicGo"></a>配置PicGo</h2><h3 id="下载PicGo"><a href="#下载PicGo" class="headerlink" title="下载PicGo"></a>下载PicGo</h3><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205001453409.png" alt></p><p>Windows用户下载exe文件</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205113338203.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205113404987.png" alt></p><h3 id="配置图床"><a href="#配置图床" class="headerlink" title="配置图床"></a>配置图床</h3><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205115015945.png" alt></p><blockquote><ul><li><p>设定仓库名的时候，是按照“账户名/仓库名的格式填写”</p></li><li><p>分支名统一填写“master”</p></li><li><p>将之前的Token黏贴在这里</p></li><li><p>存储的路径可以按照我这样子写，就会在repository下创建一个“img”文件夹</p></li><li><p>自定义域名的作用是，在上传图片后成功后，PicGo会将“自定义域名+上传的图片名”生成的访问链接，放到剪切板上<code>https://raw.githubusercontent.com/用户名/RepositoryName/分支名，</code>，自定义域名需要按照这样去填写</p></li></ul></blockquote><h3 id="快捷键及相关配置"><a href="#快捷键及相关配置" class="headerlink" title="快捷键及相关配置"></a>快捷键及相关配置</h3><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200205115334849.png" alt></p><blockquote><p>这里配置上传快捷键为<code>ctrl+shift+c</code></p></blockquote><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>经过上面的配置就大功告成了，每次截图之后，只需要<code>ctrl+shift+c</code>一下就可以把剪切板上面的截图转化为在线网络图片链接。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="hexo" scheme="http://jiahong.cf/tags/hexo/"/>
    
      <category term="github" scheme="http://jiahong.cf/tags/github/"/>
    
      <category term="图床" scheme="http://jiahong.cf/tags/%E5%9B%BE%E5%BA%8A/"/>
    
  </entry>
  
  <entry>
    <title>windows下gcc的安装和使用</title>
    <link href="http://jiahong.cf/posts/a7c21fc4.html"/>
    <id>http://jiahong.cf/posts/a7c21fc4.html</id>
    <published>2020-02-04T08:41:18.000Z</published>
    <updated>2020-02-05T05:31:37.593Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>写在源文件中的源代码是人类可读的源。它需要”编译”，转为机器语言，这样 CPU 可以按给定指令执行程序。C 语言编译器用于把源代码编译成最终的可执行程序。</p></blockquote><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/f4c1ec998789f9c8efe7ef0e0b127f9b.jpg" alt></p><a id="more"></a><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>首先,到：<a href="https://sourceforge.net/projects/mingw-w64/files/latest/download，下载最新版本的" target="_blank" rel="noopener">https://sourceforge.net/projects/mingw-w64/files/latest/download，下载最新版本的</a> MinGW 安装程</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200204164527145.png" alt></p><p>然后，运行 Download mingw-get-setup.exe ,点击”运行”，continue等，注意记住安装的目录，之后需要配置环境变量，例如<code>D:\MinGW\bin</code></p><div class="note info"><p>假如网速不好，可以通过下面的链接进行离线下载，下载完成之后使用7Zip解压，然后把解压的文件移动到安装路径即可。</p><p><a href="https://pan.baidu.com/s/1W4fHsUeaw1C9vp1lvRygbw" target="_blank" rel="noopener">https://pan.baidu.com/s/1W4fHsUeaw1C9vp1lvRygbw</a></p><p>注：使用这种方式下面的步骤不需要执行了，已经在离线包中集成了。可直接输入<code>gcc -v</code>查看gcc版本。</p></div><p>验证安装：</p><p>在开始菜单中，点击”运行”，输入 cmd,打开命令行:输入 mingw-get,如果弹出 MinGw installation manager 窗口，说明安装正常，然后关闭窗口。</p><h3 id="安装GCC等编译器"><a href="#安装GCC等编译器" class="headerlink" title="安装GCC等编译器"></a>安装GCC等编译器</h3><p>在cmd中输入如下命令进行安装：</p><p>安装gcc</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mingw-get install gcc</span><br></pre></td></tr></table></figure></div><p>安装g++</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mingw-get install g++</span><br></pre></td></tr></table></figure></div><p>安装gdb</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mingw-get install gdb</span><br></pre></td></tr></table></figure></div><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>在桌面创建一个hello.c的程序</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在 cmd 中输入命令</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc hello.c</span><br></pre></td></tr></table></figure></div><p>在<strong>当前目录下</strong>(记住是命令的当前目录)会生成 a.exe 的可执行文件，在 cmd 中输入 a.exe 就可以执行程序了。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;写在源文件中的源代码是人类可读的源。它需要”编译”，转为机器语言，这样 CPU 可以按给定指令执行程序。C 语言编译器用于把源代码编译成最终的可执行程序。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/f4c1ec998789f9c8efe7ef0e0b127f9b.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="C++" scheme="http://jiahong.cf/tags/C/"/>
    
      <category term="MinGW" scheme="http://jiahong.cf/tags/MinGW/"/>
    
      <category term="编译" scheme="http://jiahong.cf/tags/%E7%BC%96%E8%AF%91/"/>
    
      <category term="Windows" scheme="http://jiahong.cf/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>正则表达式-括号的区别</title>
    <link href="http://jiahong.cf/posts/5c9fc645.html"/>
    <id>http://jiahong.cf/posts/5c9fc645.html</id>
    <published>2020-02-02T07:59:21.000Z</published>
    <updated>2020-02-02T08:49:50.638Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="正则表达式-括号-、-中括号-、-大括号-的区别小结"><a href="#正则表达式-括号-、-中括号-、-大括号-的区别小结" class="headerlink" title="正则表达式(括号)、[中括号]、{大括号}的区别小结"></a>正则表达式(括号)、[中括号]、{大括号}的区别小结</h1><h2 id><a href="#" class="headerlink" title="()"></a>()</h2><p>() 是为了提取匹配的字符串。表达式中有几个()就有几个相应的匹配字符串。</p><p>例如：</p><ul><li>(\s*)表示连续空格的字符串。</li></ul><a id="more"></a><h2 id="-1"><a href="#-1" class="headerlink" title="[]"></a>[]</h2><p>[]是定义匹配的字符范围。</p><p>例如：</p><ul><li>[a-zA-Z0-9] 表示相应位置的字符要匹配英文字符和数字。[\s<em>]表示空格或者</em>号。</li></ul><h2 id="-2"><a href="#-2" class="headerlink" title="{}"></a>{}</h2><p>{}一般用来表示匹配的长度.</p><p>例如：</p><ul><li>\s{3} 表示匹配三个空格，\s{1,3}表示匹配一到三个空格。</li></ul><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><blockquote><p>(0-9) 匹配 ‘0-9′ 本身。 [0-9]<em> 匹配数字（注意后面有 </em>，可以为空）[0-9]+ 匹配数字（注意后面有 +，不可以为空）{1-9} 写法错误。</p><p>[0-9]{0,9} 表示长度为 0 到 9 的数字字符串。</p></blockquote><h2 id="ONE"><a href="#ONE" class="headerlink" title="ONE"></a>ONE</h2><p><strong>圆括号()是组</strong>，主要应用在限制多选结构的范围/分组/捕获文本/环视/特殊模式处理<br>示例：<br>1、(abc|bcd|cde)，表示这一段是abc、bcd、cde三者之一均可，顺序也必须一致<br>2、(abc)?，表示这一组要么一起出现，要么不出现，出现则按此组内的顺序出现<br>3、(?:abc)表示找到这样abc这样一组，但不记录，不保存到$变量中，否则可以通过$x取第几个括号所匹配到的项，比如：(aaa)(bbb)(ccc)(?:ddd)(eee)，可以用$1获取(aaa)匹配到的内容，而$3则获取到了(ccc)匹配到的内容，而$4则获取的是由(eee)匹配到的内容，因为前一对括号没有保存变量<br>4、a(?=bbb) 顺序环视 表示a后面必须紧跟3个连续的b<br>5、(?i:xxxx) 不区分大小写 (?s:.*) 跨行匹配.可以匹配回车符</p><p><strong>方括号是单个匹配</strong>，字符集/排除字符集/命名字符集<br>示例：<br>1、[0-3]，表示找到这一个位置上的字符只能是0到3这四个数字，与(abc|bcd|cde)的作用比较类似，但圆括号可以匹配多个连续的字符，而一对方括号只能匹配单个字符<br>2、[^0-3]，表示找到这一个位置上的字符只能是除了0到3之外的所有字符<br>3、[:digit:] 0-9 [:alnum:] A-Za-z0-9</p><h2 id="TWO"><a href="#TWO" class="headerlink" title="TWO"></a>TWO</h2><p>()和[]有本质的区别<br>()内的内容表示的是一个子表达式，()本身不匹配任何东西，也不限制匹配任何东西，只是把括号内的内容作为同一个表达式来处理，例如(ab){1,3}，就表示ab一起连续出现最少1次，最多3次。如果没有括号的话，ab{1,3},就表示a，后面紧跟的b出现最少1次，最多3次。另外，括号在匹配模式中也很重要。这个就不延伸了，LZ有兴趣可以自己查查<br>[]表示匹配的字符在[]中，并且只能出现一次，并且特殊字符写在[]会被当成普通字符来匹配。例如[(a)]，会匹配(、a、)、这三个字符。<br>所以() [] 无论是作用还是表示的含义，都有天壤之别，没什么联系</p><p><a href="https://jiahong.cf/myPhotos/ball-pool/index.html">test</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;正则表达式-括号-、-中括号-、-大括号-的区别小结&quot;&gt;&lt;a href=&quot;#正则表达式-括号-、-中括号-、-大括号-的区别小结&quot; class=&quot;headerlink&quot; title=&quot;正则表达式(括号)、[中括号]、{大括号}的区别小结&quot;&gt;&lt;/a&gt;正则表达式(括号)、[中括号]、{大括号}的区别小结&lt;/h1&gt;&lt;h2 id&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;()&quot;&gt;&lt;/a&gt;()&lt;/h2&gt;&lt;p&gt;() 是为了提取匹配的字符串。表达式中有几个()就有几个相应的匹配字符串。&lt;/p&gt;
&lt;p&gt;例如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(\s*)表示连续空格的字符串。&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="pathon" scheme="http://jiahong.cf/tags/pathon/"/>
    
      <category term="正则表达式" scheme="http://jiahong.cf/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
      <category term="re" scheme="http://jiahong.cf/tags/re/"/>
    
  </entry>
  
  <entry>
    <title>hexo-格式排版</title>
    <link href="http://jiahong.cf/posts/c9786415.html"/>
    <id>http://jiahong.cf/posts/c9786415.html</id>
    <published>2020-01-22T16:03:27.000Z</published>
    <updated>2020-02-07T06:54:55.349Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/c7454d3b96fd6e74a5ac2df0eb115dea.jpg" alt></p><a id="more"></a><h2 id="Markdown内图片并排居中"><a href="#Markdown内图片并排居中" class="headerlink" title="Markdown内图片并排居中"></a>Markdown内图片并排居中</h2><p>代码如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">center</span> <span class="attr">class</span>=<span class="string">"half"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/686e3a13ly1gb1zr3g5oyj20p00e2q56.jpg"</span> <span class="attr">width</span>=<span class="string">"200"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/686e3a13ly1gb1zr3g5oyj20p00e2q56.jpg"</span> <span class="attr">width</span>=<span class="string">"200"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/686e3a13ly1gb1zr3g5oyj20p00e2q56.jpg"</span> <span class="attr">width</span>=<span class="string">"200"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>在Markdown编辑器下可以看到如下的效果：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200123145030221.png" alt></p><p>转化为网页的效果如下(没有并排了，也就是说只在md文件中适合)：</p><center class="half"><br><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg" width="200"><br><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg" width="200"><br><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg" width="200"><br></center><h2 id="使用table关键字"><a href="#使用table关键字" class="headerlink" title="使用table关键字"></a>使用table关键字</h2><p>代码如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> &gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg"</span> &gt;</span>图1  test1 <span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> &gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg"</span> &gt;</span>图2  test2 <span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> &gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg"</span> &gt;</span>图3  test3 <span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> &gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg"</span> &gt;</span>图4  test4 <span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> &gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg"</span> &gt;</span>图5  test5 <span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span> &gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg"</span> &gt;</span>图6  test6 <span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>实现效果如下：</p><table><br>    <tr><br>        <td><center><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg">图1  test1 </center></td><br>        <td><center><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg">图2  test2 </center></td><br>    </tr><br>    <tr><br>        <td><center><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg">图3  test3 </center></td><br>        <td><center><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg">图4  test4 </center></td><br>    </tr><br>    <tr><br>        <td><center><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg">图5  test5 </center></td><br>        <td><center><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/4eabb0e7182a79f97f6b0f795cc3e685.jpg">图6  test6 </center></td><br></tr><br>    </table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/c7454d3b96fd6e74a5ac2df0eb115dea.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://jiahong.cf/tags/hexo/"/>
    
      <category term="排版" scheme="http://jiahong.cf/tags/%E6%8E%92%E7%89%88/"/>
    
  </entry>
  
  <entry>
    <title>markdown-插入视频</title>
    <link href="http://jiahong.cf/posts/fad863f5.html"/>
    <id>http://jiahong.cf/posts/fad863f5.html</id>
    <published>2020-01-21T16:39:03.000Z</published>
    <updated>2020-02-05T04:13:51.778Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/686e3a13ly1gb1zr3g5oyj20p00e2q56.jpg" alt></p><a id="more"></a><h1 id="插入视频"><a href="#插入视频" class="headerlink" title="插入视频"></a>插入视频</h1><p>传统方法使用iframe</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">498</span> <span class="attr">width</span>=<span class="string">510</span> <span class="attr">src</span>=<span class="string">"视频地址"</span>&gt;</span></span><br></pre></td></tr></table></figure></div><iframe height="498" width="510" src="http://f.us.sinaimg.cn/002PQ9GSlx07llR5Zaty01040200ImHx0k010.mp4?label=mp4_720p&template=1280x720.28&Expires=1579766541&ssig=2E%2F1JMw%2B1v&KID=unistore,video"><p>无边界设置</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">498</span> <span class="attr">width</span>=<span class="string">510</span> <span class="attr">src</span>=<span class="string">"视频地址"</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><iframe height="498" width="510" src="http://f.us.sinaimg.cn/002PQ9GSlx07llR5Zaty01040200ImHx0k010.mp4?label=mp4_720p&template=1280x720.28&Expires=1579766541&ssig=2E%2F1JMw%2B1v&KID=unistore,video" frameborder="0" allowfullscreen></iframe><br>1) 直接用 HTML 的标签，写法如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;video poster=<span class="string">"https://封面图.jpg"</span> src=<span class="string">"https://什么什么什么.mp4"</span> style=<span class="string">"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;"</span> controls=<span class="string">"controls"</span> loop=<span class="string">"loop"</span> preload=<span class="string">"meta"</span>&gt;Your browser does not support the video tag.&lt;/video&gt;</span><br></pre></td></tr></table></figure></div><p><video poster="http://img3.imgtn.bdimg.com/it/u=123601470,1680471417&fm=26&gp=0.jpg" src="http://f.us.sinaimg.cn/002PQ9GSlx07llR5Zaty01040200ImHx0k010.mp4?label=mp4_720p&template=1280x720.28&Expires=1579766541&ssig=2E%2F1JMw%2B1v&KID=unistore,video" style="max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;" controls="controls" loop="loop" preload="meta">Your browser does not support the video tag.</video><br>2) 用插件，可支持弹幕，首先在站点文件夹根目录安装插件:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-dplayer --save</span><br></pre></td></tr></table></figure></div><p>文章中的写法:</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer <span class="string">"url=https://什么什么什么.mp4"</span> <span class="string">"https://封面图.jpg"</span> <span class="string">"api=https://api.prprpr.me/dplayer/"</span> <span class="string">"id="</span> <span class="string">"loop=false"</span> %&#125;</span><br></pre></td></tr></table></figure></div><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"video":{"url":"http://f.us.sinaimg.cn/002PQ9GSlx07llR5Zaty01040200ImHx0k010.mp4?label=mp4_720p&template=1280x720.28&Expires=1579766541&ssig=2E%2F1JMw%2B1v&KID=unistore,video"},"danmaku":{"api":"https://api.prprpr.me/dplayer/"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><h1 id="插入音乐"><a href="#插入音乐" class="headerlink" title="插入音乐"></a>插入音乐</h1><p>1）直接使用HTML的标签</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio src=<span class="string">"https://什么什么什么.mp3"</span> style=<span class="string">"max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;"</span> controls=<span class="string">"controls"</span> loop=<span class="string">"loop"</span> preload=<span class="string">"meta"</span>&gt;Your browser does not support the audio tag.&lt;/audio&gt;</span><br></pre></td></tr></table></figure></div><p><audio src="/Tebey - Fugitive.mp3" style="max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;" controls="controls" loop="loop" preload="meta">Your browser does not support the audio tag.</audio><br>2) 用插件<code>hexo-tag-aplayer</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure></div><p>写法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer <span class="string">"歌曲名"</span> <span class="string">"歌手名"</span> <span class="string">"https://什么什么什么.mp3"</span> <span class="string">"https://封面图.jpg"</span> <span class="string">"lrc:https://歌词.lrc"</span> %&#125;</span><br></pre></td></tr></table></figure></div><p>支持歌单：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"autoplay"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">"showlrc"</span>: 3,</span><br><span class="line">    <span class="string">"mutex"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">"music"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"title"</span>: <span class="string">"歌曲名"</span>,</span><br><span class="line">            <span class="string">"author"</span>: <span class="string">"歌手名"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"https://什么什么什么.mp3"</span>,</span><br><span class="line">            <span class="string">"pic"</span>: <span class="string">"https://封面图.jpg"</span>,</span><br><span class="line">            <span class="string">"lrc"</span>: <span class="string">"https://歌词.lrc"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">"title"</span>: <span class="string">"歌曲名"</span>,</span><br><span class="line">            <span class="string">"author"</span>: <span class="string">"歌手名"</span>,</span><br><span class="line">            <span class="string">"url"</span>: <span class="string">"https://什么什么什么.mp3"</span>,</span><br><span class="line">            <span class="string">"pic"</span>: <span class="string">"https://封面图.jpg"</span>,</span><br><span class="line">            <span class="string">"lrc"</span>: <span class="string">"https://歌词.lrc"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure></div>        <div id="aplayer-irPEwPSd" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-irPEwPSd"),            narrow: false,            autoplay: false,            showlrc: 3,            music: {              title: "Fugitive",              author: "Tebey",              url: "/Tebey - Fugitive.mp3",              pic: "http://p1.music.126.net/dPbXQnI5QPfSWuh5NIW1Cw==/45079976751932.jpg?param=130y130",              lrc: "https://歌词.lrc"            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/686e3a13ly1gb1zr3g5oyj20p00e2q56.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="markdown" scheme="http://jiahong.cf/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>爬虫-动态渲染页面爬取</title>
    <link href="http://jiahong.cf/posts/6486ae93.html"/>
    <id>http://jiahong.cf/posts/6486ae93.html</id>
    <published>2020-01-21T16:13:03.000Z</published>
    <updated>2020-02-05T05:24:15.724Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200122015344-min.jpg" alt></p><p>前一次学习了Ajax的分析及抓取，这其实也是JS动态渲染的页面的一种。</p><div class="note warning"><p>但是JS动态渲染的页面不止Ajax这一种。</p></div><a id="more"></a><div class="note success"><p>为了实现能够爬取所有的动态渲染页面，我们可以直接使用模拟浏览器运行的方式来实现。这样就能做到所见即可爬。</p></div><p>首先第一个能够模拟浏览器运行的库就是Selenium，安装配置的方式可以参照下面的博文：</p><p><a href="https://cuiqingcai.com/5141.html" class="LinkCard" target="_blank" rel="noopener">Selenium的安装</a></p><p><a href="https://cuiqingcai.com/5135.html" class="LinkCard" target="_blank" rel="noopener">ChromeDriver的安装</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200122015344-min.jpg&quot; alt&gt;&lt;/p&gt;
&lt;p&gt;前一次学习了Ajax的分析及抓取，这其实也是JS动态渲染的页面的一种。&lt;/p&gt;
&lt;div class=&quot;note warning&quot;&gt;&lt;p&gt;但是JS动态渲染的页面不止Ajax这一种。&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
    
      <category term="python" scheme="http://jiahong.cf/tags/python/"/>
    
      <category term="爬虫" scheme="http://jiahong.cf/tags/%E7%88%AC%E8%99%AB/"/>
    
      <category term="Selenium" scheme="http://jiahong.cf/tags/Selenium/"/>
    
  </entry>
  
  <entry>
    <title>Ajax数据爬取</title>
    <link href="http://jiahong.cf/posts/2815b369.html"/>
    <id>http://jiahong.cf/posts/2815b369.html</id>
    <published>2020-01-20T07:20:19.000Z</published>
    <updated>2020-02-05T05:00:35.818Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>有时候我们在使用requests抓取页面的时候，得到的结果可能和在浏览器中看到的不一样，也就是说可能request请求并不能请求到所有的数据。</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120152827659.png" alt></p><a id="more"></a><blockquote><p>真正的原因是reques获取的都是原始的HTML文档，而浏览器中的页面是经过JS处理数据后生成的结果。</p></blockquote><p>其中数据的来源有如下几种：</p><ol><li>通过Ajax加载</li><li>包含在HTML文档中</li><li>经过JS和特定算法计算后生成</li></ol><p>对于第一种情况，数据加载是一种异步加载方式，原始得到页面最初不会包含某些数据，原始页面加载完后，会再向服务器请求某个接口获取数据，然后数据才被处理呈现到网页上，这其实就是发送了一个Ajax请求。</p><div class="note danger"><p>所以遇到这样的页面，直接利用requests等库来抓Ajax取页面，是无法获取有效数据的。</p></div><div class="note success"><p>这时需要分析网页后台接口发送的Ajax请求，如果可以用requests来模拟Ajax请求，那么就能成功抓取了。</p></div><h1 id="What-is-Ajax？"><a href="#What-is-Ajax？" class="headerlink" title="What is Ajax？"></a>What is Ajax？</h1><p>Ajax全称为<code>Asynchronous JavaScript and XML</code>，即异步的 JavaScript 和 XML。</p><blockquote class="blockquote-center"><p><code>AJAX = 异步 JavaScript 和 XML。</code></p></blockquote><p>Ajax不是一门编程语言，而是一种在<strong>无需重新加载整个网页的情况下，能够更新部分网页的技术</strong>。</p><h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>浏览网页的时候，我们会发现很多网页都有下滑查看更多的选项，就比如微博。</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120161016067.png" alt></p><blockquote><p>我们注意到页面其实没有整个刷新，也就意味着页面的链接没有变化，而网页中多出来的新内容是后面Ajax请求获取的数据。</p></blockquote><h2 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h2><p>发送Ajax请求到网页更新这个过程可以分成三步：</p><ol><li>发送请求</li><li>解析内容</li><li>渲染网页</li></ol><h1 id="Ajax分析方法"><a href="#Ajax分析方法" class="headerlink" title="Ajax分析方法"></a>Ajax分析方法</h1><ul><li>使用Chrome的开发者工具，在选项栏中选择Network选项卡，然后刷新页面，并且可以选择XHR过滤(Ajax有其特殊的请求类型，就是XHR)，如下：</li></ul><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120164724335.png" alt></p><p>由上图右侧可以看到请求头的一些信息，其中有一个信息为<code>X-Requested-With: XMLHttpRequest</code>，这就标记了此请求为Ajax请求。</p><ul><li>点击一下Preview，可以看到响应的内容，它是JSON格式的。</li></ul><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120165259876.png" alt></p><p>可以看到返回结果是博主的个人信息，如昵称、简介和头像等等</p><ul><li>切换到Response选项卡，从中可以观察到真实的返回数据</li></ul><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120165412671.png" alt></p><p>差别不大~</p><h1 id="Ajax结果提取"><a href="#Ajax结果提取" class="headerlink" title="Ajax结果提取"></a>Ajax结果提取</h1><h2 id="分析请求"><a href="#分析请求" class="headerlink" title="分析请求"></a>分析请求</h2><p>选择其中一个getIndex请求，分析它的参数。</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120222739282.png" alt></p><p>可以看到请求的参数有三个，分别是type、value、containerid，还有一个page参数是隐藏起来了，总共四个参数。</p><div class="note info"><p>通过分析可知，其中前三个参数都维持不变，在下滑拉动时改变的参数只有page。</p></div><h2 id="分析响应"><a href="#分析响应" class="headerlink" title="分析响应"></a>分析响应</h2><p>响应内容是JSON格式的，主要分为两部分，一部分信息是<code>cardlistInfo</code>，另一部分是<code>cards</code>。</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120223146759.png" alt></p><div class="note primary"><p><code>cardlistInfo</code>包含比较重要的信息total，里面有包含微博的总数量，可以根据这个来估计分页数；<code>cards</code>则是一个列表，包含10个微博元素。</p></div><h2 id="实战爬取微博数据"><a href="#实战爬取微博数据" class="headerlink" title="实战爬取微博数据"></a>实战爬取微博数据</h2><p>首先模拟Ajax获取微博第一页的数据</p><p>导入必要的包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure></div><p>爬取JSON数据</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">base_url = <span class="string">'https://m.weibo.cn/api/container/getIndex?'</span></span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">'type'</span>: <span class="string">'uid'</span>,</span><br><span class="line">    <span class="string">'value'</span>: <span class="string">'1752054291'</span>,</span><br><span class="line">    <span class="string">'containerid'</span>: <span class="string">'1076031752054291'</span>,</span><br><span class="line">    <span class="string">'page'</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36'</span>,</span><br><span class="line">    <span class="string">'Host'</span>:<span class="string">'m.weibo.cn'</span>,</span><br><span class="line">    <span class="string">'Referer'</span>:<span class="string">'https://m.weibo.cn/u/1752054291'</span>,</span><br><span class="line">    <span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span></span><br><span class="line">&#125;</span><br><span class="line">url = base_url + urlencode(params)</span><br><span class="line">r = requests.get(url,headers)</span><br><span class="line">r</span><br></pre></td></tr></table></figure></div><h3 id="处理JSON数据"><a href="#处理JSON数据" class="headerlink" title="处理JSON数据"></a>处理JSON数据</h3><p>可以使用下面的命令将得到的网页数据转化为JSON数据：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r.json()</span><br></pre></td></tr></table></figure></div><p>也可以使用loads()方法将JSON文本字符串转化为JSON对象</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = json.loads(r.text)</span><br></pre></td></tr></table></figure></div><p>使用dumps()方法将JSON数据转化为文本字符串。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text = json.dumps(data)</span><br></pre></td></tr></table></figure></div><p>写入JSON文件，首先转为字符串格式再写入</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">j_data = r.json()</span><br><span class="line">type(j_data)</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'data.json'</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(json.dumps(j_data,indent=<span class="number">2</span>,ensure_ascii=<span class="literal">False</span>))</span><br><span class="line">    print(<span class="string">"ok!"</span>)</span><br></pre></td></tr></table></figure></div><blockquote><p>其中indent参数是缩进字符个数，为了保存JSON格式；而encoding与ensure_ascii参数是实现中文编码的写入。</p></blockquote><h3 id="实战爬取数据"><a href="#实战爬取数据" class="headerlink" title="实战爬取数据"></a>实战爬取数据</h3><p>首先导入必要的包</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br></pre></td></tr></table></figure></div><p>设置基准网址以及headers</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">base_url = <span class="string">'https://m.weibo.cn/api/container/getIndex?'</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36'</span>,</span><br><span class="line">    <span class="string">'Host'</span>:<span class="string">'m.weibo.cn'</span>,</span><br><span class="line">    <span class="string">'Referer'</span>:<span class="string">'https://m.weibo.cn/u/1752054291'</span>,</span><br><span class="line">    <span class="string">'X-Requested-With'</span>: <span class="string">'XMLHttpRequest'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>设置参数测试一下返回结果，ok！</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">params = &#123;</span><br><span class="line">    <span class="string">'type'</span>: <span class="string">'uid'</span>,</span><br><span class="line">    <span class="string">'value'</span>: <span class="string">'1752054291'</span>,</span><br><span class="line">    <span class="string">'containerid'</span>: <span class="string">'1076031752054291'</span>,</span><br><span class="line">    <span class="string">'page'</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">url = base_url + urlencode(params)</span><br><span class="line">r = requests.get(url,headers)</span><br><span class="line">r</span><br></pre></td></tr></table></figure></div><pre><code>&lt;Response [200]&gt;</code></pre><p>定义获取JSON数据的函数</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_data</span><span class="params">(index)</span>:</span></span><br><span class="line">    params = &#123;</span><br><span class="line">    <span class="string">'type'</span>: <span class="string">'uid'</span>,</span><br><span class="line">    <span class="string">'value'</span>: <span class="string">'1752054291'</span>,</span><br><span class="line">    <span class="string">'containerid'</span>: <span class="string">'1076031752054291'</span>,</span><br><span class="line">    <span class="string">'page'</span>:index</span><br><span class="line">    &#125;</span><br><span class="line">    url = base_url + urlencode(params)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url,headers)</span><br><span class="line">        <span class="keyword">if</span> r.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> r.json()</span><br><span class="line">    <span class="keyword">except</span> requests.ConnectionError <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">"error"</span>,e.args)</span><br></pre></td></tr></table></figure></div><p>定义处理JSON数据并且返回迭代器的函数</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_data</span><span class="params">(j_data)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> j_data:</span><br><span class="line">        its = j_data.get(<span class="string">'data'</span>).get(<span class="string">'cards'</span>)</span><br><span class="line">        <span class="keyword">for</span> it <span class="keyword">in</span> its:</span><br><span class="line">            <span class="keyword">if</span> it.get(<span class="string">'card_type'</span>) != <span class="number">9</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            it = it.get(<span class="string">'mblog'</span>)</span><br><span class="line">            weibo = &#123;&#125;</span><br><span class="line">            weibo[<span class="string">'id'</span>] = it.get(<span class="string">'id'</span>)</span><br><span class="line">            weibo[<span class="string">'text'</span>] = pq(it.get(<span class="string">'text'</span>)).text()</span><br><span class="line">            weibo[<span class="string">'reposts'</span>] = it.get(<span class="string">'reposts_count'</span>)</span><br><span class="line">            weibo[<span class="string">'comments'</span>] = it.get(<span class="string">'comments_count'</span>)</span><br><span class="line">            weibo[<span class="string">'attitudes'</span>] = it.get(<span class="string">'attitudes_count'</span>)</span><br><span class="line">            weibo[<span class="string">'pic'</span>] = it.get(<span class="string">'original_pic'</span>)</span><br><span class="line">            <span class="keyword">yield</span> weibo</span><br></pre></td></tr></table></figure></div><p>定义写文件的函数</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_data</span><span class="params">(weibos,index)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">"weibo.md"</span>,<span class="string">'a+'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(<span class="string">'# 第%d页\n'</span> % index)</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> weibos:</span><br><span class="line">            f.write(x[<span class="string">'text'</span>]+<span class="string">'\n'</span>)</span><br><span class="line">            f.write(<span class="string">'点赞数:'</span>+str(x[<span class="string">'attitudes'</span>])+<span class="string">' 转发数:'</span>+str(x[<span class="string">'reposts'</span>])+ <span class="string">' 评论数:'</span>+str(x[<span class="string">'comments'</span>])+<span class="string">'\n'</span>)</span><br><span class="line">            f.write(<span class="string">'![](%s)\n\n'</span> % x[<span class="string">'pic'</span>])</span><br><span class="line">        print(<span class="string">'page %d write ok!'</span> % index)</span><br></pre></td></tr></table></figure></div><p>设置爬取的最新微博的页数并且开始爬取</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">page_num = <span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(<span class="number">1</span>,page_num):</span><br><span class="line">    j_data = get_data(index)</span><br><span class="line">    result = parse_data(j_data)</span><br><span class="line">    write_data(result,index)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br></pre></td></tr></table></figure></div><pre><code>page 1 write ok!page 2 write ok!page 3 write ok!page 4 write ok!page 5 write ok!page 6 write ok!page 7 write ok!page 8 write ok!page 9 write ok!</code></pre><p>查看markdown文件最终结果：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200121220420665.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;有时候我们在使用requests抓取页面的时候，得到的结果可能和在浏览器中看到的不一样，也就是说可能request请求并不能请求到所有的数据。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120152827659.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Ajax" scheme="http://jiahong.cf/tags/Ajax/"/>
    
      <category term="python" scheme="http://jiahong.cf/tags/python/"/>
    
      <category term="爬虫" scheme="http://jiahong.cf/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>爬虫——Requests与Re</title>
    <link href="http://jiahong.cf/posts/2e84c07.html"/>
    <id>http://jiahong.cf/posts/2e84c07.html</id>
    <published>2020-01-18T14:37:58.000Z</published>
    <updated>2020-02-05T05:26:07.491Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/v2-48418ab1d69b13d7cb5edb5ee3186b61_fhd.png" alt></p><a id="more"></a><h2 id="Requsests"><a href="#Requsests" class="headerlink" title="Requsests"></a>Requsests</h2><p>抓取<a href="https://www.zhihu.com/explore" target="_blank" rel="noopener">知乎发现</a>网页</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'user-agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line">r = requests.get(<span class="string">"https://www.zhihu.com/explore"</span>,headers=headers)</span><br><span class="line">r.text</span><br></pre></td></tr></table></figure></div><p>得到返回结果如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="XML"><figure class="iseeu highlight /xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span>\n<span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh"</span> <span class="attr">data-hairline</span>=<span class="string">"true"</span> <span class="attr">data-theme</span>=<span class="string">"light"</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charSet</span>=<span class="string">"utf-8"</span>/&gt;</span><span class="tag">&lt;<span class="name">title</span> <span class="attr">data-react-helmet</span>=<span class="string">"true"</span>&gt;</span>发现 - 知乎<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1,maximum-scale=1"</span>/&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"renderer"</span> <span class="attr">content</span>=<span class="string">"webkit"</span>/&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"force-rendering"</span> <span class="attr">content</span>=<span class="string">"webkit"</span>/&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span>/&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"google-site-verification"</span> <span class="attr">content</span>=<span class="string">"FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"</span>/&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">property</span>=<span class="string">"og:description"</span> <span class="attr">content</span>=<span class="string">"有问题，上知乎。知乎，可信赖的问答社区，以让每个人高效获得可信赖的解答为使命。知乎凭借认真、专业和友善的社区氛围，结构化、易获得的优质内容，基于问答的内容生产方式和独特的社区机制，吸引、聚集了各行各业中大量的亲历者、内行人、领域专家、领域爱好者，将高质量的内容透过人的节点来成规模地生产和分享。用户通过问答等交流方式建立信任和连接，打造和提升个人影响力，并发现、获得新机会。"</span>/&gt;</span><span class="tag">&lt;<span class="name">link</span> <span class="attr">data-react-helmet</span>=<span class="string">"true"</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">href</span>=<span class="string">"https://static.zhihu.com/heifetz/assets/apple-touch-icon-152.67c7b278.png"</span>/&gt;</span><span class="tag">&lt;<span class="name">link</span> <span class="attr">data-react-helmet</span>=<span class="string">"true"</span> <span class="attr">rel</span>=<span class="string">"apple-touch-icon"</span> <span class="attr">......</span></span></span><br></pre></td></tr></table></figure></div><div class="note info"><p>抓取二进制数据使用r.content,抓取图片、视频、音频可以使用</p></div><p>获取类型和响应码以及Cookies</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(r),r.status_code,r.cookies</span><br></pre></td></tr></table></figure></div><p>结果如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="ROUTEROS"><figure class="iseeu highlight /routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;RequestsCookieJar[Cookie(<span class="attribute">version</span>=0, <span class="attribute">name</span>=<span class="string">'_xsrf'</span>, <span class="attribute">value</span>=<span class="string">'f2dbbb2e-5469-4833-84f8-4688ff5f83ca'</span>, <span class="attribute">port</span>=None, <span class="attribute">port_specified</span>=<span class="literal">False</span>, <span class="attribute">domain</span>=<span class="string">'.zhihu.com'</span>, <span class="attribute">domain_specified</span>=<span class="literal">True</span>, <span class="attribute">domain_initial_dot</span>=<span class="literal">True</span>, <span class="attribute">path</span>=<span class="string">'/'</span>, <span class="attribute">path_specified</span>=<span class="literal">True</span>, <span class="attribute">secure</span>=<span class="literal">False</span>, <span class="attribute">expires</span>=None, <span class="attribute">discard</span>=<span class="literal">True</span>, <span class="attribute">comment</span>=None, <span class="attribute">comment_url</span>=None, rest=&#123;&#125;, <span class="attribute">rfc2109</span>=<span class="literal">False</span>), Cookie(<span class="attribute">version</span>=0, <span class="attribute">name</span>=<span class="string">'_zap'</span>, <span class="attribute">value</span>=<span class="string">'974b884d-3096-4ef7-9db3-7c2d4fa696d2'</span>, <span class="attribute">port</span>=None, <span class="attribute">port_specified</span>=<span class="literal">False</span>, <span class="attribute">domain</span>=<span class="string">'.zhihu.com'</span>, <span class="attribute">domain_specified</span>=<span class="literal">True</span>, <span class="attribute">domain_initial_dot</span>=<span class="literal">True</span>, <span class="attribute">path</span>=<span class="string">'/'</span>, <span class="attribute">path_specified</span>=<span class="literal">True</span>, <span class="attribute">secure</span>=<span class="literal">False</span>, <span class="attribute">expires</span>=1642430123, <span class="attribute">discard</span>=<span class="literal">False</span>, <span class="attribute">comment</span>=None, <span class="attribute">comment_url</span>=None, rest=&#123;&#125;, <span class="attribute">rfc2109</span>=<span class="literal">False</span>), Cookie(<span class="attribute">version</span>=0, <span class="attribute">name</span>=<span class="string">'d_c0'</span>, <span class="attribute">value</span>=<span class="string">'"AMBVgMhYrhCPTu83spKpYHKIPpSmGhs2vYM=|1579358123"'</span>, <span class="attribute">port</span>=None, <span class="attribute">port_specified</span>=<span class="literal">False</span>, <span class="attribute">domain</span>=<span class="string">'.zhihu.com'</span>, <span class="attribute">domain_specified</span>=<span class="literal">True</span>, <span class="attribute">domain_initial_dot</span>=<span class="literal">False</span>, <span class="attribute">path</span>=<span class="string">'/'</span>, <span class="attribute">path_specified</span>=<span class="literal">True</span>, <span class="attribute">secure</span>=<span class="literal">False</span>, <span class="attribute">expires</span>=1673966123, <span class="attribute">discard</span>=<span class="literal">False</span>, <span class="attribute">comment</span>=None, <span class="attribute">comment_url</span>=None, rest=&#123;&#125;, <span class="attribute">rfc2109</span>=<span class="literal">False</span>), Cookie(<span class="attribute">version</span>=0, <span class="attribute">name</span>=<span class="string">'KLBRSID'</span>, <span class="attribute">value</span>=<span class="string">'d6f775bb0765885473b0cba3a5fa9c12|1579358123|1579358123'</span>, <span class="attribute">port</span>=None, <span class="attribute">port_specified</span>=<span class="literal">False</span>, <span class="attribute">domain</span>=<span class="string">'www.zhihu.com'</span>, <span class="attribute">domain_specified</span>=<span class="literal">False</span>, <span class="attribute">domain_initial_dot</span>=<span class="literal">False</span>, <span class="attribute">path</span>=<span class="string">'/'</span>, <span class="attribute">path_specified</span>=<span class="literal">True</span>, <span class="attribute">secure</span>=<span class="literal">False</span>, <span class="attribute">expires</span>=None, <span class="attribute">discard</span>=<span class="literal">True</span>, <span class="attribute">comment</span>=None, <span class="attribute">comment_url</span>=None, rest=&#123;&#125;, <span class="attribute">rfc2109</span>=<span class="literal">False</span>)]&gt;)</span><br></pre></td></tr></table></figure></div><blockquote><p>其中，对知乎该页面进行抓取，如果不加headers，则会被禁止抓取。headers还可以加上host等信息。具体的headers可以在Chrome中的开发者工具中查看。</p></blockquote><h1 id="Requests高级用法"><a href="#Requests高级用法" class="headerlink" title="Requests高级用法"></a>Requests高级用法</h1><h2 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h2><p>使用requests提交文件数据与提交表单的方式一样，使用POST</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">files = &#123;<span class="string">'file'</span>:open(<span class="string">'../test.html'</span>,<span class="string">'rb'</span>)&#125;</span><br><span class="line">r = requests.post(<span class="string">"http://httpbin.org/post"</span>,files=files)</span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure></div><p>结果返回：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JSON"><figure class="iseeu highlight /json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"args"</span>: &#123;&#125;, </span><br><span class="line">  <span class="attr">"data"</span>: <span class="string">""</span>, </span><br><span class="line">  <span class="attr">"files"</span>: &#123;</span><br><span class="line">    <span class="attr">"file"</span>: <span class="string">"&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;XXX"</span></span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="attr">"form"</span>: &#123;&#125;, </span><br><span class="line">  <span class="attr">"headers"</span>: &#123;</span><br><span class="line">    <span class="attr">"Accept"</span>: <span class="string">"*/*"</span>, </span><br><span class="line">    <span class="attr">"Accept-Encoding"</span>: <span class="string">"gzip, deflate"</span>, </span><br><span class="line">    <span class="attr">"Content-Length"</span>: <span class="string">"183"</span>, </span><br><span class="line">    <span class="attr">"Content-Type"</span>: <span class="string">"multipart/form-data; boundary=c48f0acf59b0bbbb2bfb85123fc1e9a8"</span>, </span><br><span class="line">    <span class="attr">"Host"</span>: <span class="string">"httpbin.org"</span>, </span><br><span class="line">    <span class="attr">"User-Agent"</span>: <span class="string">"python-requests/2.22.0"</span></span><br><span class="line">  &#125;, </span><br><span class="line">  <span class="attr">"json"</span>: <span class="literal">null</span>, </span><br><span class="line">  <span class="attr">"origin"</span>: <span class="string">"119.138.12.7, 119.138.12.7"</span>, </span><br><span class="line">  <span class="attr">"url"</span>: <span class="string">"https://httpbin.org/post"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><blockquote><p>注意此时form是空的，而file不空。</p></blockquote><h2 id="Cookies维持登陆"><a href="#Cookies维持登陆" class="headerlink" title="Cookies维持登陆"></a>Cookies维持登陆</h2><p>首先登陆知乎，将headers中的Cookie内容复制下来</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200118233043026.png" alt></p><p>使用python设置带cookie的headers进行网页的爬取</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'user-agent'</span>:<span class="string">'Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14'</span>,</span><br><span class="line">    <span class="string">'Cookie'</span>:<span class="string">'_zap=0e494486-7b1d-49c1-b422-8ca12cb78a64; d_c0="AFAY8PstpBCPTjY_QcAZsYq5pzbozU3oicQ=|1578675815"; _xsrf=tGkekz1w7jqgQXIM728Wh5UAyzNma6q8; capsion_ticket="2|1:0|10:1579361278|14:capsion_ticket|44:YjdkYTI0YzhjY2FkNDU4YTgyOTc5M2NkZDhhMjlkMWU=|5c65b00f851c15e4db0b785174ec44edb7a39dbb263d5020fb2ce4f5ad7cd0f8"; Hm_lvt_98beee57fd2ef70ccdd5ca52b9740c49=1579154350,1579190501,1579356116,1579361278; l_n_c=1; r_cap_id="OTY1ZGU0NzM5OTUzNDczN2IzNWQ2NWY3YmI5MDBjZjA=|1579361280|8b01bbdb53a45bf7eaaa63d89515d99f20fbbaff"; cap_id="ODU1ZjgzZTI5YTRiNDAwZmIyZTNmY2NmN2JiMDgyMWM=|1579361280|d58acd5ba32aa92cec6cc46974cbe504e1e358e8"; l_cap_id="ZDNmOGQ4YTZiMWQ2NDU2ZDhmNGM5YzY2NThiMzNjYjk=|1579361280|cf77e41085a601d9b41267ba12ed01309d60b506"; n_c=1; z_c0=Mi4xY1ctTEFnQUFBQUFBVUJqdy15MmtFQmNBQUFCaEFsVk5EbklRWHdBeUUwQjNpcmlpUC02MDhUSWtVQkRFTXl1cXN3|1579361294|ef64ed49cd12b4ce9a1c51920bbc68e20a5b7a95; Hm_lpvt_98beee57fd2ef70ccdd5ca52b9740c49=1579361297; tst=r; KLBRSID=9d75f80756f65c61b0a50d80b4ca9b13|1579361297|1579356114'</span>,</span><br><span class="line">    <span class="string">'Host'</span>:<span class="string">'www.zhihu.com'</span></span><br><span class="line">&#125;</span><br><span class="line">r = requests.get(<span class="string">"https://www.zhihu.com"</span>,headers=headers)</span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure></div><p>通过以上的代码就能够返回知乎首页的网页数据了。</p><p><img src="/images/myLoading.gif" data-original="/image-20200118234324735.png" alt="image-20200118234324735"></p><h2 id="会话维持"><a href="#会话维持" class="headerlink" title="会话维持"></a>会话维持</h2><p>使用Session对象维持会话，又访问一个页面时相当于打开一个新的选项卡而不是一个新的浏览器页面</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'user-agent'</span>:<span class="string">'Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14'</span>,</span><br><span class="line">    <span class="string">'Cookie'</span>:<span class="string">'_zap=0e494486-7b1d-49c1-b422-8ca12cb78a64; d_c0="AFAY8PstpBCPTjY_QcAZsYq5pzbozU3oicQ=|1578675815"; _xsrf=tGkekz1w7jqgQXIM728Wh5UAyzNma6q8; capsion_ticket="2|1:0|10:1579361278|14:capsion_ticket|44:YjdkYTI0YzhjY2FkNDU4YTgyOTc5M2NkZDhhMjlkMWU=|5c65b00f851c15e4db0b785174ec44edb7a39dbb263d5020fb2ce4f5ad7cd0f8"; Hm_lvt_98beee57fd2ef70ccdd5ca52b9740c49=1579154350,1579190501,1579356116,1579361278; l_n_c=1; r_cap_id="OTY1ZGU0NzM5OTUzNDczN2IzNWQ2NWY3YmI5MDBjZjA=|1579361280|8b01bbdb53a45bf7eaaa63d89515d99f20fbbaff"; cap_id="ODU1ZjgzZTI5YTRiNDAwZmIyZTNmY2NmN2JiMDgyMWM=|1579361280|d58acd5ba32aa92cec6cc46974cbe504e1e358e8"; l_cap_id="ZDNmOGQ4YTZiMWQ2NDU2ZDhmNGM5YzY2NThiMzNjYjk=|1579361280|cf77e41085a601d9b41267ba12ed01309d60b506"; n_c=1; z_c0=Mi4xY1ctTEFnQUFBQUFBVUJqdy15MmtFQmNBQUFCaEFsVk5EbklRWHdBeUUwQjNpcmlpUC02MDhUSWtVQkRFTXl1cXN3|1579361294|ef64ed49cd12b4ce9a1c51920bbc68e20a5b7a95; Hm_lpvt_98beee57fd2ef70ccdd5ca52b9740c49=1579361297; tst=r; KLBRSID=9d75f80756f65c61b0a50d80b4ca9b13|1579361297|1579356114'</span>,</span><br><span class="line">    <span class="string">'Host'</span>:<span class="string">'www.zhihu.com'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">s = requests.Session() <span class="comment">#使用Session对象</span></span><br><span class="line">r1 = s.get(<span class="string">"https://www.zhihu.com/explore"</span>,headers=headers)</span><br><span class="line">r2 = s.get(<span class="string">"https://www.zhihu.com/explore"</span>,headers=headers)</span><br><span class="line"><span class="keyword">if</span>(r1.cookies == r2.cookies):</span><br><span class="line">    print(<span class="string">"yes!"</span>)</span><br></pre></td></tr></table></figure></div><p>输出如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YAML"><figure class="iseeu highlight /yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">yes</span><span class="string">!</span></span><br></pre></td></tr></table></figure></div><blockquote><p>Session通常用于模拟登陆成功后再进行下一步的操作</p></blockquote><h2 id="SSL证书验证"><a href="#SSL证书验证" class="headerlink" title="SSL证书验证"></a>SSL证书验证</h2><p>如果我们想跳过刚才 12306 的证书验证，把 verify 设置为 False 即可(虽然现在12306的证书已经支持了)。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">r = requests.get(<span class="string">'https://kyfw.12306.cn/otn/'</span>, verify=<span class="literal">False</span>)</span><br><span class="line"><span class="keyword">print</span> r.text</span><br></pre></td></tr></table></figure></div><blockquote><p>在默认情况下 verify 是 True，所以如果需要的话，需要手动设置下这个变量。</p></blockquote><h2 id="身份认证"><a href="#身份认证" class="headerlink" title="身份认证"></a>身份认证</h2><p>使用requests自带的身份认证功能</p><h1 id="Re正则表达式"><a href="#Re正则表达式" class="headerlink" title="Re正则表达式"></a>Re正则表达式</h1><ul><li><i class="fa fa-pencil"></i> 直观认识</li></ul><p><a href="https://tool.oschina.net/regex" class="LinkCard" target="_blank" rel="noopener">正则表达式测试工具</a></p><p>使用上面的正则表达式工具可以匹配一些特有的数据。</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200119005117272.png" alt></p><ul><li><i class="fa fa-pencil"></i> 再看看匹配规则</li></ul><table><thead><tr><th style="text-align:center">模式</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td style="text-align:center">^</td><td style="text-align:left">匹配字符串的开头</td></tr><tr><td style="text-align:center">$</td><td style="text-align:left">匹配字符串的末尾。</td></tr><tr><td style="text-align:center">.</td><td style="text-align:left">匹配任意字符，除了换行符，当re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符。</td></tr><tr><td style="text-align:center">[…]</td><td style="text-align:left">用来表示一组字符,单独列出：[amk] 匹配 ‘a’，’m’或’k’</td></tr><tr><td style="text-align:center">[^…]</td><td style="text-align:left">不在[]中的字符：[^abc] 匹配除了a,b,c之外的字符。</td></tr><tr><td style="text-align:center">re*</td><td style="text-align:left">匹配0个或多个的表达式。</td></tr><tr><td style="text-align:center">re+</td><td style="text-align:left">匹配1个或多个的表达式。</td></tr><tr><td style="text-align:center">re?</td><td style="text-align:left">匹配0个或1个由前面的正则表达式定义的片段，非贪婪方式</td></tr><tr><td style="text-align:center">re{ n}</td><td style="text-align:left">精确匹配 n 个前面表达式。例如， <strong>o{2}</strong> 不能匹配 “Bob” 中的 “o”，但是能匹配 “food” 中的两个 o。</td></tr><tr><td style="text-align:center">re{ n,}</td><td style="text-align:left">匹配 n 个前面表达式。例如， o{2,} 不能匹配”Bob”中的”o”，但能匹配 “foooood”中的所有 o。”o{1,}” 等价于 “o+”。”o{0,}” 则等价于 “o*”。</td></tr><tr><td style="text-align:center">re{ n, m}</td><td style="text-align:left">匹配 n 到 m 次由前面的正则表达式定义的片段，贪婪方式</td></tr><tr><td style="text-align:center">a\b</td><td style="text-align:left">匹配a或b</td></tr><tr><td style="text-align:center">(re)</td><td style="text-align:left">对正则表达式分组并记住匹配的文本</td></tr><tr><td style="text-align:center">(?imx)</td><td style="text-align:left">正则表达式包含三种可选标志：i, m, 或 x 。只影响括号中的区域。</td></tr><tr><td style="text-align:center">(?-imx)</td><td style="text-align:left">正则表达式关闭 i, m, 或 x 可选标志。只影响括号中的区域。</td></tr><tr><td style="text-align:center">(?: re)</td><td style="text-align:left">类似 (…), 但是不表示一个组</td></tr><tr><td style="text-align:center">(?imx: re)</td><td style="text-align:left">在括号中使用i, m, 或 x 可选标志</td></tr><tr><td style="text-align:center">(?-imx: re)</td><td style="text-align:left">在括号中不使用i, m, 或 x 可选标志</td></tr><tr><td style="text-align:center">(?#…)</td><td style="text-align:left">注释.</td></tr><tr><td style="text-align:center">(?= re)</td><td style="text-align:left">前向肯定界定符。如果所含正则表达式，以 … 表示，在当前位置成功匹配时成功，否则失败。但一旦所含表达式已经尝试，匹配引擎根本没有提高；模式的剩余部分还要尝试界定符的右边。</td></tr><tr><td style="text-align:center">(?! re)</td><td style="text-align:left">前向否定界定符。与肯定界定符相反；当所含表达式不能在字符串当前位置匹配时成功</td></tr><tr><td style="text-align:center">(?&gt; re)</td><td style="text-align:left">匹配的独立模式，省去回溯。</td></tr><tr><td style="text-align:center">\w</td><td style="text-align:left">匹配字母数字及下划线</td></tr><tr><td style="text-align:center">\W</td><td style="text-align:left">匹配非字母数字及下划线</td></tr><tr><td style="text-align:center">\s</td><td style="text-align:left">匹配任意空白字符，等价于 [\t\n\r\f].</td></tr><tr><td style="text-align:center">\S</td><td style="text-align:left">匹配任意非空字符</td></tr><tr><td style="text-align:center">\d</td><td style="text-align:left">匹配任意数字，等价于 [0-9].</td></tr><tr><td style="text-align:center">\D</td><td style="text-align:left">匹配任意非数字</td></tr><tr><td style="text-align:center">\A</td><td style="text-align:left">匹配字符串开始</td></tr><tr><td style="text-align:center">\Z</td><td style="text-align:left">匹配字符串结束，如果是存在换行，只匹配到换行前的结束字符串。</td></tr><tr><td style="text-align:center">\z</td><td style="text-align:left">匹配字符串结束</td></tr><tr><td style="text-align:center">\G</td><td style="text-align:left">匹配最后匹配完成的位置。</td></tr><tr><td style="text-align:center">\b</td><td style="text-align:left">匹配一个单词边界，也就是指单词和空格间的位置。例如， ‘er\b’ 可以匹配”never” 中的 ‘er’，但不能匹配 “verb” 中的 ‘er’。</td></tr><tr><td style="text-align:center">\B</td><td style="text-align:left">匹配非单词边界。’er\B’ 能匹配 “verb” 中的 ‘er’，但不能匹配 “never” 中的 ‘er’。</td></tr><tr><td style="text-align:center">\n, \t, 等.</td><td style="text-align:left">匹配一个换行符。匹配一个制表符。等</td></tr><tr><td style="text-align:center">\1…\9</td><td style="text-align:left">匹配第n个分组的内容。</td></tr><tr><td style="text-align:center">\10</td><td style="text-align:left">匹配第n个分组的内容，如果它经匹配。否则指的是八进制字符码的表达式。</td></tr></tbody></table><h2 id="函数与方法"><a href="#函数与方法" class="headerlink" title="函数与方法"></a>函数与方法</h2><h3 id="match"><a href="#match" class="headerlink" title="match()"></a>match()</h3><p>在match()方法中，第一个参数传入正则表达式，第二个参数是要匹配的字符串，并且match()方法会从字符串的起始位置进行匹配，不匹配就返回None，匹配返回的结果是一个<code>re.Match</code>对象。</p><p>例如下面的文本</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="APPLESCRIPT"><figure class="iseeu highlight /applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">My Phone <span class="built_in">number</span> <span class="keyword">is</span> <span class="number">17318062050</span>,<span class="keyword">and</span> <span class="keyword">my</span> email <span class="keyword">is</span> <span class="number">1427298682</span>@qq.com.</span><br></pre></td></tr></table></figure></div><p>使用正则表达式<code>\d{11}</code>匹配11位数字的手机号码</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">"My Phone number is 17318062050,and my email is 1427298682@qq.com."</span></span><br><span class="line">regex = <span class="string">'\d&#123;11&#125;'</span></span><br><span class="line">result = re.search(regex,text)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure></div><p>返回的结果为None，因为是从字符串的起始位置匹配</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">None</span></span><br></pre></td></tr></table></figure></div><p>假若使用正则表达式<code>^.*?\d{11}</code>进行从开头匹配，可以得到返回结果不为None</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">"My Phone number is 17318062050,and my email is 1427298682@qq.com."</span></span><br><span class="line">regex = <span class="string">'^.*?\d&#123;11&#125;'</span></span><br><span class="line">result = re.match(regex,text)</span><br><span class="line">print(result)<span class="comment"># 匹配的对象</span></span><br><span class="line">print(result.group())<span class="comment"># 输出匹配的内容</span></span><br><span class="line">print(result.span())<span class="comment"># 输出匹配的范围</span></span><br></pre></td></tr></table></figure></div><p>结果如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="LSL"><figure class="iseeu highlight /lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;re.Match object; span=(<span class="number">0</span>, <span class="number">30</span>), match='My Phone number is <span class="number">17318062050</span>'&gt;</span><br><span class="line">My Phone number is <span class="number">17318062050</span></span><br><span class="line">(<span class="number">0</span>, <span class="number">30</span>)</span><br></pre></td></tr></table></figure></div><ul><li><p>匹配目标</p><p>可以使用()括号将想要提取的子字符串括起来，然后调用group()方法传入分组的索引即可提取结果。索引为0是匹配的总字符串，其他分组索引从1开始。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">"My Phone number is 17318062050,and my email is 1427298682@qq.com."</span></span><br><span class="line">regex = <span class="string">'^.*?(\d&#123;11&#125;)'</span></span><br><span class="line">result = re.match(regex,text)</span><br><span class="line">print(result.group(<span class="number">1</span>))</span><br></pre></td></tr></table></figure></div><p>使用括号匹配11位手机号码</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DNS"><figure class="iseeu highlight /dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">17318062050</span></span><br></pre></td></tr></table></figure></div><ul><li><p>通用匹配</p><p>假如像前面那样，出现空白字符就用<code>\s</code>匹配，出现字母或者下划线就用<code>\w</code>,出现数字就用<code>\d</code>,这样的工作量非常大。其实，还有一个更加方便的方法可以使用，那就是<code>.*</code>(点星)。其中<code>.</code>(点)可以匹配任意字符串(除换行符)，<code>*</code>(星)代表匹配前面的字符无限次，所以合在一起就可以匹配任意的字符了。</p></li><li><p>贪婪与非贪婪</p><p><code>.*</code>是贪婪，<code>.*?</code>是非贪婪。</p></li></ul></li></ul><h3 id="search"><a href="#search" class="headerlink" title="search()"></a>search()</h3><p>search()方法可以不从字符串的起始位置开始匹配，只要找到匹配的就返回结果，如果不存在字串匹配的话就返回None。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">"My Phone number is 17318062050,and my email is 1427298682@qq.com."</span></span><br><span class="line">regex = <span class="string">'\d&#123;11&#125;'</span></span><br><span class="line">result = re.search(regex,text)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SCALA"><figure class="iseeu highlight /scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;re.<span class="type">Match</span> <span class="class"><span class="keyword">object</span></span>; span=(<span class="number">19</span>, <span class="number">30</span>), <span class="keyword">match</span>=<span class="symbol">'1731806205</span>0'&gt;</span><br></pre></td></tr></table></figure></div><h3 id="findall"><a href="#findall" class="headerlink" title="findall()"></a>findall()</h3><p>可以查找一个字符串里面所有匹配的正则表达式，特点可以匹配多个，不止一个。</p><h3 id="sub"><a href="#sub" class="headerlink" title="sub()"></a>sub()</h3><p>可以进行字串的替换。例如下面将电话号码替换成<code>None</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">"My Phone number is 17318062050,and my email is 1427298682@qq.com."</span></span><br><span class="line">regex = <span class="string">'\d&#123;11&#125;'</span></span><br><span class="line">r = re.sub(regex,<span class="string">'None'</span>,text)</span><br><span class="line">print(r)</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="R"><figure class="iseeu highlight /r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">My Phone number is None,and my email is <span class="number">1427298682</span>@qq.com.</span><br></pre></td></tr></table></figure></div><h3 id="compile"><a href="#compile" class="headerlink" title="compile()"></a>compile()</h3><p>使用该方法可以生成一个正则表达式对象。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">"My Phone number is 17318062050,and my email is 1427298682@qq.com."</span></span><br><span class="line">regex = <span class="string">'\d&#123;11&#125;'</span></span><br><span class="line">pattern = re.compile(regex)<span class="comment">#生成一个正则表达式对象</span></span><br><span class="line">result = re.search(pattern,text)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SCALA"><figure class="iseeu highlight /scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;re.<span class="type">Match</span> <span class="class"><span class="keyword">object</span></span>; span=(<span class="number">19</span>, <span class="number">30</span>), <span class="keyword">match</span>=<span class="symbol">'1731806205</span>0'&gt;</span><br></pre></td></tr></table></figure></div><h2 id="爬取知乎发现页面的四个专题Title"><a href="#爬取知乎发现页面的四个专题Title" class="headerlink" title="爬取知乎发现页面的四个专题Title"></a>爬取知乎发现页面的四个专题Title</h2><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120124521012.png" alt></p><h3 id="分析页面"><a href="#分析页面" class="headerlink" title="分析页面"></a>分析页面</h3><p>使用开发者工具，选择Elements元素，将鼠标放置在Title上可以发现下面的文档对应上面的显示</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120124724230.png" alt></p><h3 id="编写正则表达式"><a href="#编写正则表达式" class="headerlink" title="编写正则表达式"></a>编写正则表达式</h3><p>通过上面对页面进行的分析，则很容易可以写出匹配四个专题的title的正则表达式，如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">regex = <span class="string">'&lt;a.*?ExploreSpecialCard-title.*?&gt;(.*?)&lt;/a&gt;'</span></span><br></pre></td></tr></table></figure></div><h3 id="开始爬取"><a href="#开始爬取" class="headerlink" title="开始爬取"></a>开始爬取</h3><p>编写完正则表达式之后，就可以使用requests先爬取整个页面，然后使用Re解析整个页面，最后得到需要的数据。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>:<span class="string">'Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14'</span></span><br><span class="line">&#125;</span><br><span class="line">url = <span class="string">'https://www.zhihu.com/explore'</span></span><br><span class="line">r = requests.get(url,headers=headers)</span><br><span class="line">regex = <span class="string">'&lt;a.*?ExploreSpecialCard-title.*?&gt;(.*?)&lt;/a&gt;'</span></span><br><span class="line">result = re.findall(regex,r.text,re.S)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(result)):</span><br><span class="line">    print(i+<span class="number">1</span> ,<span class="string">":"</span>+result[i].strip())</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASIC"><figure class="iseeu highlight /basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">1 </span>:新型冠状病毒肺炎预防术</span><br><span class="line"><span class="symbol">2 </span>:有哪些特别好看的壁纸？</span><br><span class="line"><span class="symbol">3 </span>:「知识」无法「劝退」</span><br><span class="line"><span class="symbol">4 </span>:好奇星人 · 十二生肖（下）</span><br></pre></td></tr></table></figure></div><h2 id="爬取人人影视时下热门"><a href="#爬取人人影视时下热门" class="headerlink" title="爬取人人影视时下热门"></a>爬取人人影视时下热门</h2><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure></div><p>设置请求头和url</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">'http://www.zmz2019.com/'</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>:<span class="string">'Opera/9.80 (Windows NT 6.0) Presto/2.12.388 Version/12.14'</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>获取整个网页文档</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">r = requests.get(url,headers=headers)</span><br><span class="line">r.encoding = <span class="string">'utf-8'</span></span><br><span class="line">r.text</span><br></pre></td></tr></table></figure></div><p>保存网页文档</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">text = r.text</span><br></pre></td></tr></table></figure></div><p>编写正则表达式进行过滤</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">regex = <span class="string">'&lt;div class="box clearfix"&gt;.*?&lt;ul&gt;(.*?)&lt;/ul&gt;.*?&lt;/div&gt;'</span></span><br><span class="line">result = re.search(regex,r.text,re.S)</span><br><span class="line">result.group(<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><pre><code>&apos;\n                    &lt;li&gt;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;1&lt;/span&gt;&lt;a href=&quot;/resource/39382&quot; title=&quot;阿基米德大战&quot;&gt;阿基米德大战&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li class=&quot;top&quot;&gt;--&gt;\n&lt;!--                      &lt;span&gt;1&lt;/span&gt;--&gt;\n&lt;!--                      &lt;div class=&quot;fl-img&quot;&gt;--&gt;\n&lt;!--                        &lt;a href=&quot;/resource/39382&quot; title=&quot;阿基米德大战&quot;&gt;&lt;img src=&quot;http://tu.jstucdn.com/ftp/2020/0118/s_aa1a4595c746e2013dc398464c876289.jpg&quot; /&gt;&lt;/a&gt;--&gt;\n&lt;!--                      &lt;/div&gt;--&gt;\n&lt;!--                      &lt;div class=&quot;fl-info&quot;&gt;--&gt;\n&lt;!--                        &lt;a href=&quot;/resource/39382&quot;&gt;阿基米德大战&lt;/a&gt;--&gt;\n&lt;!--                          &lt;p&gt;电影&lt;/p&gt;--&gt;\n&lt;!--                          &lt;p&gt;2019&lt;/p&gt;--&gt;\n&lt;!--                      &lt;/div&gt;--&gt;\n&lt;!--                    &lt;/li&gt;--&gt;\n&lt;!--                    --&gt;&lt;li&gt;&lt;em&gt;英剧&lt;/em&gt;&lt;span&gt;2&lt;/span&gt;&lt;a href=&quot;/resource/37449&quot; title=&quot;性教育&quot;&gt;性教育&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;英剧&lt;/em&gt;&lt;span&gt;2&lt;/span&gt;&lt;a href=&quot;/resource/37449&quot; title=&quot;性教育&quot;&gt;性教育&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;3&lt;/span&gt;&lt;a href=&quot;/resource/39348&quot; title=&quot;局外人&quot;&gt;局外人&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;3&lt;/span&gt;&lt;a href=&quot;/resource/39348&quot; title=&quot;局外人&quot;&gt;局外人&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;4&lt;/span&gt;&lt;a href=&quot;/resource/38580&quot; title=&quot;终结者：黑暗命运&quot;&gt;终结者：黑暗命运&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;4&lt;/span&gt;&lt;a href=&quot;/resource/38580&quot; title=&quot;终结者：黑暗命运&quot;&gt;终结者：黑暗命运&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;5&lt;/span&gt;&lt;a href=&quot;/resource/39370&quot; title=&quot;丧钟：骑士与龙&quot;&gt;丧钟：骑士与龙&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;5&lt;/span&gt;&lt;a href=&quot;/resource/39370&quot; title=&quot;丧钟：骑士与龙&quot;&gt;丧钟：骑士与龙&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;6&lt;/span&gt;&lt;a href=&quot;/resource/39394&quot; title=&quot;忒修斯之船&quot;&gt;忒修斯之船&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;6&lt;/span&gt;&lt;a href=&quot;/resource/39394&quot; title=&quot;忒修斯之船&quot;&gt;忒修斯之船&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;7&lt;/span&gt;&lt;a href=&quot;/resource/39392&quot; title=&quot;这个男人是我人生最大的错误&quot;&gt;这个男人是我人生最大的错误&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;7&lt;/span&gt;&lt;a href=&quot;/resource/39392&quot; title=&quot;这个男人是我人生最大的错误&quot;&gt;这个男人是我人生最大的错误&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;8&lt;/span&gt;&lt;a href=&quot;/resource/39381&quot; title=&quot;猎龙飞船&quot;&gt;猎龙飞船&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;8&lt;/span&gt;&lt;a href=&quot;/resource/39381&quot; title=&quot;猎龙飞船&quot;&gt;猎龙飞船&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;9&lt;/span&gt;&lt;a href=&quot;/resource/35493&quot; title=&quot;良医&quot;&gt;良医&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;9&lt;/span&gt;&lt;a href=&quot;/resource/35493&quot; title=&quot;良医&quot;&gt;良医&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;10&lt;/span&gt;&lt;a href=&quot;/resource/39321&quot; title=&quot;掠夺者&quot;&gt;掠夺者&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;10&lt;/span&gt;&lt;a href=&quot;/resource/39321&quot; title=&quot;掠夺者&quot;&gt;掠夺者&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;11&lt;/span&gt;&lt;a href=&quot;/resource/39339&quot; title=&quot;小美国&quot;&gt;小美国&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;11&lt;/span&gt;&lt;a href=&quot;/resource/39339&quot; title=&quot;小美国&quot;&gt;小美国&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;12&lt;/span&gt;&lt;a href=&quot;/resource/10760&quot; title=&quot;无耻家庭&quot;&gt;无耻家庭&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;12&lt;/span&gt;&lt;a href=&quot;/resource/10760&quot; title=&quot;无耻家庭&quot;&gt;无耻家庭&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;&lt;li&gt;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;13&lt;/span&gt;&lt;a href=&quot;/resource/39325&quot; title=&quot;倒忌时&quot;&gt;倒忌时&lt;/a&gt;&lt;/li&gt;\n&lt;!--                    --&gt;\n&lt;!--                    &lt;li&gt;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;13&lt;/span&gt;&lt;a href=&quot;/resource/39325&quot; title=&quot;倒忌时&quot;&gt;倒忌时&lt;/a&gt;&lt;/li&gt;--&gt;\n&lt;!----&gt;                    &apos;</code></pre><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">regex = <span class="string">'&lt;li&gt;(.*?)&lt;/li&gt;'</span></span><br><span class="line">result = re.findall(regex,result.group(),re.S)</span><br><span class="line">result</span><br></pre></td></tr></table></figure></div><pre><code>[&apos;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;1&lt;/span&gt;&lt;a href=&quot;/resource/39382&quot; title=&quot;阿基米德大战&quot;&gt;阿基米德大战&lt;/a&gt;&apos;, &apos;&lt;em&gt;英剧&lt;/em&gt;&lt;span&gt;2&lt;/span&gt;&lt;a href=&quot;/resource/37449&quot; title=&quot;性教育&quot;&gt;性教育&lt;/a&gt;&apos;, &apos;&lt;em&gt;英剧&lt;/em&gt;&lt;span&gt;2&lt;/span&gt;&lt;a href=&quot;/resource/37449&quot; title=&quot;性教育&quot;&gt;性教育&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;3&lt;/span&gt;&lt;a href=&quot;/resource/39348&quot; title=&quot;局外人&quot;&gt;局外人&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;3&lt;/span&gt;&lt;a href=&quot;/resource/39348&quot; title=&quot;局外人&quot;&gt;局外人&lt;/a&gt;&apos;, &apos;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;4&lt;/span&gt;&lt;a href=&quot;/resource/38580&quot; title=&quot;终结者：黑暗命运&quot;&gt;终结者：黑暗命运&lt;/a&gt;&apos;, &apos;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;4&lt;/span&gt;&lt;a href=&quot;/resource/38580&quot; title=&quot;终结者：黑暗命运&quot;&gt;终结者：黑暗命运&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;5&lt;/span&gt;&lt;a href=&quot;/resource/39370&quot; title=&quot;丧钟：骑士与龙&quot;&gt;丧钟：骑士与龙&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;5&lt;/span&gt;&lt;a href=&quot;/resource/39370&quot; title=&quot;丧钟：骑士与龙&quot;&gt;丧钟：骑士与龙&lt;/a&gt;&apos;, &apos;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;6&lt;/span&gt;&lt;a href=&quot;/resource/39394&quot; title=&quot;忒修斯之船&quot;&gt;忒修斯之船&lt;/a&gt;&apos;, &apos;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;6&lt;/span&gt;&lt;a href=&quot;/resource/39394&quot; title=&quot;忒修斯之船&quot;&gt;忒修斯之船&lt;/a&gt;&apos;, &apos;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;7&lt;/span&gt;&lt;a href=&quot;/resource/39392&quot; title=&quot;这个男人是我人生最大的错误&quot;&gt;这个男人是我人生最大的错误&lt;/a&gt;&apos;, &apos;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;7&lt;/span&gt;&lt;a href=&quot;/resource/39392&quot; title=&quot;这个男人是我人生最大的错误&quot;&gt;这个男人是我人生最大的错误&lt;/a&gt;&apos;, &apos;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;8&lt;/span&gt;&lt;a href=&quot;/resource/39381&quot; title=&quot;猎龙飞船&quot;&gt;猎龙飞船&lt;/a&gt;&apos;, &apos;&lt;em&gt;日剧&lt;/em&gt;&lt;span&gt;8&lt;/span&gt;&lt;a href=&quot;/resource/39381&quot; title=&quot;猎龙飞船&quot;&gt;猎龙飞船&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;9&lt;/span&gt;&lt;a href=&quot;/resource/35493&quot; title=&quot;良医&quot;&gt;良医&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;9&lt;/span&gt;&lt;a href=&quot;/resource/35493&quot; title=&quot;良医&quot;&gt;良医&lt;/a&gt;&apos;, &apos;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;10&lt;/span&gt;&lt;a href=&quot;/resource/39321&quot; title=&quot;掠夺者&quot;&gt;掠夺者&lt;/a&gt;&apos;, &apos;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;10&lt;/span&gt;&lt;a href=&quot;/resource/39321&quot; title=&quot;掠夺者&quot;&gt;掠夺者&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;11&lt;/span&gt;&lt;a href=&quot;/resource/39339&quot; title=&quot;小美国&quot;&gt;小美国&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;11&lt;/span&gt;&lt;a href=&quot;/resource/39339&quot; title=&quot;小美国&quot;&gt;小美国&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;12&lt;/span&gt;&lt;a href=&quot;/resource/10760&quot; title=&quot;无耻家庭&quot;&gt;无耻家庭&lt;/a&gt;&apos;, &apos;&lt;em&gt;美剧&lt;/em&gt;&lt;span&gt;12&lt;/span&gt;&lt;a href=&quot;/resource/10760&quot; title=&quot;无耻家庭&quot;&gt;无耻家庭&lt;/a&gt;&apos;, &apos;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;13&lt;/span&gt;&lt;a href=&quot;/resource/39325&quot; title=&quot;倒忌时&quot;&gt;倒忌时&lt;/a&gt;&apos;, &apos;&lt;em&gt;电影&lt;/em&gt;&lt;span&gt;13&lt;/span&gt;&lt;a href=&quot;/resource/39325&quot; title=&quot;倒忌时&quot;&gt;倒忌时&lt;/a&gt;&apos;]</code></pre><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">regex_data = <span class="string">'&lt;em&gt;(.*?)&lt;/em&gt;.*?&lt;span&gt;(\d+)&lt;/span&gt;.*?&lt;a href="(.*?)" title="(.*?)"&gt;.*?&lt;/a&gt;'</span></span><br><span class="line">data_list = []</span><br><span class="line"><span class="keyword">for</span> ri <span class="keyword">in</span> result:</span><br><span class="line">    r = re.search(regex_data,ri,re.S)</span><br><span class="line">    print(r.groups())</span><br><span class="line">    item = dict()</span><br><span class="line">    item[<span class="string">'type'</span>] = r.group(<span class="number">1</span>)</span><br><span class="line">    item[<span class="string">'index'</span>] = r.group(<span class="number">2</span>)</span><br><span class="line">    item[<span class="string">'link'</span>] = <span class="string">'http://www.zmz2019.com/'</span> + r.group(<span class="number">3</span>)</span><br><span class="line">    item[<span class="string">'name'</span>] = r.group(<span class="number">4</span>)</span><br><span class="line">    <span class="keyword">if</span>(item <span class="keyword">in</span> data_list):</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    data_list.append(item)</span><br></pre></td></tr></table></figure></div><pre><code>(&apos;电影&apos;, &apos;1&apos;, &apos;/resource/39382&apos;, &apos;阿基米德大战&apos;)(&apos;英剧&apos;, &apos;2&apos;, &apos;/resource/37449&apos;, &apos;性教育&apos;)(&apos;英剧&apos;, &apos;2&apos;, &apos;/resource/37449&apos;, &apos;性教育&apos;)(&apos;美剧&apos;, &apos;3&apos;, &apos;/resource/39348&apos;, &apos;局外人&apos;)(&apos;美剧&apos;, &apos;3&apos;, &apos;/resource/39348&apos;, &apos;局外人&apos;)(&apos;电影&apos;, &apos;4&apos;, &apos;/resource/38580&apos;, &apos;终结者：黑暗命运&apos;)(&apos;电影&apos;, &apos;4&apos;, &apos;/resource/38580&apos;, &apos;终结者：黑暗命运&apos;)(&apos;美剧&apos;, &apos;5&apos;, &apos;/resource/39370&apos;, &apos;丧钟：骑士与龙&apos;)(&apos;美剧&apos;, &apos;5&apos;, &apos;/resource/39370&apos;, &apos;丧钟：骑士与龙&apos;)(&apos;日剧&apos;, &apos;6&apos;, &apos;/resource/39394&apos;, &apos;忒修斯之船&apos;)(&apos;日剧&apos;, &apos;6&apos;, &apos;/resource/39394&apos;, &apos;忒修斯之船&apos;)(&apos;日剧&apos;, &apos;7&apos;, &apos;/resource/39392&apos;, &apos;这个男人是我人生最大的错误&apos;)(&apos;日剧&apos;, &apos;7&apos;, &apos;/resource/39392&apos;, &apos;这个男人是我人生最大的错误&apos;)(&apos;日剧&apos;, &apos;8&apos;, &apos;/resource/39381&apos;, &apos;猎龙飞船&apos;)(&apos;日剧&apos;, &apos;8&apos;, &apos;/resource/39381&apos;, &apos;猎龙飞船&apos;)(&apos;美剧&apos;, &apos;9&apos;, &apos;/resource/35493&apos;, &apos;良医&apos;)(&apos;美剧&apos;, &apos;9&apos;, &apos;/resource/35493&apos;, &apos;良医&apos;)(&apos;电影&apos;, &apos;10&apos;, &apos;/resource/39321&apos;, &apos;掠夺者&apos;)(&apos;电影&apos;, &apos;10&apos;, &apos;/resource/39321&apos;, &apos;掠夺者&apos;)(&apos;美剧&apos;, &apos;11&apos;, &apos;/resource/39339&apos;, &apos;小美国&apos;)(&apos;美剧&apos;, &apos;11&apos;, &apos;/resource/39339&apos;, &apos;小美国&apos;)(&apos;美剧&apos;, &apos;12&apos;, &apos;/resource/10760&apos;, &apos;无耻家庭&apos;)(&apos;美剧&apos;, &apos;12&apos;, &apos;/resource/10760&apos;, &apos;无耻家庭&apos;)(&apos;电影&apos;, &apos;13&apos;, &apos;/resource/39325&apos;, &apos;倒忌时&apos;)(&apos;电影&apos;, &apos;13&apos;, &apos;/resource/39325&apos;, &apos;倒忌时&apos;)</code></pre><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> data_list:</span><br><span class="line">    print(x)</span><br></pre></td></tr></table></figure></div><pre><code>{&apos;type&apos;: &apos;电影&apos;, &apos;index&apos;: &apos;1&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39382&apos;, &apos;name&apos;: &apos;阿基米德大战&apos;}{&apos;type&apos;: &apos;英剧&apos;, &apos;index&apos;: &apos;2&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/37449&apos;, &apos;name&apos;: &apos;性教育&apos;}{&apos;type&apos;: &apos;美剧&apos;, &apos;index&apos;: &apos;3&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39348&apos;, &apos;name&apos;: &apos;局外人&apos;}{&apos;type&apos;: &apos;电影&apos;, &apos;index&apos;: &apos;4&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/38580&apos;, &apos;name&apos;: &apos;终结者：黑暗命运&apos;}{&apos;type&apos;: &apos;美剧&apos;, &apos;index&apos;: &apos;5&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39370&apos;, &apos;name&apos;: &apos;丧钟：骑士与龙&apos;}{&apos;type&apos;: &apos;日剧&apos;, &apos;index&apos;: &apos;6&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39394&apos;, &apos;name&apos;: &apos;忒修斯之船&apos;}{&apos;type&apos;: &apos;日剧&apos;, &apos;index&apos;: &apos;7&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39392&apos;, &apos;name&apos;: &apos;这个男人是我人生最大的错误&apos;}{&apos;type&apos;: &apos;日剧&apos;, &apos;index&apos;: &apos;8&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39381&apos;, &apos;name&apos;: &apos;猎龙飞船&apos;}{&apos;type&apos;: &apos;美剧&apos;, &apos;index&apos;: &apos;9&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/35493&apos;, &apos;name&apos;: &apos;良医&apos;}{&apos;type&apos;: &apos;电影&apos;, &apos;index&apos;: &apos;10&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39321&apos;, &apos;name&apos;: &apos;掠夺者&apos;}{&apos;type&apos;: &apos;美剧&apos;, &apos;index&apos;: &apos;11&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39339&apos;, &apos;name&apos;: &apos;小美国&apos;}{&apos;type&apos;: &apos;美剧&apos;, &apos;index&apos;: &apos;12&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/10760&apos;, &apos;name&apos;: &apos;无耻家庭&apos;}{&apos;type&apos;: &apos;电影&apos;, &apos;index&apos;: &apos;13&apos;, &apos;link&apos;: &apos;http://www.zmz2019.com//resource/39325&apos;, &apos;name&apos;: &apos;倒忌时&apos;}</code></pre><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'top24-RR.md'</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">'# 24小时下载热门\n'</span>)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> data_list:</span><br><span class="line">        f.write(<span class="string">"## "</span> + str(x[<span class="string">'index'</span>]) + x[<span class="string">'name'</span>] + <span class="string">'-'</span> + x[<span class="string">'type'</span>] + <span class="string">'\n'</span>)</span><br><span class="line">        f.write(<span class="string">"link:"</span> + x[<span class="string">'link'</span>] + <span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure></div><p>最终结果如下：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200120141528343.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/v2-48418ab1d69b13d7cb5edb5ee3186b61_fhd.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="python" scheme="http://jiahong.cf/tags/python/"/>
    
      <category term="爬虫" scheme="http://jiahong.cf/tags/%E7%88%AC%E8%99%AB/"/>
    
      <category term="re" scheme="http://jiahong.cf/tags/re/"/>
    
      <category term="requests" scheme="http://jiahong.cf/tags/requests/"/>
    
  </entry>
  
  <entry>
    <title>爬虫原理及基础</title>
    <link href="http://jiahong.cf/posts/5d834ab4.html"/>
    <id>http://jiahong.cf/posts/5d834ab4.html</id>
    <published>2020-01-16T15:54:40.000Z</published>
    <updated>2020-02-05T05:03:41.642Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/net.jpg" alt></p><a id="more"></a><h1 id="HTTP基本原理"><a href="#HTTP基本原理" class="headerlink" title="HTTP基本原理"></a>HTTP基本原理</h1><h2 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h2><p>URI包括URL与URN。可用如下的图表示：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/591228-20160116223301225-1866838315.png" alt></p><ol><li>URI = Universal Resource Identifier 统一资源标志符，用来标识抽象或物理资源的一个紧凑字符串。</li><li>URL = Universal Resource Locator 统一资源定位符，一种定位资源的主要访问机制的字符串，一个标准的URL必须包括：protocol、host、port、path、parameter、anchor。例子是一个网址，可以通过这个位置获取资源。</li><li>URN = Universal Resource Name 统一资源名称，通过特定命名空间中的唯一名称或ID来标识资源。例子是一本书的ISBN：9787500577690，但是没有定位位置。</li></ol><h2 id="两个协议"><a href="#两个协议" class="headerlink" title="两个协议"></a>两个协议</h2><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/HTTP-vs-HTTPS.png" alt></p><h3 id="What’s-HTTP？"><a href="#What’s-HTTP？" class="headerlink" title="What’s HTTP？"></a>What’s HTTP？</h3><blockquote><p><strong>HTTP</strong>（HyperText Transfer Protocol：超文本传输协议）是一种用于分布式、协作式和超媒体信息系统的应用层协议。 简单来说就是一种发布和接收 HTML 页面的方法，被用于在 Web 浏览器和网站服务器之间传递信息。</p></blockquote><h3 id="What‘s-HTTPS"><a href="#What‘s-HTTPS" class="headerlink" title="What‘s HTTPS"></a>What‘s HTTPS</h3><blockquote><p><strong>HTTPS</strong>（Hypertext Transfer Protocol Secure：超文本传输安全协议）是一种透过计算机网络进行安全通信的传输协议。简单的讲就是HTTPS是HTTP的安全版，在HTTP下加入SSL层，简称HTTPS。</p></blockquote><h2 id="HTTP请求过程"><a href="#HTTP请求过程" class="headerlink" title="HTTP请求过程"></a>HTTP请求过程</h2><p>TCP三次握手</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/dffdff.png" alt></p><p>在谷歌浏览器查看请求返回的数据，按F12查看：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200117005114027.png" alt></p><p>一个请求包含：</p><ol><li>请求方法，可以是GET和POST</li><li>请求的网址</li><li>请求头(Headers)</li><li>请求体，一般是POST提交的表单数据</li></ol><p>一个响应包括：</p><ol><li>响应状态吗，表示服务器的响应状态</li><li>响应头，与请求头类似</li><li>响应体，响应的正文数据在响应体中。</li></ol><p>响应码可以看下面的博文，很详细：</p><p><a href="https://www.cnblogs.com/ssrs-wanghao/articles/8421535.html" class="LinkCard" target="_blank" rel="noopener">苦心明</a></p><h1 id="网页"><a href="#网页" class="headerlink" title="网页"></a>网页</h1><h2 id="网页组成"><a href="#网页组成" class="headerlink" title="网页组成"></a>网页组成</h2><ol><li>HTML，基础框架。</li><li>CSS，装饰网页。</li><li>JS，给网页增加交互性。</li></ol><h2 id="网页结构"><a href="#网页结构" class="headerlink" title="网页结构"></a>网页结构</h2><p>HTML DOM将HTML文档视作树结构，这种结构被称为节点树</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/2-12.jpg" alt></p><h2 id="定位节点——CSS选择器"><a href="#定位节点——CSS选择器" class="headerlink" title="定位节点——CSS选择器"></a>定位节点——CSS选择器</h2><p>在CSS中，我们使用CSS选择器来定位节点。例如，上例中<code>div</code>节点的<code>id</code>为<code>container</code>，那么就可以表示为<code>#container</code>，其中<code>#</code>开头代表选择<code>id</code>，其后紧跟<code>id</code>的名称。另外，如果我们想选择<code>class</code>为<code>wrapper</code>的节点，便可以使用<code>.wrapper</code>，这里以点（.）开头代表选择<code>class</code>，其后紧跟<code>class</code>的名称。另外，还有一种选择方式，那就是根据标签名筛选，例如想选择二级标题，直接用<code>h2</code>即可。这是最常用的3种表示，分别是根据<code>id</code>、<code>class</code>、标签名筛选，请牢记它们的写法。</p><p>另外，CSS选择器还支持嵌套选择，各个选择器之间加上空格分隔开便可以代表嵌套关系，如<code>#container .wrapper p</code>则代表先选择<code>id</code>为<code>container</code>的节点，然后选中其内部的<code>class</code>为<code>wrapper</code>的节点，然后再进一步选中其内部的<code>p</code>节点。另外，如果不加空格，则代表并列关系，如<code>div#container .wrapper p.text</code>代表先选择<code>id</code>为<code>container</code>的<code>div</code>节点，然后选中其内部的<code>class</code>为<code>wrapper</code>的节点，再进一步选中其内部的<code>class</code>为<code>text</code>的<code>p</code>节点。这就是CSS选择器，其筛选功能还是非常强大的。</p><p>CSS选择器的语法规则可以参考W3school</p><p><a href="https://www.w3school.com.cn/cssref/css_selectors.asp" class="LinkCard" target="_blank" rel="noopener">W3school</a></p><h1 id="爬虫基本原理"><a href="#爬虫基本原理" class="headerlink" title="爬虫基本原理"></a>爬虫基本原理</h1><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ol><li>获取网页</li><li>提取信息</li><li>保存数据</li><li>自动化</li></ol><blockquote><p>思维导图奉上</p></blockquote><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/爬虫基础.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/myLoading.gif&quot; data-original=&quot;https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/net.jpg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="python" scheme="http://jiahong.cf/tags/python/"/>
    
      <category term="爬虫" scheme="http://jiahong.cf/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>hexo再配置</title>
    <link href="http://jiahong.cf/posts/189af858.html"/>
    <id>http://jiahong.cf/posts/189af858.html</id>
    <published>2020-01-11T12:55:42.000Z</published>
    <updated>2020-02-05T04:51:38.207Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>之前配置了一些，现在再配置一些</p></blockquote><a id="more"></a><h2 id="切换主题"><a href="#切换主题" class="headerlink" title="切换主题"></a>切换主题</h2><p>直接在<code>_config.yml</code>文件下修改即可，不过得先下载号需要的主题文件</p><h2 id="新建文章"><a href="#新建文章" class="headerlink" title="新建文章"></a>新建文章</h2><p>使用命令<code>hexo new &quot;文章名&quot;</code>,新建一个新的文章</p><p>假如需要为每一个新建的文章都用一个文件夹存文章需要用到的一些图片文件或者资源，可以进行如下的配置</p><blockquote><p>到博客根目录下 查看<code>_config.yml</code>文件 查找 <code>post_asset_folder</code> 字段确定<code>post_asset_folder</code> 设置为true <code>-&gt; post_asset_folder:true</code></p><blockquote><p>执行 npm install <a href="https://link.jianshu.com/?t=https%3A%2F%2Fgithub.com%2FCodeFalling%2Fhexo-asset-image" target="_blank" rel="noopener">https://github.com/CodeFalling/hexo-asset-image</a> –save 命令来进行插件的安装</p></blockquote></blockquote><h2 id="实现fork-me-on-github"><a href="#实现fork-me-on-github" class="headerlink" title="实现fork me on github"></a>实现fork me on github</h2><p>在<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fblog%2F273-github-ribbons" target="_blank" rel="noopener">GitHub Ribbons</a>或<a href="https://links.jianshu.com/go?to=http%3A%2F%2Ftholman.com%2Fgithub-corners%2F" target="_blank" rel="noopener">GitHub Corners</a>选择一款你喜欢的挂饰，拷贝方框内的代码：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/fork.png" alt></p><p>将刚刚复制的挂饰代码，添加到<code>Blog/themes/next/layout/_layout.swig</code>文件中，添加位置如下图所示(放在<code></code>下方)：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/fileSet.png" alt></p><h2 id="文章末尾添加“文章结束”标记"><a href="#文章末尾添加“文章结束”标记" class="headerlink" title="文章末尾添加“文章结束”标记"></a>文章末尾添加“文章结束”标记</h2><p>在路径<code>Blog\themes\next\layout\_macro</code>文件夹中新建<code>passage-end-tag.swig</code>文件。</p><p>在<code>passage-end-tag.swig</code>添加以下内容，直接用文本编辑器打开，粘贴以下内容后保存</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>-------------本文结束<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-paw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>感谢您的阅读-------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>打开<code>Blog\themes\next\layout\_macro\post.swig</code>，在<code>post-body</code>之后，<code>post-footer</code>之前（<strong>post-footer之前两个DIV</strong>），添加以下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include 'passage-end-tag.swig' %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>添加代码位置如下：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/setbottom.png" alt></p><p>修改主题配置文件<code>_config.yml</code>，在末尾添加：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 文章末尾添加“本文结束”标记</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></table></figure></div><p>配置完成。</p><h2 id="文章显示一部分"><a href="#文章显示一部分" class="headerlink" title="文章显示一部分"></a>文章显示一部分</h2><p>在需要显示的内容之后（屏蔽的内容之前）添加代码 <code>&lt;!--more--&gt;</code>即可</p><h2 id="修改代码块自定义样式"><a href="#修改代码块自定义样式" class="headerlink" title="修改代码块自定义样式"></a>修改代码块自定义样式</h2><p>这里需要新建两个<code>js</code>文件<code>events.js</code>和<code>codeblock.js</code>，路径位于<code>/themes/next/scripts/</code>包下。</p><h4 id="events-js代码："><a href="#events-js代码：" class="headerlink" title="events.js代码："></a><code>events.js</code>代码：</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// mac Panel效果代码块相关</span><br><span class="line">var exec = require('child_process').exec;</span><br><span class="line"></span><br><span class="line">// new 后自动打开编辑器</span><br><span class="line">hexo.on('new', function(data)&#123;</span><br><span class="line">  exec('open -a MacDown ' + data.path);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>这个<code>js</code>会在你敲<code>hexo new xxx</code>命令后，调用本地的<code>MarkDown</code>编辑器打开新建的<code>md</code>文件<code>xxx</code></p><h4 id="codeblock-js代码："><a href="#codeblock-js代码：" class="headerlink" title="codeblock.js代码："></a><code>codeblock.js</code>代码：</h4><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// mac Panel效果代码块相关</span><br><span class="line">var attributes = [</span><br><span class="line">  'autocomplete="off"',</span><br><span class="line">  'autocorrect="off"',</span><br><span class="line">  'autocapitalize="off"',</span><br><span class="line">  'spellcheck="false"',</span><br><span class="line">  'contenteditable="true"'</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">var attributesStr = attributes.join(' ')</span><br><span class="line"></span><br><span class="line">hexo.extend.filter.register('after_post_render', function (data) &#123;</span><br><span class="line">  while (/<span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"highlight ([a-zA-Z]+)"</span>&gt;</span>.*?<span class="tag">&lt;<span class="name">\</span>/<span class="attr">figure</span>&gt;</span>/.test(data.content)) &#123;</span><br><span class="line">    data.content = data.content.replace(/<span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"highlight ([a-zA-Z]+)"</span>&gt;</span>.*?<span class="tag">&lt;<span class="name">\</span>/<span class="attr">figure</span>&gt;</span>/, function () &#123;</span><br><span class="line">      var language = RegExp.$1 || 'plain'</span><br><span class="line">      var lastMatch = RegExp.lastMatch</span><br><span class="line">      lastMatch = lastMatch.replace(/<span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"highlight /, '&lt;figure class="</span><span class="attr">iseeu</span> <span class="attr">highlight</span> /')</span></span><br><span class="line">      return '&lt;div class="highlight-wrap"' + attributesStr + 'data-rel="' + language.toUpperCase() + '"&gt;' + lastMatch + '&lt;/div&gt;'</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  return data</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div><p><strong>引入css</strong></p><p>在<code>/themes/next/source/css/_common/components/highlight/</code>目录下新建<code>macPanel.styl</code>文件，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// mac Panel效果代码块相关</span><br><span class="line"><span class="selector-class">.highlight-wrap</span><span class="selector-attr">[data-rel]</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  //box-shadow: 0 10px 30px 0px rgba(0, 0, 0, 0.4);</span><br><span class="line">  <span class="selector-tag">box-shadow</span><span class="selector-pseudo">:18px</span> 18<span class="selector-tag">px</span> 15<span class="selector-tag">px</span> 0<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.4</span>)</span><br><span class="line">  <span class="selector-tag">margin</span>: 35<span class="selector-tag">px</span> 0;</span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.3);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.5);</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-rel);</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">38px</span>;</span><br><span class="line">    //background: #21252b;</span><br><span class="line">    <span class="selector-tag">background</span>: <span class="selector-id">#108414de</span>;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 16<span class="selector-tag">px</span>;</span><br><span class="line">    //position: absolute;</span><br><span class="line">    <span class="selector-tag">top</span>: 0;</span><br><span class="line">    <span class="selector-tag">left</span>: 0;</span><br><span class="line">    <span class="selector-tag">width</span>: 100%;</span><br><span class="line">    //font-family: 'Source Sans Pro', sans-serif;</span><br><span class="line">    <span class="selector-tag">font-weight</span>: <span class="selector-tag">bold</span>;</span><br><span class="line">    <span class="selector-tag">padding</span>: 0<span class="selector-tag">px</span> 80<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">text-indent</span>: 15<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">float</span>: <span class="selector-tag">left</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">-webkit-border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fc625d</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">20px</span> <span class="number">0px</span> <span class="number">#fdbc40</span>, <span class="number">40px</span> <span class="number">0px</span> <span class="number">#35cd4b</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><strong>配置引用</strong></p><p>在<code>/themes/next/source/css/_common/components/highlight/highlight.styl</code>中引入刚才新建的<code>macPanel.styl</code>：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">require</span> <span class="string">"macPanel"</span></span><br></pre></td></tr></table></figure></div><p>配置在文件的顶部位置即可。</p><p>到此Mac Panel配置完成，根据需要可调整主题配置文件中的<code>highlight_theme</code>的值，选择自己喜欢的样式。</p><p>遇到错误可将**站点配置文件里的<code>highlight</code>属性<code>auto_detect</code>改成<code>false</code>：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">highlight:</span><br><span class="line">   enable: true</span><br><span class="line">   line_number: true</span><br><span class="line"><span class="deletion">-  auto_detect: true</span></span><br><span class="line"><span class="addition">+  auto_detect: false</span></span><br><span class="line">   tab_replace:</span><br></pre></td></tr></table></figure></div><h2 id="代码块复制功能"><a href="#代码块复制功能" class="headerlink" title="代码块复制功能"></a>代码块复制功能</h2><p>下载 <code>clipboard.js</code></p><p>下载第三方插件：<a href="https://github.com/zenorocha/clipboard.js" target="_blank" rel="noopener">clipboard.js</a>, 或者<a href="https://raw.githubusercontent.com/zenorocha/clipboard.js/master/dist/clipboard.min.js" target="_blank" rel="noopener">直接下载</a> (右键另存为)。</p><p>保存文件到 <code>theme/next/source/js/src</code> 下。</p><p>在 <code>theme/next/source/js/src</code> 目录下，创建 <code>clipboard-use.js</code>，添加内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVASCRIPT"><figure class="iseeu highlight /javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123; </span><br><span class="line">  <span class="comment">/* code */</span></span><br><span class="line">  <span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;span&gt;复制&lt;/span&gt;'</span>;</span><br><span class="line">    copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">    $(<span class="string">".highlight .code pre"</span>).before(copyHtml);</span><br><span class="line">    <span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">        target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure></div><p>在 <code>theme/next/source/css/_custom/custom.styl</code> 样式中添加如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//代码块复制按钮</span><br><span class="line"><span class="selector-class">.highlight</span>&#123;</span><br><span class="line">  //方便copy代码按钮（btn-copy）的定位</span><br><span class="line">  <span class="selector-tag">position</span>: <span class="selector-tag">relative</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc,#eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span>&#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>在 <code>themes/next/layout/_layout.swig</code> 文件中引用（<code>/body</code>）之前添加：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVASCRIPT"><figure class="iseeu highlight /javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 代码块复制功能 --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/clipboard.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>  </span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/clipboard-use.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div><p>或者将 <code>clipboard.min.js</code> 和 <code>clipboard-use.js</code> 保存到类似七牛云上，通过引用也可（<strong>推荐</strong>）</p><h2 id="侧边栏社交小图标设置"><a href="#侧边栏社交小图标设置" class="headerlink" title="侧边栏社交小图标设置"></a>侧边栏社交小图标设置</h2><p>打开主题配置文件<code>_config.yml</code>，<code>command+f</code>搜索<code>Social</code>，将你有的社交账号前面的<code>#</code>号去掉。格式为：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="ACCESSLOG"><figure class="iseeu highlight /accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">[社交平台名]</span>: <span class="string">[社交地址]</span> || <span class="string">[图标名称]</span></span><br></pre></td></tr></table></figure></div><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/socialIcon.png" alt></p><p>图标可以去<a href="https://links.jianshu.com/go?to=http%3A%2F%2Ffontawesome.io%2Ficons%2F" target="_blank" rel="noopener">Font Awesome Icon</a>网站去找，找到后复制名字到相应的位置即可。</p><h2 id="网站底部字数统计"><a href="#网站底部字数统计" class="headerlink" title="网站底部字数统计"></a>网站底部字数统计</h2><p>安装<code>hexo</code>插件，切换到根目录：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-wordcount <span class="comment">--save</span></span><br></pre></td></tr></table></figure></div><p>在<code>Blog/themes/next/layout/_partials/footer.swig</code>末尾添加代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"theme-info"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"powered-by"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span>博客全站共&#123;&#123; totalcount(site) &#125;&#125;字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div><h2 id="设置网站的图标Favicon"><a href="#设置网站的图标Favicon" class="headerlink" title="设置网站的图标Favicon"></a>设置网站的图标Favicon</h2><p>在图标网站找一张你喜欢的图标（大：32x32 小：16x16），图标网站：<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fwww.easyicon.net%2F" target="_blank" rel="noopener">easyicon</a>或者<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fwww.iconfont.cn%2F" target="_blank" rel="noopener">阿里巴巴矢量图标库</a>。将下载下来的小图和中图放在<code>Blog/themes/next/source/images</code>，将默认的两张图片替换掉。命名和默认的一样也可以自己定义：</p><p>修改主题配置文件，如果你自定义了图片名字，需要做修改：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="AWK"><figure class="iseeu highlight /awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># For example, you put your favicons into `hexo-site/source/images` directory.</span></span><br><span class="line"><span class="comment"># Then need to rename &amp; redefine they on any other names, otherwise icons from Next will rewrite your custom icons in Hexo.</span></span><br><span class="line">favicon:</span><br><span class="line">  small: <span class="regexp">/images/</span>favicon-<span class="number">16</span>x16-<span class="keyword">next</span>.png  <span class="regexp">//</span><span class="number">16</span>X16小图</span><br><span class="line">  medium: <span class="regexp">/images/</span>favicon-<span class="number">32</span>x32-<span class="keyword">next</span>.png  <span class="regexp">//</span><span class="number">32</span>X32大图</span><br><span class="line">  apple_touch_icon: <span class="regexp">/images/</span>apple-touch-icon-<span class="keyword">next</span>.png  <span class="regexp">//</span>apple-touch-icon </span><br><span class="line">  safari_pinned_tab: <span class="regexp">/images/</span>logo.svg </span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure></div><h2 id="实现文章统计功能"><a href="#实现文章统计功能" class="headerlink" title="实现文章统计功能"></a>实现文章统计功能</h2><ul><li><p>安装Hexo插件，参考<strong>网站底部字数统计</strong>。</p></li><li><p>编辑主题配置文件，配置如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/willin/hexo-wordcount</span></span><br><span class="line"><span class="attr">post_wordcount:</span></span><br><span class="line"><span class="attr">  item_text:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  wordcount:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  min2read:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  totalcount:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  separated_meta:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></div></li></ul><h2 id="网页标题崩溃特效"><a href="#网页标题崩溃特效" class="headerlink" title="网页标题崩溃特效"></a><strong>网页标题崩溃特效</strong></h2><p>当用户离开站点相关的页面时，网页的标题会变成已崩溃，网站图标也会改变；当用户重新回到站点页面时又恢复正常。</p><p>实现方式：</p><p>在<code>/themes/next/source/js/src/</code>目录下新建<code>crash_cheat.js</code>，代码如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVASCRIPT"><figure class="iseeu highlight /javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 离开当前页面时修改网页标题，回到当前页面时恢复原来标题 */</span></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> OriginTitile = <span class="built_in">document</span>.title;</span><br><span class="line">  <span class="keyword">var</span> titleTime;</span><br><span class="line">  <span class="built_in">document</span>.addEventListener(<span class="string">'visibilitychange'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.hidden) &#123;</span><br><span class="line">      $(<span class="string">'[rel="icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"../../images/failure.png"</span>);</span><br><span class="line">      $(<span class="string">'[rel="shortcut icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"../../images/failure.png"</span>);</span><br><span class="line">      <span class="built_in">document</span>.title = <span class="string">'(●—●)喔哟，崩溃啦！'</span>;</span><br><span class="line">      clearTimeout(titleTime);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      $(<span class="string">'[rel="icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"../../images/favicon-32x32-next.png"</span>);</span><br><span class="line">      $(<span class="string">'[rel="shortcut icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"../../images/favicon-32x32-next.png"</span>);</span><br><span class="line">      <span class="built_in">document</span>.title = <span class="string">'(/≧▽≦/)咦！页面又好了！'</span>;</span><br><span class="line">      titleTime = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.title = OriginTitile;</span><br><span class="line">      &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><p>在<code>/themes/next/layout/_layout.swig</code>文件末尾，添加引用：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JAVASCRIPT"><figure class="iseeu highlight /javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--崩溃欺骗--&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/crash_cheat.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div><p>最后在站点根目录的<code>/themes/next/source/images/</code>目录下添加<code>failure.png</code>，作为网站崩溃时显示的图标，如下：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/failure.png" alt></p><p>完成效果如下：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112165934470.png" alt></p><h2 id="自定义友链页面"><a href="#自定义友链页面" class="headerlink" title="自定义友链页面"></a>自定义友链页面</h2><ul><li>新增 links 页面</li></ul><p>在控制台使用命令创建：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page links</span><br></pre></td></tr></table></figure></div><p>然后在博客根目录 /source 下会生成一个 links 文件夹，打开其中的 index.md 文件，在头部写入 type = “links”，如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">---</span></span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2019-08-11 15:34:16</span><br><span class="line"><span class="addition">+ type: "links"</span></span><br><span class="line"><span class="comment">---</span></span><br></pre></td></tr></table></figure></div><p>关闭评论</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">---</span></span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2019-08-11 15:34:16</span><br><span class="line">type: "links"</span><br><span class="line"><span class="addition">+ comments: false</span></span><br><span class="line"><span class="comment">---</span></span><br></pre></td></tr></table></figure></div><ul><li>配置 menu</li></ul><p>主题配置文件中<code>menu</code>下添加：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">links:</span> <span class="string">/links/</span> <span class="string">||</span> <span class="string">link</span></span><br></pre></td></tr></table></figure></div><p>在 <code>/themes/next/languages/zh-Hans.yml</code> 文件中 <code>menu</code> 下增加中文描述</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">links:</span> <span class="string">友链</span></span><br></pre></td></tr></table></figure></div><p>接下来就是要增加友链页面的样式了</p><ul><li>新增 links.swig 页</li></ul><p>在 <code>/themes/next/layout/</code> 新建 <code>links.swig</code>，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block content %&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line">  &#123;### LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;######################&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"links"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-id">#links</span>&#123;</span></span><br><span class="line"><span class="undefined">               margin-top: 5rem;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-class">.links-content</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">margin-top</span><span class="selector-pseudo">:1rem</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-class">.link-navigation</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line"><span class="undefined">                content: " ";</span></span><br><span class="line"><span class="undefined">                display: block;</span></span><br><span class="line"><span class="undefined">                clear: both;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> &#123;</span></span><br><span class="line"><span class="undefined">                width: 300px;</span></span><br><span class="line"><span class="undefined">                font-size: 1rem;</span></span><br><span class="line"><span class="undefined">                padding: 10px 20px;</span></span><br><span class="line"><span class="undefined">                border-radius: 4px;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">transition-duration</span>: 0<span class="selector-class">.15s</span>;</span></span><br><span class="line"><span class="undefined">                margin-bottom: 1rem;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">display</span><span class="selector-pseudo">:flex</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span><span class="selector-pseudo">:nth-child(odd)</span> &#123;</span></span><br><span class="line"><span class="undefined">                float: left;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</span></span><br><span class="line"><span class="undefined">                float: right;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">                <span class="selector-tag">box-shadow</span>: 0 2<span class="selector-tag">px</span> 6<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.12</span>), 0 0 6<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.04</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border</span><span class="selector-pseudo">:none</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.ava</span> &#123;</span></span><br><span class="line"><span class="undefined">                width: 3rem!important;</span></span><br><span class="line"><span class="undefined">                height: 3rem!important;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>!<span class="selector-tag">important</span>;</span></span><br><span class="line"><span class="undefined">                margin-right: 1em!important;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border-radius</span><span class="selector-pseudo">:4px</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> &#123;</span></span><br><span class="line"><span class="undefined">                font-style: italic;</span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="undefined">                width: 236px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="undefined">                font-style: normal;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#2bbc8a</span>;</span></span><br><span class="line"><span class="undefined">                font-weight: bold;</span></span><br><span class="line"><span class="undefined">                text-decoration: none;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>: <span class="selector-id">#d480aa</span>;</span></span><br><span class="line"><span class="undefined">                text-decoration: none;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.card</span> <span class="selector-class">.card-header</span> <span class="selector-class">.info</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">font-style</span><span class="selector-pseudo">:normal</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">color</span>:<span class="selector-id">#a3a3a3</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">font-size</span><span class="selector-pseudo">:14px</span>;</span></span><br><span class="line"><span class="undefined">                min-width: 0;</span></span><br><span class="line"><span class="undefined">                text-overflow: ellipsis;</span></span><br><span class="line"><span class="undefined">                overflow: hidden;</span></span><br><span class="line"><span class="undefined">                white-space: nowrap;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links-content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"link-navigation"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                &#123;% for link in theme.mylinks %&#125;</span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"ava"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; link.avatar &#125;&#125;"</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-header"</span>&gt;</span></span><br><span class="line">                           <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">                              <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; link.site &#125;&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span> &#123;&#123; link.nickname &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                              <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; link.site &#125;&#125;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"focus-links"</span>&gt;</span>关注<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span>&#123;&#123; link.info &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            &#123;&#123; page.content &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">  &#123;### END LINKS BLOCK ###&#125;</span><br><span class="line">  &#123;##########################&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></div><ul><li>修改 page.swig</li></ul><p>修改 <code>/themes/next/layout/page.swig</code> 文件，在开头的 <code>block title</code> 内部</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#&#125;&#123;% elif page.type === "tags" and not page.title %&#125;&#123;#</span><br><span class="line">    #&#125;&#123;&#123; __('title.tag') + page_title_suffix &#125;&#125;&#123;#</span><br></pre></td></tr></table></figure></div><p>这个位置下添加代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 友情链接--&gt;</span></span><br><span class="line">#&#125;&#123;% elif page.type === 'links' and not page.title %&#125;&#123;#</span><br><span class="line">  #&#125;&#123;&#123; __('title.links') + page_title_suffix &#125;&#125;&#123;#</span><br></pre></td></tr></table></figure></div><p>效果图：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112171023816.png" alt></p><ul><li>引入 links.swig</li></ul><p>接着在 <code>/themes/next/layout/page.swig</code> 中 <code>PAGE BODY</code> 内部，引入刚才新建的 <code>page.swig</code> :</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 友情链接--&gt;</span></span><br><span class="line">&#123;% elif page.type === 'links' %&#125;</span><br><span class="line">    &#123;% include 'links.swig' %&#125;</span><br></pre></td></tr></table></figure></div><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112171316157.png" alt></p><p>完成页面样式的配置</p><ul><li>配置友链</li></ul><p>接下来，在 <code>/themes/next/_config.yml</code> 文件中配置友链，末尾处新增 <code>mylinks</code> ，如下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mylinks:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">- nickname:</span> <span class="string">Leaf's</span> <span class="string">Blog</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="attr">https://www.liaofuzhan.com/images/beichen.png</span></span><br><span class="line"><span class="attr">  site:</span> <span class="attr">https://www.liaofuzhan.com</span></span><br><span class="line"><span class="attr">  info:</span> <span class="string">因心造境，风云由我！</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">- nickname:</span> <span class="string">Victor's</span> <span class="string">Blog</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="attr">https://jiahong.cf/myPhotos/hicon.jpg</span></span><br><span class="line"><span class="attr">  site:</span> <span class="attr">https://jiahong.cf</span></span><br><span class="line"><span class="attr">  info:</span> <span class="string">Victor's</span> <span class="string">Home</span></span><br><span class="line"></span><br><span class="line"><span class="attr">- nickname:</span> <span class="string">hoxis'</span> <span class="string">blog</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="attr">https://hoxis.github.io/uploads/avatar.png</span></span><br><span class="line"><span class="attr">  site:</span> <span class="attr">https://hoxis.github.io/</span></span><br><span class="line"><span class="attr">  info:</span> <span class="string">生命在于折腾</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">- nickname:</span> <span class="string">Never_yu</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="attr">https://neveryu.github.io/avatar/avatar.png</span></span><br><span class="line"><span class="attr">  site:</span> <span class="attr">https://neveryu.github.io/</span></span><br><span class="line"><span class="attr">  info:</span> <span class="string">认真的人才有资格开玩笑</span></span><br></pre></td></tr></table></figure></div><p>最终效果：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112172807496.png" alt></p><h2 id="Valine-独立博客评论系统"><a href="#Valine-独立博客评论系统" class="headerlink" title="Valine: 独立博客评论系统"></a>Valine: 独立博客评论系统</h2><ul><li>获取 APP ID 和 APP KEY</li></ul><p><a href="https://leancloud.cn/dashboard/login.html#/signup" target="_blank" rel="noopener">点击这里登录或注册Leancloud</a><br><a href="https://leancloud.cn/dashboard/applist.html#/newapp" target="_blank" rel="noopener">点这里创建应用</a>，应用名看个人喜好。<br>选择刚刚创建的应用&gt;设置&gt;选择应用 Key，然后你就能看到你的APP ID和APP KEY了，参考下图：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112175941074.png" alt></p><p><img src="/images/myLoading.gif" data-original="https://cloud.panjunwen.com/2017/08/006qrazegy1fibactm2csj30x80f2dhn.jpg" alt="img"></p><p>为了您的数据安全，请填写应用&gt;设置&gt;安全设置中的Web 安全域名，如下图：</p><p><img src="/images/myLoading.gif" data-original="https://cloud.panjunwen.com/2017/08/006qrazegy1fiba67warvj30re0k5abv.jpg" alt="img"></p><ul><li>修改主题模板</li></ul><p>编辑 /next/_config.yml 文件</p><ol><li>搜索 valine ，配置 appid 和 appkey 为 LeanCloud 分配的值，language 为 zh-cn，注意大小写，只能是小写，否则初始化 Valine 时会报错，导致看不到评论区域。其它选择根据自己的需求修改。</li><li>修改 valine.min.js 的 cdn 文件地址，到这里 <a href="https://www.jsdelivr.com/package/npm/valine" target="_blank" rel="noopener">https://www.jsdelivr.com/package/npm/valine</a> 这个地址选择最新版本的Valine，然后获取cdn地址，修改到 主题配置文件 _config.yml 即可。</li></ol><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112181301875.png" alt></p><p>好像不需要修改了。。。。。。</p><p>最终效果：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112201854386.png" alt></p><h2 id="彩色标签页"><a href="#彩色标签页" class="headerlink" title="彩色标签页"></a>彩色标签页</h2><p>在 /themes/next/layout/ 目录下，新增 tag-color.swig 文件，填入如下内容：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">     <span class="keyword">var</span> alltags = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'tag-cloud-tags'</span>);</span><br><span class="line">     <span class="keyword">var</span> tags = alltags[<span class="number">0</span>].getElementsByTagName(<span class="string">'a'</span>);</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> i = tags.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">       <span class="keyword">var</span> r=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">130</span>);</span><br><span class="line">       <span class="keyword">var</span> g=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">100</span>);</span><br><span class="line">       <span class="keyword">var</span> b=<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*<span class="number">75</span>+<span class="number">80</span>);</span><br><span class="line">       tags[i].style.background = <span class="string">"rgb("</span>+r+<span class="string">","</span>+g+<span class="string">","</span>+b+<span class="string">")"</span>;</span><br><span class="line">     &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;style&gt;</span></span><br><span class="line"><span class="regexp">  .tag-cloud-tags&#123;</span></span><br><span class="line"><span class="regexp">    /</span>*font-family: Helvetica, Tahoma, Arial;*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    /</span>*font-weight: <span class="number">100</span>;*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    text-align: center;</span></span><br><span class="line"><span class="regexp">    counter-reset: tags;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">  .tag-cloud-tags a&#123;</span></span><br><span class="line"><span class="regexp">    border-radius: 6px;</span></span><br><span class="line"><span class="regexp">    padding-right: 5px;</span></span><br><span class="line"><span class="regexp">    padding-left: 5px;</span></span><br><span class="line"><span class="regexp">    margin: 8px 5px 0px 0px;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">  .tag-cloud-tags a:before&#123;</span></span><br><span class="line"><span class="regexp">    content: "🔖";</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  .tag-cloud-tags a:hover&#123;</span></span><br><span class="line"><span class="regexp">     box-shadow: 0px 5px 15px 0px rgba(0,0,0,.4);</span></span><br><span class="line"><span class="regexp">     transform: scale(1.1);</span></span><br><span class="line"><span class="regexp">     /</span>*box-shadow: <span class="number">10</span>px <span class="number">10</span>px <span class="number">15</span>px <span class="number">2</span>px rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">.12</span>), <span class="number">0</span> <span class="number">0</span> <span class="number">6</span>px <span class="number">0</span> rgba(<span class="number">104</span>, <span class="number">104</span>, <span class="number">105</span>, <span class="number">0.1</span>);*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">     transition-duration: 0.15s;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure></div><p>在同级目录的 page.swig 中引入 tag-color.swi</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="DIFF"><figure class="iseeu highlight /diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div class="tag-cloud"&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 目前共计xxx个标签</span><br><span class="line">        &lt;div class="tag-cloud-title"&gt;</span><br><span class="line">            &#123;&#123; _p('counter.tag_cloud', site.tags.length) &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        --&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;div class="tag-cloud-tags"&gt;</span><br><span class="line">          &#123;&#123; tagcloud(&#123;min_font: 10, max_font: 15, amount: 300, color: true, start_color: '#ccc', end_color: '#111'&#125;) &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line"><span class="addition">+     &#123;% include 'tag-color.swig' %&#125;</span></span><br><span class="line">    </span><br><span class="line">    &#123;% elif page.type <span class="comment">=== 'categories' %&#125;</span></span><br><span class="line">      &lt;div class="category-all-page"&gt;</span><br><span class="line">        &lt;div class="category-all-title"&gt;</span><br><span class="line">            &#123;&#123; _p('counter.categories', site.categories.length) &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class="category-all"&gt;</span><br><span class="line">          &#123;&#123; list_categories() &#125;&#125;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br></pre></td></tr></table></figure></div><p>最终效果：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112202639461.png" alt></p><blockquote><p>以下是文章底部的标签样式</p></blockquote><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*文章底部标签样式*/</span></span><br><span class="line"><span class="selector-class">.posts-expand</span> <span class="selector-class">.post-tags</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(0, 0, 0, .12), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0, 0, 0, .24);</span><br><span class="line">  <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(0, 0, 0, .12), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0, 0, 0, .24);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">3px</span> <span class="built_in">rgba</span>(0, 0, 0, .12), <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0, 0, 0, .24);</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'Comic Sans MS'</span>, sans-serif;</span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">2s</span> ease-out;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f5f5f5</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line"></span><br><span class="line">  +mobile()&#123;</span><br><span class="line">    <span class="selector-tag">padding</span>: 1<span class="selector-tag">px</span> 3<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 8<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(100,154,182,0.902);</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.2), <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.19);</span><br><span class="line">    <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.2), <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.19);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.2), <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.19);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>代码拷入 /themes/next/source/css/_custom/custom.styl 即可</p><h2 id="归档页美化"><a href="#归档页美化" class="headerlink" title="归档页美化"></a>归档页美化</h2><p>修改 /themes/next/layout/_macro/post-collapse.swig 后的代码如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;% macro render(post) %&#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"my-post post-type-&#123;&#123; post.type | default('normal') &#125;&#125;"</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">"http://schema.org/Article"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"my-post-header"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"my-post-meta"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">time</span> <span class="attr">class</span>=<span class="string">"my-post-time"</span> <span class="attr">itemprop</span>=<span class="string">"dateCreated"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">datetime</span>=<span class="string">"&#123;&#123; moment(post.date).format() &#125;&#125;"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">content</span>=<span class="string">"&#123;&#123; date(post.date, config.date_format) &#125;&#125;"</span> &gt;</span></span><br><span class="line">          &#123;&#123; date(post.date, 'MM-DD') &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">&#123;%</span> <span class="attr">if</span> <span class="attr">theme.seo</span> %&#125;<span class="attr">h3</span>&#123;% <span class="attr">else</span> %&#125;<span class="attr">h2</span>&#123;% <span class="attr">endif</span> %&#125; <span class="attr">class</span>=<span class="string">"my-post-title"</span>&gt;</span></span><br><span class="line">        &#123;% if post.link %&#125;&#123;# Link posts #&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"my-post-title-link post-title-link-external"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.link) &#125;&#125;"</span> <span class="attr">itemprop</span>=<span class="string">"url"</span>&gt;</span></span><br><span class="line">            &#123;&#123; post.title or post.link &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-external-link"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        &#123;% else %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"my-post-title-link"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; url_for(post.path) &#125;&#125;"</span> <span class="attr">itemprop</span>=<span class="string">"url"</span>&gt;</span></span><br><span class="line">              &#123;% if post.type === 'picture' %&#125;</span><br><span class="line">                &#123;&#123; post.content &#125;&#125;</span><br><span class="line">              &#123;% else %&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">"name"</span>&gt;</span>&#123;&#123; post.title | default(__('post.untitled')) &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">              &#123;% endif %&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">&#123;%</span> <span class="attr">if</span> <span class="attr">theme.seo</span> %&#125;<span class="attr">h3</span>&#123;% <span class="attr">else</span> %&#125;<span class="attr">h2</span>&#123;% <span class="attr">endif</span> %&#125;&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endmacro %&#125;</span><br></pre></td></tr></table></figure></div><p>主要修改：一是将 post-meta 这个 div 移到前面 header 标签下；二是将所有的 class 属性都加上 <strong>my-</strong>，例如 my-post-meta，这样改动是为了不影响其它页面引用的样式。</p><p>在 /themes/next/source/css/_custom/custom.styl 新增如下样式：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 归档页样式 began */</span></span><br><span class="line"><span class="selector-class">.page-archive</span> <span class="selector-class">.archive-page-counter</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 16<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post-time</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mypost</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-o-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-ms-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.my-post-title-link</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"📚"</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">font</span>: normal normal normal <span class="number">14px</span>/<span class="number">1</span> FontAwesome;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1.1);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">15px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0,0,0,.12), <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(104, 104, 105, 0.1);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span><br><span class="line">  +mobile()&#123;</span><br><span class="line">    <span class="selector-tag">width</span>: 260<span class="selector-tag">px</span>;</span><br><span class="line">    <span class="selector-tag">margin-left</span>: 18<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  //display:flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.my-post-title-link</span>&#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 14<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post-title</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">4.5rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#4c4948</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">font-size</span>: .<span class="number">8rem</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  +mobile() &#123;</span><br><span class="line">    //margin-left: 4rem;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.my-post-header</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: top;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">-webkit-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-o-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">-ms-transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line">//.my-post-title-link&#123;</span><br><span class="line">//  font-size: 16px;</span><br><span class="line">//  font-weight: 500;</span><br><span class="line">//&#125;</span><br><span class="line"><span class="selector-class">.my-post-meta</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#99a9bf</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#114142</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.post-block</span><span class="selector-class">.tag</span> <span class="selector-class">.collection-title</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#3f3f3f</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#b4e8fa</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">1.5px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#3f3f3f</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  +mobile()&#123;</span><br><span class="line">    <span class="selector-tag">font-size</span>: 18<span class="selector-tag">px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.category-list-link</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1.1);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">15px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0,0,0,.12), <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span> <span class="built_in">rgba</span>(104, 104, 105, 0.1);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">transition-duration</span>: <span class="number">0.15s</span>;</span><br><span class="line">  //display:flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 归档页样式 end */</span></span><br></pre></td></tr></table></figure></div><p>实现效果：</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/20200205125057.png" alt></p><h2 id="文章推荐"><a href="#文章推荐" class="headerlink" title="文章推荐"></a>文章推荐</h2><p>文章结束时，开启相关文章推荐功能，会根据文章标签的相关度推荐相关的文章</p><p>该功能需要依赖 <a href="https://github.com/tea3/hexo-related-popular-posts" target="_blank" rel="noopener">hexo-related-popular-posts</a> 插件：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PLAIN"><figure class="iseeu highlight /plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-related-popular-posts --save</span><br></pre></td></tr></table></figure></div><p>在 /themes/next/layout/_macro/ 目录下，新建 post-related.swig 文件，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">set</span> popular_posts = popular_posts_json(theme.related_posts.params, post) %&#125;</span><br><span class="line">&#123;% <span class="keyword">if</span> popular_posts.json and popular_posts.json.length &gt; <span class="number">0</span> %&#125;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"popular-posts-header"</span>&gt;</span><br><span class="line">    &lt;i <span class="class"><span class="keyword">class</span></span>=<span class="string">"fa fa-&#123;&#123; theme.related_posts.icon &#125;&#125;"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">    &#123;&#123; theme.related_posts.title | <span class="keyword">default</span>(__(<span class="string">'post.related_posts'</span>)) &#125;&#125;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"> &lt;details&gt;</span></span><br><span class="line"><span class="regexp">   &lt;summary&gt;点击查看&lt;/</span>summary&gt;</span><br><span class="line">     &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">"popular-posts"</span>&gt;</span><br><span class="line">     &#123;% <span class="keyword">for</span> popular_post <span class="keyword">in</span> popular_posts.json %&#125;</span><br><span class="line">       &lt;li <span class="class"><span class="keyword">class</span></span>=<span class="string">"popular-posts-item"</span>&gt;</span><br><span class="line">         &#123;% <span class="keyword">if</span> popular_post.date and popular_post.date != <span class="string">''</span> %&#125;</span><br><span class="line">           &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"popular-posts-date"</span>&gt;&#123;&#123; popular_post.date &#125;&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">         &#123;% endif %&#125;</span></span><br><span class="line"><span class="regexp">         &#123;% if popular_post.img &amp;&amp; popular_post.img != '' %&#125;</span></span><br><span class="line"><span class="regexp">           &lt;div class="popular-posts-img"&gt;&lt;img src="&#123;&#123; popular_post.img &#125;&#125;" /</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">         &#123;% endif %&#125;</span><br><span class="line">         &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"popular-posts-title"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; popular_post.path &#125;&#125;"</span> <span class="attr">rel</span>=<span class="string">"bookmark"</span>&gt;</span>&#123;&#123; popular_post.title &#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">         &#123;% <span class="keyword">if</span> popular_post.excerpt &amp;&amp; popular_post.excerpt != <span class="string">''</span> %&#125;</span><br><span class="line">           &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"popular-posts-excerpt"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; popular_post.excerpt &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">         &#123;% endif %&#125;</span><br><span class="line">       &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">     &#123;% endfor %&#125;</span></span><br><span class="line"><span class="regexp">     &lt;/u</span>l&gt;</span><br><span class="line"> &lt;<span class="regexp">/details&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#123;% endif %&#125;</span></span><br></pre></td></tr></table></figure></div><p>在同级别的 post.swig 中 <strong>END POST BODY</strong> 上方（POST 文章末尾）引入：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!-- 相关文章推荐 --&gt;</span><br><span class="line">&#123;% <span class="keyword">if</span> theme.related_posts.enable and (theme.related_posts.display_in_home or not is_index) %&#125;</span><br><span class="line">     &#123;% include <span class="string">'post-related.swig'</span> <span class="keyword">with</span> &#123; <span class="attr">post</span>: post &#125; %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><p>失败…</p><h2 id="shareJS分享"><a href="#shareJS分享" class="headerlink" title="shareJS分享"></a>shareJS分享</h2><p>使用 <a href="https://github.com/overtrue/share.js" target="_blank" rel="noopener">shareJS</a> </p><ol><li><p>github 下载 zip 文件，将解压的文件夹 dist 放到博客 /themes/next/source/ 目录</p></li><li><p>在 /themes/next/layout/_layout.swig 中 body 标签内部引入：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--share.js--&gt;</span><br><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"/dist/css/share.min.css"</span>&gt;</span><br><span class="line">&lt;script src=<span class="string">"/dist/js/social-share.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div></li><li><p>在 /themes/next/layout/_partials/share/ 目录下新增 sharejs.swig 文件，添加如下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-weibo-title</span>=<span class="string">"分享到微博"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-qq-title</span>=<span class="string">"分享到QQ"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-douban-title</span>=<span class="string">"分享到豆瓣"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"social-share"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"share-component"</span></span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">&#123;#</span></span><br><span class="line"><span class="tag">  <span class="attr">data-disabled</span>=<span class="string">"twitter,facebook"</span></span></span><br><span class="line"><span class="tag">#&#125;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">  <span class="attr">data-disabled</span>=<span class="string">"qzone,google+,linkedin"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">data-description</span>=<span class="string">"Share.js - 一键分享到微博，QQ空间，腾讯微博，人人，豆瓣..."</span>&gt;</span></span><br><span class="line">   分享到：</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li><li><p>在 /themes/next/layout/post.swig 中 <code></code> 标签内部 endif 前引入：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% elseif theme.share_js %&#125;</span><br><span class="line"> &#123;% include <span class="string">'_partials/share/sharejs.swig'</span> %&#125;主题配置文件增加</span><br></pre></td></tr></table></figure></div></li><li><p>主题配置文件增加</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">share_js:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></div><p>失败…</p></li></ol><h2 id="鼠标样式设置"><a href="#鼠标样式设置" class="headerlink" title="鼠标样式设置"></a>鼠标样式设置</h2><p>在 /themes/next/source/css/_custom/custom.styl 添加样式：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="CSS"><figure class="iseeu highlight /css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 鼠标样式 */</span></span><br><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(/images/default.cur),auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>: <span class="built_in">url</span>(/images/pointer.cur),auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="打字特效-（评论、留言）"><a href="#打字特效-（评论、留言）" class="headerlink" title="打字特效 （评论、留言）"></a>打字特效 （评论、留言）</h2><p>此功能主要通过 JS 监听页面的 input 输入框事件来实现。首先在主题 _config.yml 中添加动态配置项</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">typing_effect:</span></span><br><span class="line"><span class="attr">  enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  colorful:</span> <span class="literal">true</span>  <span class="comment"># 礼花</span></span><br><span class="line"><span class="attr">  shake:</span> <span class="literal">false</span>  <span class="comment"># 震动</span></span><br></pre></td></tr></table></figure></div><p>在 /themes/next/layout/layout.swig 中引入依赖</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> theme.typing_effect %&#125;</span><br><span class="line">  &lt;script src=<span class="string">"/js/src/activate-power-mode.min.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    POWERMODE.colorful = &#123;&#123; theme.typing_effect.colorful &#125;&#125;;</span><br><span class="line">    POWERMODE.shake = &#123;&#123; theme.typing_effect.shake &#125;&#125;;</span><br><span class="line">    <span class="built_in">document</span>.body.addEventListener(<span class="string">'input'</span>, POWERMODE);</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&#123;% endif %&#125;</span></span><br></pre></td></tr></table></figure></div><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200113171212890.png" alt></p><p>其中的 activate-power-mode.min.js 位于 /themes/next/source/js/src/ 目录，代码如下</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">webpackUniversalModuleDefinition</span>(<span class="params">root,factory</span>)</span>&#123;<span class="keyword">if</span>(<span class="keyword">typeof</span> exports===<span class="string">'object'</span>&amp;&amp;<span class="keyword">typeof</span> <span class="built_in">module</span>===<span class="string">'object'</span>)<span class="built_in">module</span>.exports=factory();<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> define===<span class="string">'function'</span>&amp;&amp;define.amd)define([],factory);<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> exports===<span class="string">'object'</span>)exports[<span class="string">"POWERMODE"</span>]=factory();<span class="keyword">else</span> root[<span class="string">"POWERMODE"</span>]=factory()&#125;)(<span class="keyword">this</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span>(<span class="function"><span class="keyword">function</span>(<span class="params">modules</span>)</span>&#123;<span class="keyword">var</span> installedModules=&#123;&#125;;<span class="function"><span class="keyword">function</span> __webpack_require__(<span class="params">moduleId</span>)</span>&#123;<span class="keyword">if</span>(installedModules[moduleId])<span class="keyword">return</span> installedModules[moduleId].exports;<span class="keyword">var</span> <span class="built_in">module</span>=installedModules[moduleId]=&#123;<span class="attr">exports</span>:&#123;&#125;,<span class="attr">id</span>:moduleId,<span class="attr">loaded</span>:<span class="literal">false</span>&#125;;modules[moduleId].call(<span class="built_in">module</span>.exports,<span class="built_in">module</span>,<span class="built_in">module</span>.exports,__webpack_require__);<span class="built_in">module</span>.loaded=<span class="literal">true</span>;<span class="keyword">return</span> <span class="built_in">module</span>.exports&#125;__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p=<span class="string">""</span>;<span class="keyword">return</span> __webpack_require__(<span class="number">0</span>)&#125;)([<span class="function"><span class="keyword">function</span>(<span class="params">module,exports,__webpack_require__</span>)</span>&#123;<span class="string">'use strict'</span>;<span class="keyword">var</span> canvas=<span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);canvas.width=<span class="built_in">window</span>.innerWidth;canvas.height=<span class="built_in">window</span>.innerHeight;canvas.style.cssText=<span class="string">'position:fixed;top:0;left:0;pointer-events:none;z-index:999999'</span>;<span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvas.width=<span class="built_in">window</span>.innerWidth;canvas.height=<span class="built_in">window</span>.innerHeight&#125;);<span class="built_in">document</span>.body.appendChild(canvas);<span class="keyword">var</span> context=canvas.getContext(<span class="string">'2d'</span>);<span class="keyword">var</span> particles=[];<span class="keyword">var</span> particlePointer=<span class="number">0</span>;POWERMODE.shake=<span class="literal">true</span>;<span class="function"><span class="keyword">function</span> <span class="title">getRandom</span>(<span class="params">min,max</span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">Math</span>.random()*(max-min)+min&#125;<span class="function"><span class="keyword">function</span> <span class="title">getColor</span>(<span class="params">el</span>)</span>&#123;<span class="keyword">if</span>(POWERMODE.colorful)&#123;<span class="keyword">var</span> u=getRandom(<span class="number">0</span>,<span class="number">360</span>);<span class="keyword">return</span><span class="string">'hsla('</span>+getRandom(u<span class="number">-10</span>,u+<span class="number">10</span>)+<span class="string">', 100%, '</span>+getRandom(<span class="number">50</span>,<span class="number">80</span>)+<span class="string">'%, '</span>+<span class="number">1</span>+<span class="string">')'</span>&#125;<span class="keyword">else</span>&#123;<span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle(el).color&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">getCaret</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> el=<span class="built_in">document</span>.activeElement;<span class="keyword">var</span> bcr;<span class="keyword">if</span>(el.tagName===<span class="string">'TEXTAREA'</span>||(el.tagName===<span class="string">'INPUT'</span>&amp;&amp;el.getAttribute(<span class="string">'type'</span>)===<span class="string">'text'</span>))&#123;<span class="keyword">var</span> offset=__webpack_require__(<span class="number">1</span>)(el,el.selectionStart);bcr=el.getBoundingClientRect();<span class="keyword">return</span>&#123;<span class="attr">x</span>:offset.left+bcr.left,<span class="attr">y</span>:offset.top+bcr.top,<span class="attr">color</span>:getColor(el)&#125;&#125;<span class="keyword">var</span> selection=<span class="built_in">window</span>.getSelection();<span class="keyword">if</span>(selection.rangeCount)&#123;<span class="keyword">var</span> range=selection.getRangeAt(<span class="number">0</span>);<span class="keyword">var</span> startNode=range.startContainer;<span class="keyword">if</span>(startNode.nodeType===<span class="built_in">document</span>.TEXT_NODE)&#123;startNode=startNode.parentNode&#125;bcr=range.getBoundingClientRect();<span class="keyword">return</span>&#123;<span class="attr">x</span>:bcr.left,<span class="attr">y</span>:bcr.top,<span class="attr">color</span>:getColor(startNode)&#125;&#125;<span class="keyword">return</span>&#123;<span class="attr">x</span>:<span class="number">0</span>,<span class="attr">y</span>:<span class="number">0</span>,<span class="attr">color</span>:<span class="string">'transparent'</span>&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticle</span>(<span class="params">x,y,color</span>)</span>&#123;<span class="keyword">return</span>&#123;<span class="attr">x</span>:x,<span class="attr">y</span>:y,<span class="attr">alpha</span>:<span class="number">1</span>,<span class="attr">color</span>:color,<span class="attr">velocity</span>:&#123;<span class="attr">x</span>:<span class="number">-1</span>+<span class="built_in">Math</span>.random()*<span class="number">2</span>,<span class="attr">y</span>:<span class="number">-3.5</span>+<span class="built_in">Math</span>.random()*<span class="number">2</span>&#125;&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">POWERMODE</span>(<span class="params"></span>)</span>&#123;&#123;<span class="keyword">var</span> caret=getCaret();<span class="keyword">var</span> numParticles=<span class="number">5</span>+<span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random()*<span class="number">10</span>);<span class="keyword">while</span>(numParticles--)&#123;particles[particlePointer]=createParticle(caret.x,caret.y,caret.color);particlePointer=(particlePointer+<span class="number">1</span>)%<span class="number">500</span>&#125;&#125;&#123;<span class="keyword">if</span>(POWERMODE.shake)&#123;<span class="keyword">var</span> intensity=<span class="number">1</span>+<span class="number">2</span>*<span class="built_in">Math</span>.random();<span class="keyword">var</span> x=intensity*(<span class="built_in">Math</span>.random()&gt;<span class="number">0.5</span>?<span class="number">-1</span>:<span class="number">1</span>);<span class="keyword">var</span> y=intensity*(<span class="built_in">Math</span>.random()&gt;<span class="number">0.5</span>?<span class="number">-1</span>:<span class="number">1</span>);<span class="built_in">document</span>.body.style.marginLeft=x+<span class="string">'px'</span>;<span class="built_in">document</span>.body.style.marginTop=y+<span class="string">'px'</span>;setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">document</span>.body.style.marginLeft=<span class="string">''</span>;<span class="built_in">document</span>.body.style.marginTop=<span class="string">''</span>&#125;,<span class="number">75</span>)&#125;&#125;&#125;;POWERMODE.colorful=<span class="literal">false</span>;<span class="function"><span class="keyword">function</span> <span class="title">loop</span>(<span class="params"></span>)</span>&#123;requestAnimationFrame(loop);context.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width,canvas.height);<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;particles.length;++i)&#123;<span class="keyword">var</span> particle=particles[i];<span class="keyword">if</span>(particle.alpha&lt;=<span class="number">0.1</span>)<span class="keyword">continue</span>;particle.velocity.y+=<span class="number">0.075</span>;particle.x+=particle.velocity.x;particle.y+=particle.velocity.y;particle.alpha*=<span class="number">0.96</span>;context.globalAlpha=particle.alpha;context.fillStyle=particle.color;context.fillRect(<span class="built_in">Math</span>.round(particle.x<span class="number">-1.5</span>),<span class="built_in">Math</span>.round(particle.y<span class="number">-1.5</span>),<span class="number">3</span>,<span class="number">3</span>)&#125;&#125;requestAnimationFrame(loop);<span class="built_in">module</span>.exports=POWERMODE&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">module,exports</span>)</span>&#123;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> properties=[<span class="string">'direction'</span>,<span class="string">'boxSizing'</span>,<span class="string">'width'</span>,<span class="string">'height'</span>,<span class="string">'overflowX'</span>,<span class="string">'overflowY'</span>,<span class="string">'borderTopWidth'</span>,<span class="string">'borderRightWidth'</span>,<span class="string">'borderBottomWidth'</span>,<span class="string">'borderLeftWidth'</span>,<span class="string">'borderStyle'</span>,<span class="string">'paddingTop'</span>,<span class="string">'paddingRight'</span>,<span class="string">'paddingBottom'</span>,<span class="string">'paddingLeft'</span>,<span class="string">'fontStyle'</span>,<span class="string">'fontVariant'</span>,<span class="string">'fontWeight'</span>,<span class="string">'fontStretch'</span>,<span class="string">'fontSize'</span>,<span class="string">'fontSizeAdjust'</span>,<span class="string">'lineHeight'</span>,<span class="string">'fontFamily'</span>,<span class="string">'textAlign'</span>,<span class="string">'textTransform'</span>,<span class="string">'textIndent'</span>,<span class="string">'textDecoration'</span>,<span class="string">'letterSpacing'</span>,<span class="string">'wordSpacing'</span>,<span class="string">'tabSize'</span>,<span class="string">'MozTabSize'</span>];<span class="keyword">var</span> isFirefox=<span class="built_in">window</span>.mozInnerScreenX!=<span class="literal">null</span>;<span class="function"><span class="keyword">function</span> <span class="title">getCaretCoordinates</span>(<span class="params">element,position,options</span>)</span>&#123;<span class="keyword">var</span> debug=options&amp;&amp;options.debug||<span class="literal">false</span>;<span class="keyword">if</span>(debug)&#123;<span class="keyword">var</span> el=<span class="built_in">document</span>.querySelector(<span class="string">'#input-textarea-caret-position-mirror-div'</span>);<span class="keyword">if</span>(el)&#123;el.parentNode.removeChild(el)&#125;&#125;<span class="keyword">var</span> div=<span class="built_in">document</span>.createElement(<span class="string">'div'</span>);div.id=<span class="string">'input-textarea-caret-position-mirror-div'</span>;<span class="built_in">document</span>.body.appendChild(div);<span class="keyword">var</span> style=div.style;<span class="keyword">var</span> computed=<span class="built_in">window</span>.getComputedStyle?getComputedStyle(element):element.currentStyle;style.whiteSpace=<span class="string">'pre-wrap'</span>;<span class="keyword">if</span>(element.nodeName!==<span class="string">'INPUT'</span>)style.wordWrap=<span class="string">'break-word'</span>;style.position=<span class="string">'absolute'</span>;<span class="keyword">if</span>(!debug)style.visibility=<span class="string">'hidden'</span>;properties.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">prop</span>)</span>&#123;style[prop]=computed[prop]&#125;);<span class="keyword">if</span>(isFirefox)&#123;<span class="keyword">if</span>(element.scrollHeight&gt;<span class="built_in">parseInt</span>(computed.height))style.overflowY=<span class="string">'scroll'</span>&#125;<span class="keyword">else</span>&#123;style.overflow=<span class="string">'hidden'</span>&#125;div.textContent=element.value.substring(<span class="number">0</span>,position);<span class="keyword">if</span>(element.nodeName===<span class="string">'INPUT'</span>)div.textContent=div.textContent.replace(<span class="regexp">/\s/g</span>,<span class="string">"\u00a0"</span>);<span class="keyword">var</span> span=<span class="built_in">document</span>.createElement(<span class="string">'span'</span>);span.textContent=element.value.substring(position)||<span class="string">'.'</span>;div.appendChild(span);<span class="keyword">var</span> coordinates=&#123;<span class="attr">top</span>:span.offsetTop+<span class="built_in">parseInt</span>(computed[<span class="string">'borderTopWidth'</span>]),<span class="attr">left</span>:span.offsetLeft+<span class="built_in">parseInt</span>(computed[<span class="string">'borderLeftWidth'</span>])&#125;;<span class="keyword">if</span>(debug)&#123;span.style.backgroundColor=<span class="string">'#aaa'</span>&#125;<span class="keyword">else</span>&#123;<span class="built_in">document</span>.body.removeChild(div)&#125;<span class="keyword">return</span> coordinates&#125;<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">module</span>!=<span class="string">"undefined"</span>&amp;&amp;<span class="keyword">typeof</span> <span class="built_in">module</span>.exports!=<span class="string">"undefined"</span>)&#123;<span class="built_in">module</span>.exports=getCaretCoordinates&#125;<span class="keyword">else</span>&#123;<span class="built_in">window</span>.getCaretCoordinates=getCaretCoordinates&#125;&#125;())&#125;])&#125;);</span><br></pre></td></tr></table></figure></div><h2 id="类知乎卡片链接"><a href="#类知乎卡片链接" class="headerlink" title="类知乎卡片链接"></a>类知乎卡片链接</h2><p>在 /themes/next/source/js/src/ 下新建 linkcard.js ，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> LinkCards=<span class="built_in">document</span>.getElementsByClassName(<span class="string">'LinkCard'</span>);</span><br><span class="line">  <span class="keyword">if</span>(LinkCards.length != <span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> LinkCard=LinkCards[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> link=LinkCard.href;</span><br><span class="line">    <span class="keyword">var</span> title=LinkCard.innerText;</span><br><span class="line">    LinkCard.innerHTML=<span class="string">"&lt;style type=text/css&gt;.LinkCard,.LinkCard:hover&#123;text-decoration:none;border:none!important;color:inherit!important&#125;.LinkCard&#123;position:relative;display:block;margin:5px auto;width:330px;box-sizing:border-box;border-radius:12px;max-width:100%;overflow:hidden;color:inherit;text-decoration:none&#125;.ztext&#123;word-break:break-word;line-height:1.6&#125;.LinkCard-backdrop&#123;position:absolute;top:0;left:0;right:0;bottom:0;background-repeat:no-repeat;-webkit-filter:blur(20px);filter:blur(20px);background-size:cover;background-position:center&#125;.LinkCard,.LinkCard:hover&#123;text-decoration:none;border:none!important;color:inherit!important&#125;.LinkCard-content&#123;position:relative;display:flex;align-items:center;justify-content:space-between;padding:12px;border-radius:inherit;background-color:rgba(246,246,246,0.88)&#125;.LinkCard-text&#123;overflow:hidden;width:260px;&#125;.LinkCard-title&#123;white-space: nowrap;display:-webkit-box;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;max-height:calc(16px * 1.25 * 2);font-size:16px;font-weight:500;line-height:1.25;color:#1a1a1a&#125;@media(max-width: 767px)&#123;.LinkCard-title&#123;font-size:13px;&#125;&#125;.LinkCard-meta&#123;display:flex;margin-top:4px;font-size:14px;line-height:20px;color:#999;white-space:nowrap&#125;.LinkCard-imageCell&#123;margin-left:28px;border-radius:30px;width:70px;&#125;.LinkCard-image&#123;display:block;width:60px;height:auto;border-radius:inherit&#125;&lt;/style&gt;&lt;span class=LinkCard-backdrop style=background-image:url(https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)&gt;&lt;/span&gt;&lt;span class=LinkCard-content&gt;&lt;span class=LinkCard-text&gt;&lt;span class=LinkCard-title&gt;"</span>+title+<span class="string">"&lt;/span&gt;&lt;span class=LinkCard-meta&gt;&lt;span style=display:inline-flex;align-items:center&gt;&lt;svg class="</span>+<span class="string">"'Zi Zi--InsertLink'"</span>+<span class="string">" fill=currentColor viewBox="</span>+<span class="string">"'0 0 24 24'"</span>+<span class="string">" width=17 height=17&gt;&lt;path d="</span>+<span class="string">"'M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z'"</span>+<span class="string">" fill-rule=evenodd&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;"</span>+link+<span class="string">"&lt;/span&gt;&lt;/span&gt;&lt;span class=LinkCard-imageCell&gt;&lt;img class=LinkCard-image alt=图标 src=/images/linkcard.png&gt;&lt;/span&gt;&lt;/span&gt;"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = LinkCards.length - <span class="number">1</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">      LinkCard=LinkCards[i];</span><br><span class="line">      title=LinkCard.innerText;</span><br><span class="line">      link=LinkCard.href;</span><br><span class="line">      LinkCard.innerHTML=<span class="string">"&lt;span class=LinkCard-backdrop style=background-image:url(https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)&gt;&lt;/span&gt;&lt;span class=LinkCard-content&gt;&lt;span class=LinkCard-text&gt;&lt;span class=LinkCard-title&gt;"</span>+title+<span class="string">"&lt;/span&gt;&lt;span class=LinkCard-meta&gt;&lt;span style=display:inline-flex;align-items:center&gt;&lt;svg class="</span>+<span class="string">"'Zi Zi--InsertLink'"</span>+<span class="string">" fill=currentColor viewBox="</span>+<span class="string">"'0 0 24 24'"</span>+<span class="string">" width=17 height=17&gt;&lt;path d="</span>+<span class="string">"'M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z'"</span>+<span class="string">" fill-rule=evenodd&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/span&gt;"</span>+link+<span class="string">"&lt;/span&gt;&lt;/span&gt;&lt;span class=LinkCard-imageCell&gt;&lt;img class=LinkCard-image alt=图标 src=/images/linkcard.png&gt;&lt;/span&gt;&lt;/span&gt;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>需要修改 /images/linkcard.png 为你自己的图片。</p><p>在 /themes/next/layout/_layout.swig 中 body 结束标签前，引入刚才新建的 js：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/linkcard.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div><p>使用方式：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">"https://jiahong.cf"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"LinkCard"</span>&gt;我的相册——时光留影&lt;<span class="regexp">/a&gt;</span></span><br></pre></td></tr></table></figure></div><p><a href="https://www.liaofuzhan.com/photos/" class="LinkCard" target="_blank" rel="noopener">我的world</a></p><h2 id="文章评分功能"><a href="#文章评分功能" class="headerlink" title="文章评分功能"></a>文章评分功能</h2><p>NexT 主题中已经集成了<a href="https://widgetpack.com/" target="_blank" rel="noopener">widgetpack</a> 的星级评分功能，只需注册账号后，修改主题配置：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Star rating support to each article.</span></span><br><span class="line"><span class="comment"># To get your ID visit https://widgetpack.com</span></span><br><span class="line"><span class="attr">rating:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  id:</span>  <span class="string">your</span> <span class="string">id</span>  <span class="comment">#&lt;app_id&gt;</span></span><br><span class="line"><span class="attr">  color:</span>  <span class="string">ff9800</span></span><br></pre></td></tr></table></figure></div><p>可以在 widgetpack 控制台中修改评分认证</p><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200112231213708.png" alt></p><h2 id="canvas粒子时钟"><a href="#canvas粒子时钟" class="headerlink" title="canvas粒子时钟"></a>canvas粒子时钟</h2><p>一款不错的 <a href="https://www.cnblogs.com/xiaohuochai/p/6368039.html" target="_blank" rel="noopener">canvas 粒子时钟</a></p><p>在 /themes/next/layout/_custom/ 目录下，新建 clock.swig 文件，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">style</span>=<span class="string">"width:60%;"</span>&gt;</span>当前浏览器不支持canvas，请更换浏览器后再试<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> digit=</span></span><br><span class="line"><span class="undefined">    [</span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,1,1,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,1,1,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//0</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [1,1,1,1,1,1,1]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//1</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,1,1,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,1,1,1,1,1]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//2</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [1,1,1,1,1,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//3</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,1,1,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,1,1,1,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,1,1]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//4</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [1,1,1,1,1,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [1,1,1,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//5</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,1,1,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//6</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [1,1,1,1,1,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,0,0,0]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//7</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//8</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,1,1,0],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [1,1,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,1,1,1,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,1,1],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,1,1,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,1,1,0,0,0,0]</span></span><br><span class="line"><span class="actionscript">        ],<span class="comment">//9</span></span></span><br><span class="line"><span class="undefined">        [</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,1,1,1,0,0],</span></span><br><span class="line"><span class="undefined">            [0,0,0,0,0,0,0]</span></span><br><span class="line"><span class="actionscript">        ]<span class="comment">//:</span></span></span><br><span class="line"><span class="undefined">    ];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span>(canvas.getContext)&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> cxt = canvas.getContext(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//声明canvas的宽高</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> H = <span class="number">100</span>,W = <span class="number">700</span>;</span></span><br><span class="line"><span class="undefined">    canvas.height = H;</span></span><br><span class="line"><span class="undefined">    canvas.width = W;</span></span><br><span class="line"><span class="actionscript">    cxt.fillStyle = <span class="string">'#f00'</span>;</span></span><br><span class="line"><span class="undefined">    cxt.fillRect(10,10,50,50);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">//存储时间数据</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> data = [];</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//存储运动的小球</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> balls = [];</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//设置粒子半径</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> R = canvas.height/<span class="number">20</span><span class="number">-1</span>;</span></span><br><span class="line"><span class="actionscript">    (<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> temp = <span class="regexp">/(\d)(\d):(\d)(\d):(\d)(\d)/</span>.exec(<span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成</span></span></span><br><span class="line"><span class="undefined">        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);</span></span><br><span class="line"><span class="undefined">    &#125;)();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*生成点阵数字*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">renderDigit</span><span class="params">(index,num)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; digit[num].length; i++)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; digit[num][i].length; j++)&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">if</span>(digit[num][i][j] == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="undefined">                    cxt.beginPath();</span></span><br><span class="line"><span class="javascript">                    cxt.arc(<span class="number">14</span>*(R+<span class="number">2</span>)*index + j*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),i*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),R,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI);</span></span><br><span class="line"><span class="undefined">                    cxt.closePath();</span></span><br><span class="line"><span class="undefined">                    cxt.fill();</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*更新时钟*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">updateDigitTime</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> changeNumArray = [];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> temp = <span class="regexp">/(\d)(\d):(\d)(\d):(\d)(\d)/</span>.exec(<span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> NewData = [];</span></span><br><span class="line"><span class="undefined">        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = data.length<span class="number">-1</span>; i &gt;=<span class="number">0</span> ; i--)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//时间发生变化</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(NewData[i] !== data[i])&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">//将变化的数字值和在data数组中的索引存储在changeNumArray数组中</span></span></span><br><span class="line"><span class="javascript">                changeNumArray.push(i+<span class="string">'_'</span>+(<span class="built_in">Number</span>(data[i])+<span class="number">1</span>)%<span class="number">10</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//增加小球</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; changeNumArray.length; i++)&#123;</span></span><br><span class="line"><span class="actionscript">            addBalls.apply(<span class="keyword">this</span>,changeNumArray[i].split(<span class="string">'_'</span>));</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        data = NewData.concat();</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*更新小球状态*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">updateBalls</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; balls.length; i++)&#123;</span></span><br><span class="line"><span class="undefined">            balls[i].stepY += balls[i].disY;</span></span><br><span class="line"><span class="undefined">            balls[i].x += balls[i].stepX;</span></span><br><span class="line"><span class="undefined">            balls[i].y += balls[i].stepY;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(balls[i].x &gt; W + R || balls[i].y &gt; H + R)&#123;</span></span><br><span class="line"><span class="undefined">                balls.splice(i,1);</span></span><br><span class="line"><span class="undefined">                i--;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*增加要运动的小球*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">addBalls</span><span class="params">(index,num)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> numArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> colorArray =  [<span class="string">"#3BE"</span>,<span class="string">"#09C"</span>,<span class="string">"#A6C"</span>,<span class="string">"#93C"</span>,<span class="string">"#9C0"</span>,<span class="string">"#690"</span>,<span class="string">"#FB3"</span>,<span class="string">"#F80"</span>,<span class="string">"#F44"</span>,<span class="string">"#C00"</span>];</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; digit[num].length; i++)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; digit[num][i].length; j++)&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">if</span>(digit[num][i][j] == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> ball = &#123;</span></span><br><span class="line"><span class="undefined">                        x:14*(R+2)*index + j*2*(R+1)+(R+1),</span></span><br><span class="line"><span class="undefined">                        y:i*2*(R+1)+(R+1),</span></span><br><span class="line"><span class="javascript">                        stepX:<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">4</span> <span class="number">-2</span>),</span></span><br><span class="line"><span class="javascript">                        stepY:<span class="number">-2</span>*numArray[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*numArray.length)],</span></span><br><span class="line"><span class="javascript">                        color:colorArray[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*colorArray.length)],</span></span><br><span class="line"><span class="undefined">                        disY:1</span></span><br><span class="line"><span class="undefined">                    &#125;;</span></span><br><span class="line"><span class="undefined">                    balls.push(ball);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="comment">/*渲染*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">render</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//重置画布宽度，达到清空画布的效果</span></span></span><br><span class="line"><span class="undefined">        canvas.height = 100;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//渲染时钟</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++)&#123;</span></span><br><span class="line"><span class="undefined">            renderDigit(i,data[i]);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//渲染小球</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; balls.length; i++)&#123;</span></span><br><span class="line"><span class="undefined">            cxt.beginPath();</span></span><br><span class="line"><span class="javascript">            cxt.arc(balls[i].x,balls[i].y,R,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI);</span></span><br><span class="line"><span class="undefined">            cxt.fillStyle = balls[i].color;</span></span><br><span class="line"><span class="undefined">            cxt.closePath();</span></span><br><span class="line"><span class="undefined">            cxt.fill();</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    clearInterval(oTimer);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> oTimer = setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//更新时钟</span></span></span><br><span class="line"><span class="undefined">        updateDigitTime();</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//更新小球状态</span></span></span><br><span class="line"><span class="undefined">        updateBalls();</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//渲染</span></span></span><br><span class="line"><span class="undefined">        render();</span></span><br><span class="line"><span class="undefined">    &#125;,50);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;)();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>在 /themes/next/layout/_macro/sidebar.swig 中引入：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include '../_custom/clock.swig' %&#125;</span><br></pre></td></tr></table></figure></div><h2 id="网站运行时间"><a href="#网站运行时间" class="headerlink" title="网站运行时间"></a>网站运行时间</h2><p>在 /themes/next/layout/_custom/ 下新建 runtime.swig，拷贝如下内容：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"days"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">show_date_time</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.setTimeout(<span class="string">"show_date_time()"</span>, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">BirthDay=<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"08/07/2019 20:00:00"</span>);</span></span><br><span class="line"><span class="javascript">today=<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="undefined">timeold=(today.getTime()-BirthDay.getTime());</span></span><br><span class="line"><span class="undefined">sectimeold=timeold/1000</span></span><br><span class="line"><span class="javascript">secondsold=<span class="built_in">Math</span>.floor(sectimeold);</span></span><br><span class="line"><span class="undefined">msPerDay=24*60*60*1000</span></span><br><span class="line"><span class="undefined">e_daysold=timeold/msPerDay</span></span><br><span class="line"><span class="javascript">daysold=<span class="built_in">Math</span>.floor(e_daysold);</span></span><br><span class="line"><span class="undefined">e_hrsold=(e_daysold-daysold)*24;</span></span><br><span class="line"><span class="javascript">hrsold=setzero(<span class="built_in">Math</span>.floor(e_hrsold));</span></span><br><span class="line"><span class="undefined">e_minsold=(e_hrsold-hrsold)*60;</span></span><br><span class="line"><span class="javascript">minsold=setzero(<span class="built_in">Math</span>.floor((e_hrsold-hrsold)*<span class="number">60</span>));</span></span><br><span class="line"><span class="javascript">seconds=setzero(<span class="built_in">Math</span>.floor((e_minsold-minsold)*<span class="number">60</span>));</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">'days'</span>).innerHTML=<span class="string">"已运行"</span>+daysold+<span class="string">"天"</span>+hrsold+<span class="string">"时"</span>+minsold+<span class="string">"分"</span>+seconds+<span class="string">"秒"</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">setzero</span><span class="params">(i)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span> (i&lt;<span class="number">10</span>)</span></span><br><span class="line"><span class="actionscript">&#123;i=<span class="string">"0"</span> + i&#125;;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">return</span> i;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">show_date_time();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>在 /themes/next/layout/_macro/sidebar.swig 中引入：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include '../_custom/runtime.swig' %&#125;</span><br></pre></td></tr></table></figure></div><h2 id="旋转魔方（个性化返回顶部）"><a href="#旋转魔方（个性化返回顶部）" class="headerlink" title="旋转魔方（个性化返回顶部）"></a>旋转魔方（个性化返回顶部）</h2><p>在 /themes/next/layout/_custom/ 下新建 cube-hollow.swig，内容如下：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="comment">/*最外层容器样式*/</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.wrap</span> &#123;</span></span><br><span class="line"><span class="undefined">    width: 0px;</span></span><br><span class="line"><span class="undefined">    height: 0px;</span></span><br><span class="line"><span class="css">    <span class="comment">/*margin: 80px;*/</span></span></span><br><span class="line"><span class="css">    <span class="comment">/*position: relative;*/</span></span></span><br><span class="line"><span class="undefined">    position: fixed;</span></span><br><span class="line"><span class="undefined">    bottom: 120px;</span></span><br><span class="line"><span class="undefined">    right: 80px;</span></span><br><span class="line"><span class="undefined">    z-index: 999;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="comment">/*包裹所有容器样式*/</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> &#123;</span></span><br><span class="line"><span class="undefined">    width: 0px;</span></span><br><span class="line"><span class="undefined">    height: 0px;</span></span><br><span class="line"><span class="undefined">    margin: 0 auto;</span></span><br><span class="line"><span class="undefined">    -webkit-transform-style: preserve-3d;</span></span><br><span class="line"><span class="undefined">    transform-style: preserve-3d;</span></span><br><span class="line"><span class="undefined">    transform: rotateX(-30deg) rotateY(-80deg);</span></span><br><span class="line"><span class="undefined">    animation: rotate linear 10s infinite;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  @-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> rotate &#123;</span></span><br><span class="line"><span class="undefined">    from &#123;</span></span><br><span class="line"><span class="undefined">      transform: rotateX(0deg) rotateY(0deg);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    to &#123;</span></span><br><span class="line"><span class="undefined">      transform: rotateX(360deg) rotateY(360deg);</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="undefined">    position: absolute;</span></span><br><span class="line"><span class="undefined">    width: 50px;</span></span><br><span class="line"><span class="undefined">    height: 50px;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">opacity</span>: 0<span class="selector-class">.8</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> <span class="selector-class">.4s</span>;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="comment">/*定义所有图片样式*/</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.pic</span> &#123;</span></span><br><span class="line"><span class="undefined">    width: 50px;</span></span><br><span class="line"><span class="undefined">    height: 50px;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.out_front</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(0deg) translateZ(25px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.out_back</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: translateZ(-25px) rotateY(180deg);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.out_left</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(-90deg) translateZ(25px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.out_right</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(90deg) translateZ(25px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.out_top</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateX(90deg) translateZ(25px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.out_bottom</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateX(-90deg) translateZ(25px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="comment">/*定义小正方体样式*/</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">    display: block;</span></span><br><span class="line"><span class="undefined">    width: 25px;</span></span><br><span class="line"><span class="undefined">    height: 25px;</span></span><br><span class="line"><span class="undefined">    position: absolute;</span></span><br><span class="line"><span class="undefined">    top: 12px;</span></span><br><span class="line"><span class="undefined">    left: 12px;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.in_pic</span> &#123;</span></span><br><span class="line"><span class="undefined">    width: 25px;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">height</span><span class="selector-pseudo">:25px</span>;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.in_front</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(0deg) translateZ(12px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.in_back</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: translateZ(-12px) rotateY(180deg);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.in_left</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(-90deg) translateZ(12px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.in_right</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(90deg) translateZ(12px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.in_top</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateX(90deg) translateZ(12px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span> <span class="selector-class">.in_bottom</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateX(-90deg) translateZ(12px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="comment">/*鼠标移入后样式*/</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.out_front</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(0deg) translateZ(50px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.out_back</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: translateZ(-50px) rotateY(180deg);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.out_left</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(-90deg) translateZ(50px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.out_right</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateY(90deg) translateZ(50px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.out_top</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateX(90deg) translateZ(50px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.cube</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.out_bottom</span> &#123;</span></span><br><span class="line"><span class="undefined">    transform: rotateX(-90deg) translateZ(50px);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--包裹所有元素的容器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--前面图片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out_front"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">"back2top()"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KpEBJx.th.jpg"</span> <span class="attr">class</span>=<span class="string">"pic"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--后面图片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out_back"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">"back2top()"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KpEBJx.th.jpg"</span> <span class="attr">class</span>=<span class="string">"pic"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--左面图片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out_left"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">"back2top()"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KpEBJx.th.jpg"</span> <span class="attr">class</span>=<span class="string">"pic"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--右面图片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out_right"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">"back2top()"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KpEBJx.th.jpg"</span> <span class="attr">class</span>=<span class="string">"pic"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--上面图片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out_top"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">"back2top()"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KpEBJx.th.jpg"</span> <span class="attr">class</span>=<span class="string">"pic"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--下面图片 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out_bottom"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">"back2top()"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KpEBJx.th.jpg"</span> <span class="attr">class</span>=<span class="string">"pic"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--小正方体 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"in_front"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KptCPf.th.jpg"</span> <span class="attr">class</span>=<span class="string">"in_pic"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"in_back"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KptCPf.th.jpg"</span> <span class="attr">class</span>=<span class="string">"in_pic"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"in_left"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KptCPf.th.jpg"</span> <span class="attr">class</span>=<span class="string">"in_pic"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"in_right"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KptCPf.th.jpg"</span> <span class="attr">class</span>=<span class="string">"in_pic"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"in_top"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KptCPf.th.jpg"</span> <span class="attr">class</span>=<span class="string">"in_pic"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"in_bottom"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://s2.ax1x.com/2019/10/14/KptCPf.th.jpg"</span> <span class="attr">class</span>=<span class="string">"in_pic"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">back2top</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">'html, body'</span>).animate(&#123;<span class="attr">scrollTop</span>: <span class="number">0</span>&#125;, <span class="number">500</span>);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>在 /themes/next/layout/_custom/custom.swig 中引入新建的文件</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 旋转魔方 --&gt;</span></span><br><span class="line">&#123;% if theme.cube.enable %&#125;</span><br><span class="line">   &#123;% if theme.cube.type == "mini" %&#125;</span><br><span class="line">      &#123;% include 'cube-mini.swig' %&#125;</span><br><span class="line">   &#123;% elseif theme.cube.type == "hollow" %&#125;</span><br><span class="line">      &#123;% include 'cube-hollow.swig' %&#125;</span><br><span class="line">   &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></div><p>在主题 _config.yml 中新建以下动态配置项</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cube:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">hollow</span> <span class="comment"># mini | hollow</span></span><br></pre></td></tr></table></figure></div><h2 id="博文压缩-Hexo-Neat使用"><a href="#博文压缩-Hexo-Neat使用" class="headerlink" title="博文压缩 Hexo-Neat使用"></a>博文压缩 Hexo-Neat使用</h2><p>在站点根目录下安装 <code>Hexo-Neat</code></p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="BASH"><figure class="iseeu highlight /bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-neat --save</span><br></pre></td></tr></table></figure></div><p>在站点配置文件中末尾添加以下相关配置即可，也可以按照自己的需求去自定义配置。</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="YML"><figure class="iseeu highlight /yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"><span class="comment"># 博文压缩</span></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 压缩html</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> exclude:</span></span><br><span class="line"><span class="comment"># 压缩css</span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> exclude:</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">'*/*.min.css'</span></span><br><span class="line"><span class="comment"># 压缩js</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line"><span class="attr"> enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> mangle:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr"> output:</span></span><br><span class="line"><span class="attr"> compress:</span></span><br><span class="line"><span class="attr"> exclude:</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">'**/*.min.js'</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">'**/jquery.fancybox.pack.js'</span></span><br><span class="line"><span class="bullet">   -</span> <span class="string">'**/index.js'</span></span><br></pre></td></tr></table></figure></div><p><img src="/images/myLoading.gif" data-original="https://raw.githubusercontent.com/wujiahong1998/PicGoBed/master/img/image-20200113161430673.png" alt></p><h2 id="写作样式"><a href="#写作样式" class="headerlink" title="写作样式"></a>写作样式</h2><p><a href="https://hasaik.com/posts/c7631ec1.html" class="LinkCard" target="_blank" rel="noopener">Hexo博客+Next主题进阶写作技巧</a></p><h2 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h2>        <div id="aplayer-FptcqFrI" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-FptcqFrI"),            narrow: false,            autoplay: false,            showlrc: 3,            music: {              title: "Kill me",              author: "none",              url: "https://music.163.com/#/song?id=22435862",              pic: "https://p2.music.126.net/nVXkoj5XI4MU4EZK-j6Zow==/109951162909861206.jpg?param=50y50",              lrc: "https://歌词.lrc"            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script><h2 id="一些建议"><a href="#一些建议" class="headerlink" title="一些建议"></a>一些建议</h2><p><strong>图片压缩</strong></p><p>可以使用 <a href="https://baike.baidu.com/item/WebP/4073283" target="_blank" rel="noopener">WebP 格式</a> 的图片替代 JPG、PNG 等，比如这样： <a href="https://www.liaofuzhan.com/images/beichen.webp" target="_blank" rel="noopener">示例图片</a>，在 Chrome 和 FireFox 都正常，IE 和 Safari 目前还不兼容，毕竟是谷歌推出的技术。我们也可通过修改 hexo 代码，增加 webp 图片支持，比如 <a href="https://blog.marryto.me/hexo-webp-support/" target="_blank" rel="noopener">这篇文章</a>，不过也有点麻烦 -.-!</p><p>下边推荐一个不错的网站，在线 JPG to WebP，再 WebP to JPG，图片就会被压缩，支持 GIF 、Video 等多种格式转换。</p><p><a href="https://ezgif.com/jpg-to-webp" class="LinkCard" target="_blank" rel="noopener">Online GIF maker and image editor</a></p><p>拷贝转换后的 webp 图片地址，再选择 WebP to JPG 选项，粘贴进输入框，upload 后，在 image quality factor、Background color 默认情况下，转回 JPG ：</p><p>相比 webp，图片又变大了，但相比原图，却是小了很多，压缩了好几倍，清晰度没什么太大变化。部分图片压缩效果可能没那么理想，比如本身就不大的图片，有时候反而还压大了。转 PNG 图片会大一些，可先转为 JPG，对清晰度要求不高的，可以尝试多转换几次。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;之前配置了一些，现在再配置一些&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="http://jiahong.cf/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>MechineLearning</title>
    <link href="http://jiahong.cf/posts/d52d06dc.html"/>
    <id>http://jiahong.cf/posts/d52d06dc.html</id>
    <published>2019-05-24T13:12:30.000Z</published>
    <updated>2020-01-14T09:55:24.649Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Python学习路线"><a href="#Python学习路线" class="headerlink" title="Python学习路线"></a>Python学习路线</h2><a id="more"></a><p><img src="/images/myLoading.gif" data-original="https://morvanzhou.github.io/static/img/description/learning_step_flowchart.png" alt="机器学习路线"></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Python学习路线&quot;&gt;&lt;a href=&quot;#Python学习路线&quot; class=&quot;headerlink&quot; title=&quot;Python学习路线&quot;&gt;&lt;/a&gt;Python学习路线&lt;/h2&gt;
    
    </summary>
    
    
      <category term="学习" scheme="http://jiahong.cf/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>C程序的编译过程</title>
    <link href="http://jiahong.cf/posts/7d23856.html"/>
    <id>http://jiahong.cf/posts/7d23856.html</id>
    <published>2019-04-19T13:57:35.000Z</published>
    <updated>2020-01-13T08:20:08.413Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h4 id="前面的话"><a href="#前面的话" class="headerlink" title="前面的话"></a>前面的话</h4><p>学了这么久C++，但还是真不知道C++是如何编译成可执行文件的，下面我们就来探索探索C++的编译过程！</p><a id="more"></a><h2 id="大体编译过程"><a href="#大体编译过程" class="headerlink" title="大体编译过程"></a>大体编译过程</h2><p>在深入理解计算机系统吗，我们知道C语言的编译大致过程如下</p><p><strong>C源程序－&gt;编译预处理－&gt;编译程序(生成*.s文件)－&gt;优化程序－&gt;汇编程序(生成*.o文件)－&gt;链接程序－&gt;可执行文件（*.out）</strong></p><p>下面一步一步解析</p><h3 id="1-预编译过程"><a href="#1-预编译过程" class="headerlink" title="1.预编译过程"></a>1.预编译过程</h3><p> 编译预处理  <em>:</em>  </p><p>&emsp;&emsp;读取<em>c</em>源程序，对其中的伪指令（以<em>#</em>开头的指令）和特殊符号进行处理。伪指令主要包括以下四个方面<em>:</em></p><h4 id="1-宏定义指令如-define和-undef"><a href="#1-宏定义指令如-define和-undef" class="headerlink" title="(1) 宏定义指令如#define和#undef"></a>(1) 宏定义指令如#define和#undef</h4><font color="#0099ff">#define分带参的和不带参的</font><p><strong>不带参的宏定义</strong>    <code>#define 宏名 常量串</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> name <span class="meta-string">"wujiahong"</span></span></span><br></pre></td></tr></table></figure><p>运行<code>cout &lt;&lt; name &lt;&lt; endl;</code>的结果为<code>wujiahong</code></p><p><strong>带参的宏定义</strong>    <code>#define 宏名(形参表） 表达式串</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> sum(a,b) (a)+(b);</span></span><br><span class="line"><span class="comment">//TODO</span></span><br><span class="line"><span class="keyword">int</span> c = sum(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; c &lt;&lt; <span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure><p>运行结果为 <code>3</code></p><p> <strong>处理过程</strong>：编译预处理后产生一个中间文件，文件中所有宏名（如果是带参数的宏，则宏名包括参数表在内）均用其对应的<a href="https://blog.csdn.net/u011555996/article/details/76682712" target="_blank" rel="noopener">常量</a>串或表达式串代替。替换过程称为“宏替换”或“宏展开”</p><h4 id="2-头文件包含指令"><a href="#2-头文件包含指令" class="headerlink" title="(2) 头文件包含指令"></a>(2) 头文件包含指令</h4><p>如<em>#include “FileName”</em>或者<em>#include<filename></filename></em>等。</p><p><strong>#include&lt;文件名&gt;</strong></p><p>预处理器将在include子目录下搜索由文件名所指明的文件。这种方式称为“标准方式”，适用于嵌入C++提供的头文件，因为这些头文件一般都存在C++系统目录的include子目录下。</p><p><strong>#include ″文件名″</strong></p><p>预处理器将首先在当前文件所在目录下搜索，如果找不到再按标准方式搜索。这种方式适用于嵌入用户自己建立的头文件。</p><h4 id="3-条件编译指令"><a href="#3-条件编译指令" class="headerlink" title="(3) 条件编译指令"></a>(3) 条件编译指令</h4><p><code>如*#ifdef,#ifndef,#else,#elif,#endif,*等等</code></p><table><thead><tr><th style="text-align:center">命令</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>#if</code></td><td style="text-align:center">编译预处理中的条件命令，相当于C语法中的if语句</td></tr><tr><td style="text-align:center"><code>#ifdef</code></td><td style="text-align:center">判断某个宏是否被定义，若已定义，执行随后的语句</td></tr><tr><td style="text-align:center"><code>#ifndef</code></td><td style="text-align:center">与<code>#ifdef</code>相反，判断某个宏是否未被定义</td></tr><tr><td style="text-align:center"><code>#elif</code></td><td style="text-align:center">若<code>#if, #ifdef, #ifndef</code>或前面的<code>#elif</code>条件不满足，则执行#elif之后的语句，相当于C语法中的<code>else-if</code></td></tr><tr><td style="text-align:center"><code>#else</code></td><td style="text-align:center">与<code>#if, #ifdef, #ifndef</code>对应, 若这些条件不满足，则执行<code>#else</code>之后的语句，相当于C语法中的else</td></tr><tr><td style="text-align:center"><code>#endif</code></td><td style="text-align:center"><code>#if, #ifdef, #ifndef</code>这些条件命令的结束标志.</td></tr><tr><td style="text-align:center"><code>defined</code></td><td style="text-align:center">与<code>#if, #elif</code>配合使用，判断某个宏是否被定义</td></tr></tbody></table><h4 id="4-特殊符号"><a href="#4-特殊符号" class="headerlink" title="(4) 特殊符号"></a>(4) 特殊符号</h4><p>&emsp;&emsp;预编译程序可以识别一些特殊的符号。例如在源程序中出现的LINE标识将被解释为当前行号（十进数），FILE则被解释为当前被编译的C源程序的名称。预编译程序对于在源程序中出现的这些串将用合适的值进行替换。预编译程序所完成的基本上是对源程序的“替代”工作。经过此种替代，生成一个没有宏定义、没有条件编译指令、没有特殊符号的输出文件。这个文件的含义同没有经过预处理的源文件是相同的，但内容有所不同。下一步，此输出文件将作为编译程序的输入而被翻译成为机器指令。删除所有注释“//”，“/<em>   </em>/”以及添加行号，便于编译器编译时产生调试用的行号信息及用于编译时产生编译错误或警告时显示行号。</p><h3 id="2-编译阶段"><a href="#2-编译阶段" class="headerlink" title="2. 编译阶段"></a>2. 编译阶段</h3><p>&emsp;&emsp;经过预编译得到的输出文件中，只有常量。如数字、字符串、变量的定义，以及C语言的关键字，如main、if、else、for、while、{,}、+、-、*、\等等。编译程序所要作得工作就是通过词法分析和语法分析，在确认所有的指令都符合语法规则之后，将其翻译成等价的中间代码表示或汇编代码（符号表）。</p><h3 id="3-优化阶段"><a href="#3-优化阶段" class="headerlink" title="3. 优化阶段"></a>3. 优化阶段</h3><p>&emsp;&emsp;优化一部分是对中间代码的优化。这种优化不依赖于具体的计算机。另一种优化则主要针对目标代码的生成而进行的。</p><p>&emsp;&emsp;对于前一种优化，主要的工作是删除公共表达式、循环优化（代码外提、强度削弱、变换循环控制条件、已知量的合并等）、复写传播，以及无用赋值的删除等等。后一种类型的优化同机器的硬件结构密切相关，最主要的是考虑如何充分利用机器的各个硬件寄存器存放的有关变量的值，以减少对于内存的访问次数。另外，如何根据机器硬件执行指令的特点（如流线、RISC、CISC、VLIW等）而对指令进行一些调整使目标代码比较短，执行的效率比较高，也是一个重要的研究课题。经过优化得到的汇编代码必须经过汇编程序的汇编转换成相应的机器指令，方可能被机器执行。</p><h3 id="4-汇编过程"><a href="#4-汇编过程" class="headerlink" title="4. 汇编过程"></a>4. 汇编过程</h3><p>&emsp;&emsp;汇编过程实际上指把汇编语言代码翻译成目标机器指令的过程。对于被翻译系统处理的每一个汇编源程序，都将最终经过这一处理而得到相应的目标文件。目标文件中所存放的也就是与源程序等效的目标的机器语言代码。目标文件由段组成。通常一个目标文件中至少有两个段：</p><p>&emsp;&emsp;&emsp;代码段： 该段中所包含的主要是程序的指令。该段一般是可读和可执行的，但一般却不可写。</p><p>&emsp;&emsp;&emsp;数据段： 主要存放程序中要用到的各种全局变量或静态的局部变量。（<em>.rodata</em>和 <em>.data</em>）</p><p>&ensp;&ensp;<strong>UNIX环境下主要有三种类型的目标文件：</strong></p><p>&emsp;&emsp;（1）可重定位文件： 其中包含有适合于其它目标文件链接来创建一个可执行的或者共享的目标文件的代码和数据。</p><p>&emsp;&emsp;（2）共享的目标文件： 这种文件存放了适合于在两种上下文里链接的代码和数据。第一种是链接程序可把它与其它可重定位文件及共享的目标文件一起处理来创建另一个目标文件；第二种是动态链接程序将它与另一个可执行文件及其它的共享目标文件结合到一起，创建一个进程映象。</p><p>&emsp;&emsp;（3）可执行文件： 它包含了一个可以被操作系统创建一个进程来执行之的文件。汇编程序生成的实际上是第一种类型的目标文件。对于后两种还需要其他的一些处理方能得到，这个就是链接程序的工作了。</p><h3 id="5-链接程序"><a href="#5-链接程序" class="headerlink" title="5. 链接程序"></a>5. 链接程序</h3><p>&emsp;&emsp;由汇编程序生成的目标文件并不能立即就被执行，其中可能还有许多没有解决的问题。例如，某个源文件中的函数可能引用了另一个源文件中定义的某个符号（如变量或者函数调用等）；在程序中可能调用了某个库文件中的函数，等等。所有的这些问题，都需要经链接程序的处理方能得以解决。</p><p>&emsp;&emsp;链接程序的主要工作就是将有关的目标文件彼此相连接，也即将在一个文件中引用的符号同该符号在另外一个文件中的定义连接起来，使得所有的这些目标文件成为一个能够被操作系统装入执行的统一整体。</p><p>&emsp;&emsp;根据开发人员指定的库函数的链接方式的不同，链接处理可分为两种：</p><p>&emsp;&emsp;（1）静态链接  在这种链接方式下，函数的代码（被应用程序引用的目标模块）将从其所在地静态链接库中被拷贝到最终的可执行程序中。这样该程序在被执行时这些代码将被装入到该进程的虚拟地址空间中。静态链接库实际上是一个目标文件的集合，其中的每个文件含有库中的一个或者一组相关函数的代码。静态连接的劣势：浪费内存和磁盘空间，模块更新困难。</p><p>&emsp;&emsp;（2）动态链接  在此种方式下，函数的代码被放到称作是动态链接库或共享对象的某个目标文件中。链接程序此时所作的只是在最终的可执行程序中记录下共享对象的名字以及其它少量的登记信息。在此可执行文件被执行时，动态链接库的全部内容将被映射（优点：无拷贝环节，在内存中只有一份此共享代码，以节约存储器空间）到运行时相应进程的虚地址空间。动态链接程序将根据可执行程序中记录的信息找到相应的函数代码。\</p><p>&emsp;&emsp;动态连接解决了共享的目标文件多个副本浪费磁盘和内存空间的问题。在内存中共享一个目标文件模块的好处不仅仅是节省内存，还可以减少物理页面的换入换出，亦可以增加CPU的cache hit （关于这部分在《深入理解计算机系统》中有详细介绍，尤其是程序的局部性原理的应用，以前写代码都是瞎写，根本不知道还有这么个优势）。</p><p>&emsp;&emsp;动态连接也有其缺点：很常见的一个问题是，当程序所依赖的某个模块更新后，由于新的模块与旧的模块之间接口不兼容，导致原有的程序无法运行。</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;前面的话&quot;&gt;&lt;a href=&quot;#前面的话&quot; class=&quot;headerlink&quot; title=&quot;前面的话&quot;&gt;&lt;/a&gt;前面的话&lt;/h4&gt;&lt;p&gt;学了这么久C++，但还是真不知道C++是如何编译成可执行文件的，下面我们就来探索探索C++的编译过程！&lt;/p&gt;
    
    </summary>
    
    
      <category term="C++" scheme="http://jiahong.cf/tags/C/"/>
    
      <category term="学习" scheme="http://jiahong.cf/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Linux(一) 文件及目录基本操作</title>
    <link href="http://jiahong.cf/posts/a625b86.html"/>
    <id>http://jiahong.cf/posts/a625b86.html</id>
    <published>2019-04-08T06:47:59.000Z</published>
    <updated>2020-01-13T08:20:08.419Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于刚开始接触Linux的小菜鸡来说，Linux真的让人摸不着头脑。在Linux中最核心的就是命令行操作，但是要想熟练的使用命令行，那首先就必须知道基本的文件目录操作！因为这是基石鸭！！</p><a id="more"></a><h3 id="Linux目录结构"><a href="#Linux目录结构" class="headerlink" title="Linux目录结构"></a>Linux目录结构</h3><p>Linux的目录结构是呈倒树形的，如下图</p><p><img src="/images/myLoading.gif" data-original="https://img.cxjiang.top/images/2019/04/08/1554707840195.png" alt></p><p>核心目录及其存放内容</p><table><thead><tr><th style="text-align:center">目录</th><th style="text-align:center">内容</th></tr></thead><tbody><tr><td style="text-align:center">/bin</td><td style="text-align:center">构建最小系统所需要的命令</td></tr><tr><td style="text-align:center">/sbin</td><td style="text-align:center">和操作系统有关的命令</td></tr><tr><td style="text-align:center">/boot</td><td style="text-align:center">内核与启动文件</td></tr><tr><td style="text-align:center">/dev</td><td style="text-align:center">各种设备文件</td></tr><tr><td style="text-align:center">/etc</td><td style="text-align:center">系统软件的启动和配置文件</td></tr><tr><td style="text-align:center">/home</td><td style="text-align:center">用户的主目录</td></tr><tr><td style="text-align:center">/root</td><td style="text-align:center">超级用户root的根目录</td></tr><tr><td style="text-align:center">/usr</td><td style="text-align:center">非系统的程序和命令</td></tr><tr><td style="text-align:center">/var</td><td style="text-align:center">系统专用的数据和配置文件</td></tr><tr><td style="text-align:center">/opt</td><td style="text-align:center">可选的应用软件包</td></tr><tr><td style="text-align:center">/tmp</td><td style="text-align:center">临时文件存放点</td></tr></tbody></table><h3 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h3><p><strong>绝对路径</strong></p><p>​    从根目录(/)开始写起的文件或者目录。</p><p><strong>相对路径</strong></p><p>​    由当前目录开始写起的文件或者目录。</p><blockquote><p>其中.表示当前目录，..表示上一级目录,查看当前目录用pwd</p></blockquote><h3 id="改变工作目录"><a href="#改变工作目录" class="headerlink" title="改变工作目录"></a>改变工作目录</h3><p>使用方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd [目录]</span><br></pre></td></tr></table></figure></div><p>例如：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ..    //返回上一级目录</span><br><span class="line">cd /home/Download    //进入Download目录</span><br></pre></td></tr></table></figure></div><h3 id="新增目录"><a href="#新增目录" class="headerlink" title="新增目录"></a>新增目录</h3><p>使用方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir [-m 模式] [-p] 目录名</span><br></pre></td></tr></table></figure></div><ul><li>-m按指定存储模式建立目录</li><li>-p建立目录时建立其所有不存在的父目</li></ul><h3 id="删除目录"><a href="#删除目录" class="headerlink" title="删除目录"></a>删除目录</h3><p>使用方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir [-p] 目录名</span><br></pre></td></tr></table></figure></div><blockquote><p>此命令要求其父目录拥有写权限</p></blockquote><ul><li>-p删除目录和其父目录</li></ul><h3 id="复制文件或目录"><a href="#复制文件或目录" class="headerlink" title="复制文件或目录"></a>复制文件或目录</h3><p>使用方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp 源文件或目录 目的文件或目录</span><br></pre></td></tr></table></figure></div><blockquote><p>此命令要求其父目录拥有写权限</p></blockquote><h3 id="移动文件或目录"><a href="#移动文件或目录" class="headerlink" title="移动文件或目录"></a>移动文件或目录</h3><p>使用方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv 源文件或目录 目的文件或目录</span><br></pre></td></tr></table></figure></div><blockquote><p>此命令要求其父目录拥有写权限</p></blockquote><h3 id="删除文件或目录"><a href="#删除文件或目录" class="headerlink" title="删除文件或目录"></a>删除文件或目录</h3><p>使用方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm [-ir] 文件或目录</span><br></pre></td></tr></table></figure></div><blockquote><p>此命令要求其父目录拥有写权限</p></blockquote><h3 id="查找文件或目录"><a href="#查找文件或目录" class="headerlink" title="查找文件或目录"></a>查找文件或目录</h3><p>使用方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find [路径] [参数]</span><br></pre></td></tr></table></figure></div><p>例如：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SHELL"><figure class="iseeu highlight /shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /-name smcapp</span><br></pre></td></tr></table></figure></div><h3 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h3><p>方法：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="STATA"><figure class="iseeu highlight /stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cat</span>： 直接查阅文件内容，不翻页</span><br><span class="line"><span class="keyword">more</span>： 翻页查看文件内容</span><br><span class="line">less： 类似<span class="keyword">more</span>，比<span class="keyword">more</span>更有弹性</span><br><span class="line">head： 查看文件前面几行内容，默认10行</span><br><span class="line">tail： 查肯文件后面几行内容，默认10行</span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;对于刚开始接触Linux的小菜鸡来说，Linux真的让人摸不着头脑。在Linux中最核心的就是命令行操作，但是要想熟练的使用命令行，那首先就必须知道基本的文件目录操作！因为这是基石鸭！！&lt;/p&gt;
    
    </summary>
    
    
      <category term="学习" scheme="http://jiahong.cf/tags/%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="Linux" scheme="http://jiahong.cf/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>HEXO博客优化（一）</title>
    <link href="http://jiahong.cf/posts/a99288f7.html"/>
    <id>http://jiahong.cf/posts/a99288f7.html</id>
    <published>2019-04-03T16:21:18.000Z</published>
    <updated>2020-01-13T08:20:08.416Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="HEXO博客（一）"><a href="#HEXO博客（一）" class="headerlink" title="HEXO博客（一）"></a>HEXO博客（一）</h1><h3 id="添加居中模块"><a href="#添加居中模块" class="headerlink" title="添加居中模块"></a>添加居中模块</h3><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">class</span>=<span class="string">"blockquote-center"</span>&gt;</span>多去发掘别人身上的闪光点<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure></div><blockquote class="blockquote-center">多去发掘别人身上的闪光点</blockquote><a id="more"></a><h3 id="添加小红心"><a href="#添加小红心" class="headerlink" title="添加小红心"></a>添加小红心</h3><ol><li><p>将 <a href="https://github.com/Neveryu/Neveryu.github.io/blob/master/js/src/love.js" target="_blank" rel="noopener">love.js</a> 文件添加到 \themes\next\source\js\src 文件目录下。</p></li><li><p>找到 <code>\themes\next\layout\_layout.swing</code> 文件， <strong>在文件的后面，<script>!function(e){var c=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){for(var r=0;r<c.length;r++)t=c[r],0<=(n=t.getBoundingClientRect()).bottom&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=c[r];t=o,n=function(){c=c.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}i(),e.addEventListener("scroll",function(){var t,n;t=i,n=e,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)})}(this);</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script> 标签之前</strong> 添加以下代码：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="JS"><figure class="iseeu highlight /js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"/js/src/love.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;HEXO博客（一）&quot;&gt;&lt;a href=&quot;#HEXO博客（一）&quot; class=&quot;headerlink&quot; title=&quot;HEXO博客（一）&quot;&gt;&lt;/a&gt;HEXO博客（一）&lt;/h1&gt;&lt;h3 id=&quot;添加居中模块&quot;&gt;&lt;a href=&quot;#添加居中模块&quot; class=&quot;headerlink&quot; title=&quot;添加居中模块&quot;&gt;&lt;/a&gt;添加居中模块&lt;/h3&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;blockquote-center&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;多去发掘别人身上的闪光点&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;blockquote&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;多去发掘别人身上的闪光点&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="HEXO" scheme="http://jiahong.cf/tags/HEXO/"/>
    
  </entry>
  
  <entry>
    <title>分治法</title>
    <link href="http://jiahong.cf/posts/7f3bcd7f.html"/>
    <id>http://jiahong.cf/posts/7f3bcd7f.html</id>
    <published>2019-04-02T12:34:42.000Z</published>
    <updated>2020-02-05T06:39:43.118Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-分治法的分析"><a href="#1-分治法的分析" class="headerlink" title="1.分治法的分析"></a>1.分治法的分析</h2><p>分治法往往会使用递归的方法，主要包含以下三个步骤</p><ol><li>分解</li><li>解决</li><li>合并</li></ol><p><strong>使用递归方程对其运行时间进行分析</strong></p><p>假设把原问题分解成a个子问题，每个子问题的规模是原问题的1/b，分解问题成子问题需要时间D(n)，合并子问题需要C(n)，那么可以得到如下的递归式：</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=T(n)=&space;aT(n/b)&plus;D(n)&plus;C(n)" target="_blank"><img src="/images/myLoading.gif" data-original="https://latex.codecogs.com/gif.latex?T(n)=&space;aT(n/b)&plus;D(n)&plus;C(n)" title="T(n)= aT(n/b)+D(n)+C(n)"></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="学习" scheme="http://jiahong.cf/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>学生会个人总结</title>
    <link href="http://jiahong.cf/posts/5e3e2bfc.html"/>
    <id>http://jiahong.cf/posts/5e3e2bfc.html</id>
    <published>2019-03-31T05:36:55.000Z</published>
    <updated>2020-01-13T08:20:08.588Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>​        大二的下学期刚刚来临，马上也就要进入大三了。回首当初懵懂无知的我，啥也不知道，有的只是好奇。从第一次参加学生会的面试的彷徨到自己面试新生的坦然，从中是我的成长。进入的计软团委学生会之后，我也从中慢慢学习，渐渐的成长，知道了怎么合作，有了一颗上进的心。</p><a id="more"></a><p>​    大一的时候，在部长们的带领下，完成了大型的迎新晚会和院内的毕业晚会的举办。真的感谢我的部长们，因为只有到了后来我做部长的时候，我才知道举办一场活动是有多么困难，其中需要协调的事真的很多。每一次的例会，每一次的工作，我都认真对待，虽然想法没有别人多，但我总时认真对待。到最后，我也总结出一场活动大致需要什么。一场活动最多也就几个小时，但是准备这场活动却要几个星期，甚至一个月。其中又分前期准备、中期准备还有后期准备，另外还有场制以及宣称和经费要考虑。所有的这些环节，少一个都不行，所以到了办活动的时候，我们就会有很多会议要开，大家一起讨论，一起商量，为的都是怎么把这个活动办好。有时候，宣传不是我们文娱部的擅长，这个时候我们就会找到我们的信宣部作为我们的后援，从这里，我也学会了合作的重要性。一个人的能力是远不及大家一起的努力的，众人拾柴才能火焰高！</p><p>​    作为文娱部的副部长，我觉的我的能力不是很够。在学生会担任部长的日子里，我看见很多比我优秀的人，它们或者擅于管理，或者擅于沟通，而我可能相对比较内敛，没有它们如此优秀。但是我总是在向他们看齐，他们是我最好的学习榜样。有些时候我也确实会觉得那个人或者谁谁不好，但是后面我这些观念都慢慢改变了。这可能源于我自己的学习，是我在一部电影《了不起的盖茨比》记忆深刻的一句话：“多去发现别人身上的闪光点”，而不是总看着别人的缺点。</p><p>​    在之后的文娱部有了新一届的干事之后，我们还要想着如何管理和培养它们，我们会给他们一部分事情做，让他们从中学习。从这里我也渐渐学习到一些管理的经验。</p><p>​    除了是一位学生会的成员，我其实也是一位爱学习的大学生，因为来到大学就是来学习的，在学生会是学习，学习专业知识也不能落下。以前的我几乎很少去图书馆，更多的是在宿舍玩游戏，甚至不知道有自习室。但是，我渐渐发现，以这样的生活度过我的大学生活，是不值得的。我想要成长，我想要进步，我想要和别人一样优秀。之后的我虽然有时也玩玩游戏，但是性质却跟以往不一样了，我真正能够做到控制自己，花更多的精力在学习上。</p><p>​    除了学习，我还有参加体育锻炼。我凭借自己的额实力，进入了院内的乒乓球队。在乒乓球队里面，我又认识到许多优秀的人，它们也不仅仅是只会打乒乓，每周一次和他们在一起训练的时候我也能学到很多。</p><p>​    总而言之，我认为自己的大学生活还是可以的。但是我自身也还有许多需要提高的地方，如何变得坦然，如何更加细致，如何擅于交流，这些都是我需要去解决的自身缺点，我希望在我未来的两年大学生活中，我能够迎着风继续进步！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;​        大二的下学期刚刚来临，马上也就要进入大三了。回首当初懵懂无知的我，啥也不知道，有的只是好奇。从第一次参加学生会的面试的彷徨到自己面试新生的坦然，从中是我的成长。进入的计软团委学生会之后，我也从中慢慢学习，渐渐的成长，知道了怎么合作，有了一颗上进的心。&lt;/p&gt;
    
    </summary>
    
    
      <category term="life" scheme="http://jiahong.cf/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客优化(0)</title>
    <link href="http://jiahong.cf/posts/94271a3a.html"/>
    <id>http://jiahong.cf/posts/94271a3a.html</id>
    <published>2019-03-27T10:01:01.000Z</published>
    <updated>2020-01-14T10:00:48.884Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="插入音乐🎵"><a href="#插入音乐🎵" class="headerlink" title="插入音乐🎵"></a>插入音乐🎵</h2><p>很多音乐网站因为版权原因无法生成外链，这里介绍的是自己生成的外链</p><a id="more"></a><p>第一步 安装<code>hexo-tag-aplayer</code>插件</p><p>切换到<code>hexo</code>的目录下，运行以下代码进行安装：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save hexo-tag-aplayer</span></span><br></pre></td></tr></table></figure></div><p>第二步 在markdown文档中需要添加音乐的地方添加以下代码</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save hexo-tag-aplayer（单首歌曲）</span></span><br></pre></td></tr></table></figure></div><p>添加歌单的方法</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;&#123;"narrow": false,"autoplay": true,"showlrc": 3,"mode": "random","music": [&#123;"title": "平凡之路","author": "朴树","url": "http://og9ocpmwk.bkt.clouddn.com/%E5%B9%B3%E5%87%A1%E4%B9%8B%E8%B7%AF.mp3","pic": "https://ogd99kckh.qnssl.com/1.jpg","lrc": "http://og9ocpmwk.bkt.clouddn.com/%E5%B9%B3%E5%87%A1%E4%B9%8B%E8%B7%AF.txt"&#125;,&#123;"title": "野子","author": "苏运莹","url": "http://og9ocpmwk.bkt.clouddn.com/01%20%E9%87%8E%E5%AD%90.m4a","pic": "http://og9ocpmwk.bkt.clouddn.com/%E9%87%8E%E5%AD%90.jpg","lrc":"https://ogd99kckh.qnssl.com/%E9%87%8E%E5%AD%90.txt"&#125;]&#125;&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure></div><p><strong>markdown插入音乐一般做法</strong></p><p>因为markdown兼容HTML语法，故可以在markdown文件中直接用HTML语法</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="ROUTEROS"><figure class="iseeu highlight /routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe <span class="attribute">frameborder</span>=<span class="string">"no"</span> <span class="attribute">border</span>=<span class="string">"0"</span> <span class="attribute">marginwidth</span>=<span class="string">"0"</span> <span class="attribute">marginheightheight</span>=86 <span class="attribute">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=420125990&amp;auto=1&amp;height=66"</span>&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure></div><h2 id="插入视频"><a href="#插入视频" class="headerlink" title="插入视频"></a>插入视频</h2><p>第一步： 安装<code>hexo-tag-dplayer</code></p><p>切换到<code>hexo</code>的目录下，运行以下代码进行安装：</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="SQL"><figure class="iseeu highlight /sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-tag-dplayer <span class="comment">--save</span></span><br></pre></td></tr></table></figure></div><p>第二步： 在markdown文档中需要添加视频的地方添加以下代码</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% dplayer "url=http://devtest.qiniudn.com/若能绽放光芒.mp4" "api=http://dplayer.daoapp.io" "pic=http://devtest.qiniudn.com/若能绽放光芒.png" "id=9E2E3368B56CDBB4" "loop=yes" "theme=#FADFA3" "autoplay=false" "token=tokendemo" %&#125;</span><br></pre></td></tr></table></figure></div><p><strong>markdown插入视频一般做法</strong></p><p>因为markdown兼容HTML语法，故可以在markdown文件中直接用HTML语法</p><ol><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/player.php/Type/Folder/Fid/27690810/Ob/1/sid/XMTY1MTI3NjMyNA==/v.swf"</span> <span class="attr">quality</span>=<span class="string">"high"</span> <span class="attr">width</span>=<span class="string">"480"</span> <span class="attr">height</span>=<span class="string">"400"</span> <span class="attr">align</span>=<span class="string">"middle"</span> <span class="attr">allowScriptAccess</span>=<span class="string">"always"</span> <span class="attr">allowFullScreen</span>=<span class="string">"true"</span> <span class="attr">mode</span>=<span class="string">"transparent"</span> <span class="attr">type</span>=<span class="string">"application/x-shockwave-flash"</span>&gt;</span><span class="tag">&lt;/<span class="name">embed</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ol><ol start="2"><li><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="HTML"><figure class="iseeu highlight /html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">"480"</span> <span class="attr">height</span>=<span class="string">"320"</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"movie.mp4"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></div></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;插入音乐🎵&quot;&gt;&lt;a href=&quot;#插入音乐🎵&quot; class=&quot;headerlink&quot; title=&quot;插入音乐🎵&quot;&gt;&lt;/a&gt;插入音乐🎵&lt;/h2&gt;&lt;p&gt;很多音乐网站因为版权原因无法生成外链，这里介绍的是自己生成的外链&lt;/p&gt;
    
    </summary>
    
    
      <category term="学习" scheme="http://jiahong.cf/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Markdown的基本操作</title>
    <link href="http://jiahong.cf/posts/9be60828.html"/>
    <id>http://jiahong.cf/posts/9be60828.html</id>
    <published>2019-03-27T03:58:02.000Z</published>
    <updated>2020-01-13T08:20:08.420Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><strong><em>markdown基本语法</em></strong></p> <a id="more"></a><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><p>用#表示，一个#表示一级标题，两个#表示二级标题，以此类推，一共六级标题。</p><p>例如下面所示</p><p><img src="/images/myLoading.gif" data-original="https://file.globalupload.io/JJKaiMtClt.png" alt="title"></p><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><ul><li>*+空格 无序列表</li><li>数字+.+空格 有序列表</li></ul><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><pre><code>引用  像这样，操作为j尖括号 &gt; +引用文本即可</code></pre><h2 id="图片与链接"><a href="#图片与链接" class="headerlink" title="图片与链接"></a>图片与链接</h2><p>操作如下图:</p><p><img src="/images/myLoading.gif" data-original="https://cdn.sspai.com/attachment/origin/2014/04/15/69495.jpg" alt="插入图片或者链接"></p><h2 id="粗体与斜体"><a href="#粗体与斜体" class="headerlink" title="粗体与斜体"></a>粗体与斜体</h2><pre><code>用两个*包含一段文字即可使用粗体，**这里是粗体**用一个\*包含一段文字就是斜体，*这里是斜体*</code></pre><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><p>​    表格的创建比较麻烦</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="RUBY"><figure class="iseeu highlight /ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">| Tables        |</span> Are           <span class="params">| Cool  |</span></span><br><span class="line"><span class="params">| ------------- |</span><span class="symbol">:-------------</span><span class="symbol">:|</span> -----<span class="symbol">:|</span></span><br><span class="line"><span class="params">| col 3 is      |</span> right-aligned <span class="params">| $1600 |</span></span><br><span class="line"><span class="params">| col 2 is      |</span> centered      <span class="params">|   $12 |</span></span><br><span class="line"><span class="params">| zebra stripes |</span> are neat      <span class="params">|    $1 |</span></span><br></pre></td></tr></table></figure></div><p>这是普通使用代码来写表格，但是考虑到这样写表格很麻烦，这里推荐一个轻量级编辑器<a href="https://typora.io/" target="_blank" rel="noopener">Typora</a></p><p>下面是编辑器的创建表格操作</p><p><img src="/images/myLoading.gif" data-original="https://file.globalupload.io/uQBWnzMjdi.jpg" alt="表格创建"></p><p>然后就可以看到创建出来的额表格了，如下图，是不是很方便！</p><p><img src="/images/myLoading.gif" data-original="https://file.globalupload.io/A1CzIlLI5y.png" alt="table"></p><h2 id="代码框"><a href="#代码框" class="headerlink" title="代码框"></a>代码框</h2><p>作为一名优雅的程序员，要把代码优雅的放在文章里，那就使用&gt;<code>code</code>吧</p><div class="highlight-wrap"autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="true"data-rel="PYTHON"><figure class="iseeu highlight /python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Select_Sort</span><span class="params">(A,len)</span>:</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len):</span><br><span class="line">key = i</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,len):</span><br><span class="line"><span class="keyword">if</span> A[j] &lt; A[key]:</span><br><span class="line">key = j</span><br><span class="line"><span class="keyword">if</span> key != i:</span><br><span class="line">temp = A[key]</span><br><span class="line">A[key] = A[i]</span><br><span class="line">A[i] = temp</span><br></pre></td></tr></table></figure></div><p>在Typora工具中的段落中亦可找到相应操作</p><h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><p>分割线的语法只需要另起一行，连续输入三个星号 <code>***</code> 即可。</p>        <div id="aplayer-PzVsmXAm" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-PzVsmXAm"),            narrow: false,            autoplay: true,            showlrc: false,            music: {              title: "“国王与乞丐”",              author: "华晨宇",              url: "https://file.globalupload.io/fvBf86IOBS.mp3",              pic: "https://i.kfs.io/album/global/7070089,0v1/fit/500x500.jpg",              lrc: ""            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;&lt;em&gt;markdown基本语法&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="学习" scheme="http://jiahong.cf/tags/%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
</feed>
